function AT(i,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in i)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(i,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function bT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var lm={exports:{}},$l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function sw(){if(pv)return $l;pv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return $l.Fragment=e,$l.jsx=n,$l.jsxs=n,$l}var gv;function aw(){return gv||(gv=1,lm.exports=sw()),lm.exports}var B=aw(),um={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function ow(){if(yv)return Le;yv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,L={};function k(N,te,fe){this.props=N,this.context=te,this.refs=L,this.updater=fe||V}k.prototype.isReactComponent={},k.prototype.setState=function(N,te){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,te,"setState")},k.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ne(){}ne.prototype=k.prototype;function ee(N,te,fe){this.props=N,this.context=te,this.refs=L,this.updater=fe||V}var se=ee.prototype=new ne;se.constructor=ee,q(se,k.prototype),se.isPureReactComponent=!0;var de=Array.isArray,ge={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function D(N,te,fe,ue,Ee,Pe){return fe=Pe.ref,{$$typeof:i,type:N,key:te,ref:fe!==void 0?fe:null,props:Pe}}function w(N,te){return D(N.type,te,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function O(N){var te={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(fe){return te[fe]})}var x=/\/+/g;function P(N,te){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):te.toString(36)}function I(){}function mt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(I,I):(N.status="pending",N.then(function(te){N.status==="pending"&&(N.status="fulfilled",N.value=te)},function(te){N.status==="pending"&&(N.status="rejected",N.reason=te)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function pt(N,te,fe,ue,Ee){var Pe=typeof N;(Pe==="undefined"||Pe==="boolean")&&(N=null);var we=!1;if(N===null)we=!0;else switch(Pe){case"bigint":case"string":case"number":we=!0;break;case"object":switch(N.$$typeof){case i:case e:we=!0;break;case v:return we=N._init,pt(we(N._payload),te,fe,ue,Ee)}}if(we)return Ee=Ee(N),we=ue===""?"."+P(N,0):ue,de(Ee)?(fe="",we!=null&&(fe=we.replace(x,"$&/")+"/"),pt(Ee,te,fe,"",function(ei){return ei})):Ee!=null&&(R(Ee)&&(Ee=w(Ee,fe+(Ee.key==null||N&&N.key===Ee.key?"":(""+Ee.key).replace(x,"$&/")+"/")+we)),te.push(Ee)),1;we=0;var Nt=ue===""?".":ue+":";if(de(N))for(var ut=0;ut<N.length;ut++)ue=N[ut],Pe=Nt+P(ue,ut),we+=pt(ue,te,fe,Pe,Ee);else if(ut=b(N),typeof ut=="function")for(N=ut.call(N),ut=0;!(ue=N.next()).done;)ue=ue.value,Pe=Nt+P(ue,ut++),we+=pt(ue,te,fe,Pe,Ee);else if(Pe==="object"){if(typeof N.then=="function")return pt(mt(N),te,fe,ue,Ee);throw te=String(N),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return we}function $(N,te,fe){if(N==null)return N;var ue=[],Ee=0;return pt(N,ue,"","",function(Pe){return te.call(fe,Pe,Ee++)}),ue}function le(N){if(N._status===-1){var te=N._result;te=te(),te.then(function(fe){(N._status===0||N._status===-1)&&(N._status=1,N._result=fe)},function(fe){(N._status===0||N._status===-1)&&(N._status=2,N._result=fe)}),N._status===-1&&(N._status=0,N._result=te)}if(N._status===1)return N._result.default;throw N._result}var Te=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function He(){}return Le.Children={map:$,forEach:function(N,te,fe){$(N,function(){te.apply(this,arguments)},fe)},count:function(N){var te=0;return $(N,function(){te++}),te},toArray:function(N){return $(N,function(te){return te})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Le.Component=k,Le.Fragment=n,Le.Profiler=o,Le.PureComponent=ee,Le.StrictMode=s,Le.Suspense=p,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ge,Le.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ge.H.useMemoCache(N)}},Le.cache=function(N){return function(){return N.apply(null,arguments)}},Le.cloneElement=function(N,te,fe){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ue=q({},N.props),Ee=N.key,Pe=void 0;if(te!=null)for(we in te.ref!==void 0&&(Pe=void 0),te.key!==void 0&&(Ee=""+te.key),te)!G.call(te,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&te.ref===void 0||(ue[we]=te[we]);var we=arguments.length-2;if(we===1)ue.children=fe;else if(1<we){for(var Nt=Array(we),ut=0;ut<we;ut++)Nt[ut]=arguments[ut+2];ue.children=Nt}return D(N.type,Ee,void 0,void 0,Pe,ue)},Le.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Le.createElement=function(N,te,fe){var ue,Ee={},Pe=null;if(te!=null)for(ue in te.key!==void 0&&(Pe=""+te.key),te)G.call(te,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Ee[ue]=te[ue]);var we=arguments.length-2;if(we===1)Ee.children=fe;else if(1<we){for(var Nt=Array(we),ut=0;ut<we;ut++)Nt[ut]=arguments[ut+2];Ee.children=Nt}if(N&&N.defaultProps)for(ue in we=N.defaultProps,we)Ee[ue]===void 0&&(Ee[ue]=we[ue]);return D(N,Pe,void 0,void 0,null,Ee)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(N){return{$$typeof:m,render:N}},Le.isValidElement=R,Le.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:le}},Le.memo=function(N,te){return{$$typeof:y,type:N,compare:te===void 0?null:te}},Le.startTransition=function(N){var te=ge.T,fe={};ge.T=fe;try{var ue=N(),Ee=ge.S;Ee!==null&&Ee(fe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(He,Te)}catch(Pe){Te(Pe)}finally{ge.T=te}},Le.unstable_useCacheRefresh=function(){return ge.H.useCacheRefresh()},Le.use=function(N){return ge.H.use(N)},Le.useActionState=function(N,te,fe){return ge.H.useActionState(N,te,fe)},Le.useCallback=function(N,te){return ge.H.useCallback(N,te)},Le.useContext=function(N){return ge.H.useContext(N)},Le.useDebugValue=function(){},Le.useDeferredValue=function(N,te){return ge.H.useDeferredValue(N,te)},Le.useEffect=function(N,te,fe){var ue=ge.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(N,te)},Le.useId=function(){return ge.H.useId()},Le.useImperativeHandle=function(N,te,fe){return ge.H.useImperativeHandle(N,te,fe)},Le.useInsertionEffect=function(N,te){return ge.H.useInsertionEffect(N,te)},Le.useLayoutEffect=function(N,te){return ge.H.useLayoutEffect(N,te)},Le.useMemo=function(N,te){return ge.H.useMemo(N,te)},Le.useOptimistic=function(N,te){return ge.H.useOptimistic(N,te)},Le.useReducer=function(N,te,fe){return ge.H.useReducer(N,te,fe)},Le.useRef=function(N){return ge.H.useRef(N)},Le.useState=function(N){return ge.H.useState(N)},Le.useSyncExternalStore=function(N,te,fe){return ge.H.useSyncExternalStore(N,te,fe)},Le.useTransition=function(){return ge.H.useTransition()},Le.version="19.1.0",Le}var _v;function sp(){return _v||(_v=1,um.exports=ow()),um.exports}var ae=sp();const lw=bT(ae),uw=AT({__proto__:null,default:lw},[ae]);var cm={exports:{}},Wl={},hm={exports:{}},fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function cw(){return vv||(vv=1,function(i){function e($,le){var Te=$.length;$.push(le);e:for(;0<Te;){var He=Te-1>>>1,N=$[He];if(0<o(N,le))$[He]=le,$[Te]=N,Te=He;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var le=$[0],Te=$.pop();if(Te!==le){$[0]=Te;e:for(var He=0,N=$.length,te=N>>>1;He<te;){var fe=2*(He+1)-1,ue=$[fe],Ee=fe+1,Pe=$[Ee];if(0>o(ue,Te))Ee<N&&0>o(Pe,ue)?($[He]=Pe,$[Ee]=Te,He=Ee):($[He]=ue,$[fe]=Te,He=fe);else if(Ee<N&&0>o(Pe,Te))$[He]=Pe,$[Ee]=Te,He=Ee;else break e}}return le}function o($,le){var Te=$.sortIndex-le.sortIndex;return Te!==0?Te:$.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],y=[],v=1,A=null,b=3,V=!1,q=!1,L=!1,k=!1,ne=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function de($){for(var le=n(y);le!==null;){if(le.callback===null)s(y);else if(le.startTime<=$)s(y),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(y)}}function ge($){if(L=!1,de($),!q)if(n(p)!==null)q=!0,G||(G=!0,P());else{var le=n(y);le!==null&&pt(ge,le.startTime-$)}}var G=!1,D=-1,w=5,R=-1;function O(){return k?!0:!(i.unstable_now()-R<w)}function x(){if(k=!1,G){var $=i.unstable_now();R=$;var le=!0;try{e:{q=!1,L&&(L=!1,ee(D),D=-1),V=!0;var Te=b;try{t:{for(de($),A=n(p);A!==null&&!(A.expirationTime>$&&O());){var He=A.callback;if(typeof He=="function"){A.callback=null,b=A.priorityLevel;var N=He(A.expirationTime<=$);if($=i.unstable_now(),typeof N=="function"){A.callback=N,de($),le=!0;break t}A===n(p)&&s(p),de($)}else s(p);A=n(p)}if(A!==null)le=!0;else{var te=n(y);te!==null&&pt(ge,te.startTime-$),le=!1}}break e}finally{A=null,b=Te,V=!1}le=void 0}}finally{le?P():G=!1}}}var P;if(typeof se=="function")P=function(){se(x)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,mt=I.port2;I.port1.onmessage=x,P=function(){mt.postMessage(null)}}else P=function(){ne(x,0)};function pt($,le){D=ne(function(){$(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function($){switch(b){case 1:case 2:case 3:var le=3;break;default:le=b}var Te=b;b=le;try{return $()}finally{b=Te}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function($,le){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Te=b;b=$;try{return le()}finally{b=Te}},i.unstable_scheduleCallback=function($,le,Te){var He=i.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?He+Te:He):Te=He,$){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=Te+N,$={id:v++,callback:le,priorityLevel:$,startTime:Te,expirationTime:N,sortIndex:-1},Te>He?($.sortIndex=Te,e(y,$),n(p)===null&&$===n(y)&&(L?(ee(D),D=-1):L=!0,pt(ge,Te-He))):($.sortIndex=N,e(p,$),q||V||(q=!0,G||(G=!0,P()))),$},i.unstable_shouldYield=O,i.unstable_wrapCallback=function($){var le=b;return function(){var Te=b;b=le;try{return $.apply(this,arguments)}finally{b=Te}}}}(fm)),fm}var Ev;function hw(){return Ev||(Ev=1,hm.exports=cw()),hm.exports}var dm={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function fw(){if(Tv)return An;Tv=1;var i=sp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:y,implementation:v}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,An.createPortal=function(p,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,v)},An.flushSync=function(p){var y=f.T,v=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=v,s.d.f()}},An.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},An.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},An.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var v=y.as,A=m(v,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:b,fetchPriority:V}):v==="script"&&s.d.X(p,{crossOrigin:A,integrity:b,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},An.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},An.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,A=m(v,y.crossOrigin);s.d.L(p,v,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},An.preloadModule=function(p,y){if(typeof p=="string")if(y){var v=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},An.requestFormReset=function(p){s.d.r(p)},An.unstable_batchedUpdates=function(p,y){return p(y)},An.useFormState=function(p,y,v){return f.H.useFormState(p,y,v)},An.useFormStatus=function(){return f.H.useHostTransitionStatus()},An.version="19.1.0",An}var Sv;function wT(){if(Sv)return dm.exports;Sv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),dm.exports=fw(),dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function dw(){if(Av)return Wl;Av=1;var i=hw(),e=sp(),n=wT();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,T=h.child;T;){if(T===a){E=!0,a=h,l=d;break}if(T===l){E=!0,l=h,a=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===a){E=!0,a=d,l=h;break}if(T===l){E=!0,l=d,a=h;break}T=T.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function y(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=y(t),r!==null)return r;t=t.sibling}return null}var v=Object.assign,A=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),se=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function mt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case k:return"Profiler";case L:return"StrictMode";case ge:return"Suspense";case G:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case V:return"Portal";case se:return(t.displayName||"Context")+".Provider";case ee:return(t._context.displayName||"Context")+".Consumer";case de:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return r=t.displayName||null,r!==null?r:mt(t.type)||"Memo";case w:r=t._payload,t=t._init;try{return mt(t(r))}catch{}}return null}var pt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},He=[],N=-1;function te(t){return{current:t}}function fe(t){0>N||(t.current=He[N],He[N]=null,N--)}function ue(t,r){N++,He[N]=t.current,t.current=r}var Ee=te(null),Pe=te(null),we=te(null),Nt=te(null);function ut(t,r){switch(ue(we,r),ue(Pe,t),ue(Ee,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?q_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=q_(r),t=F_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}fe(Ee),ue(Ee,t)}function ei(){fe(Ee),fe(Pe),fe(we)}function Ci(t){t.memoizedState!==null&&ue(Nt,t);var r=Ee.current,a=F_(r,t.type);r!==a&&(ue(Pe,t),ue(Ee,a))}function Rt(t){Pe.current===t&&(fe(Ee),fe(Pe)),Nt.current===t&&(fe(Nt),Gl._currentValue=Te)}var Bn=Object.prototype.hasOwnProperty,Di=i.unstable_scheduleCallback,or=i.unstable_cancelCallback,Hn=i.unstable_shouldYield,Ma=i.unstable_requestPaint,Pn=i.unstable_now,Wo=i.unstable_getCurrentPriorityLevel,ks=i.unstable_ImmediatePriority,zr=i.unstable_UserBlockingPriority,qn=i.unstable_NormalPriority,Pa=i.unstable_LowPriority,Ni=i.unstable_IdlePriority,Vn=i.log,Oi=i.unstable_setDisableYieldValue,Et=null,Xe=null;function Cn(t){if(typeof Vn=="function"&&Oi(t),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(Et,t)}catch{}}var Tt=Math.clz32?Math.clz32:xi,Us=Math.log,Va=Math.LN2;function xi(t){return t>>>=0,t===0?32:31-(Us(t)/Va|0)|0}var lr=256,Mi=4194304;function Tn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ur(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Tn(l):(E&=T,E!==0?h=Tn(E):a||(a=T&~t,a!==0&&(h=Tn(a))))):(T=l&~d,T!==0?h=Tn(T):E!==0?h=Tn(E):a||(a=l&~t,a!==0&&(h=Tn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function yi(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Ls(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Br(){var t=lr;return lr<<=1,(lr&4194048)===0&&(lr=256),t}function js(){var t=Mi;return Mi<<=1,(Mi&62914560)===0&&(Mi=4194304),t}function ti(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function _i(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function j(t,r,a,l,h,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,F=t.hiddenUpdates;for(a=E&~a;0<a;){var W=31-Tt(a),ie=1<<W;T[W]=0,C[W]=-1;var Y=F[W];if(Y!==null)for(F[W]=null,W=0;W<Y.length;W++){var Q=Y[W];Q!==null&&(Q.lane&=-536870913)}a&=~ie}l!==0&&K(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~r))}function K(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Tt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Z(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Tt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function ce(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function _e(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Me(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:uv(t.type))}function Ie(t,r){var a=le.p;try{return le.p=t,r()}finally{le.p=a}}var me=Math.random().toString(36).slice(2),pe="__reactFiber$"+me,be="__reactProps$"+me,nt="__reactContainer$"+me,Ve="__reactEvents$"+me,rt="__reactListeners$"+me,yt="__reactHandles$"+me,tn="__reactResources$"+me,_t="__reactMarker$"+me;function Dn(t){delete t[pe],delete t[be],delete t[Ve],delete t[rt],delete t[yt]}function Fn(t){var r=t[pe];if(r)return r;for(var a=t.parentNode;a;){if(r=a[nt]||a[pe]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Q_(t);t!==null;){if(a=t[pe])return a;t=Q_(t)}return r}t=a,a=t.parentNode}return null}function hn(t){if(t=t[pe]||t[nt]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Yt(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function It(t){var r=t[tn];return r||(r=t[tn]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function St(t){t[_t]=!0}var vi=new Set,Pi={};function nn(t,r){kn(t,r),kn(t+"Capture",r)}function kn(t,r){for(Pi[t]=r,t=0;t<r.length;t++)vi.add(r[t])}var Ge=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),et={},Ot={};function cr(t){return Bn.call(Ot,t)?!0:Bn.call(et,t)?!1:Ge.test(t)?Ot[t]=!0:(et[t]=!0,!1)}function Vi(t,r,a){if(cr(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ki(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function fn(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var zs,ju;function hr(t){if(zs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);zs=r&&r[1]||"",ju=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zs+t+ju}var ka=!1;function Ua(t,r){if(!t||ka)return"";ka=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Q){var Y=Q}Reflect.construct(t,[],ie)}else{try{ie.call()}catch(Q){Y=Q}t.call(ie.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(ie=t())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var C=E.split(`
`),F=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===F.length)for(l=C.length-1,h=F.length-1;1<=l&&0<=h&&C[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==F[h]){var W=`
`+C[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{ka=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?hr(a):""}function Zo(t){switch(t.tag){case 26:case 27:case 5:return hr(t.type);case 16:return hr("Lazy");case 13:return hr("Suspense");case 19:return hr("SuspenseList");case 0:case 15:return Ua(t.type,!1);case 11:return Ua(t.type.render,!1);case 1:return Ua(t.type,!0);case 31:return hr("Activity");default:return""}}function La(t){try{var r="";do r+=Zo(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ff(t){var r=Jo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ja(t){t._valueTracker||(t._valueTracker=ff(t))}function el(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Jo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Bs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var df=/[\n"\\]/g;function Bt(t){return t.replace(df,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Gn(t,r,a,l,h,d,E,T){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Nn(r)):t.value!==""+Nn(r)&&(t.value=""+Nn(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?Hr(t,E,Nn(r)):a!=null?Hr(t,E,Nn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Nn(T):t.removeAttribute("name")}function Hs(t,r,a,l,h,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+Nn(a):"",r=r!=null?""+Nn(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Hr(t,r,a){r==="number"&&Bs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function fr(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Nn(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function ct(t,r,a){if(r!=null&&(r=""+Nn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Nn(a):""}function qs(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(pt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Nn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function ni(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Fs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Fs.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function tl(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&zu(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&zu(t,d,r[d])}function nl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(t){return pf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var dr=null;function ii(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mr=null,pr=null;function il(t){var r=hn(t);if(r&&(t=r.stateNode)){var a=t[be]||null;e:switch(t=r.stateNode,r.type){case"input":if(Gn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Bt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[be]||null;if(!h)throw Error(s(90));Gn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&el(l)}break e;case"textarea":ct(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&fr(t,!!a.multiple,r,!1)}}}var Ui=!1;function Bu(t,r,a){if(Ui)return t(r,a);Ui=!0;try{var l=t(r);return l}finally{if(Ui=!1,(mr!==null||pr!==null)&&(Pc(),mr&&(r=mr,t=pr,pr=mr=null,il(r),t)))for(r=0;r<t.length;r++)il(t[r])}}function Gs(t,r){var a=t.stateNode;if(a===null)return null;var l=a[be]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ri=!1;if(Ei)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){ri=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{ri=!1}var Li=null,qr=null,gr=null;function rl(){if(gr)return gr;var t,r=qr,a=r.length,l,h="value"in Li?Li.value:Li.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&r[a-l]===h[d-l];l++);return gr=h.slice(t,1<l?1-l:void 0)}function ji(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function zi(){return!0}function sl(){return!1}function rn(t){function r(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?zi:sl,this.isPropagationStopped=sl,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),r}var st={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=rn(st),Ys=v({},st,{view:0,detail:0}),Hu=rn(Ys),Ha,qa,Bi,Qs=v({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bi&&(Bi&&t.type==="mousemove"?(Ha=t.screenX-Bi.screenX,qa=t.screenY-Bi.screenY):qa=Ha=0,Bi=t),Ha)},movementY:function(t){return"movementY"in t?t.movementY:qa}}),si=rn(Qs),qu=v({},Qs,{dataTransfer:0}),gf=rn(qu),Xs=v({},Ys,{relatedTarget:0}),Fa=rn(Xs),al=v({},st,{animationName:0,elapsedTime:0,pseudoElement:0}),Ga=rn(al),Fu=v({},st,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ka=rn(Fu),yf=v({},st,{data:0}),ol=rn(yf),$s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ll(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ku[t])?!!r[t]:!1}function Ws(){return ll}var Yu=v({},Ys,{key:function(t){if(t.key){var r=$s[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ji(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(t){return t.type==="keypress"?ji(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ji(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ya=rn(Yu),Qu=v({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ul=rn(Qu),yr=v({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),Xu=rn(yr),$u=v({},st,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wu=rn($u),Zu=v({},Qs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Qa=rn(Zu),On=v({},st,{newState:0,oldState:0}),Ju=rn(On),ec=[9,13,27,32],Hi=Ei&&"CompositionEvent"in window,c=null;Ei&&"documentMode"in document&&(c=document.documentMode);var g=Ei&&"TextEvent"in window&&!c,_=Ei&&(!Hi||c&&8<c&&11>=c),S=" ",z=!1;function X(t,r){switch(t){case"keyup":return ec.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $e=!1;function Qt(t,r){switch(t){case"compositionend":return he(r);case"keypress":return r.which!==32?null:(z=!0,S);case"textInput":return t=r.data,t===S&&z?null:t;default:return null}}function We(t,r){if($e)return t==="compositionend"||!Hi&&X(t,r)?(t=rl(),gr=qr=Li=null,$e=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var sn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!sn[t.type]:r==="textarea"}function _r(t,r,a,l){mr?pr?pr.push(l):pr=[l]:mr=l,r=zc(r,"onChange"),0<r.length&&(a=new Ba("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var dn=null,qi=null;function cl(t){L_(t,0)}function tc(t){var r=Yt(t);if(el(r))return t}function sg(t,r){if(t==="change")return r}var ag=!1;if(Ei){var _f;if(Ei){var vf="oninput"in document;if(!vf){var og=document.createElement("div");og.setAttribute("oninput","return;"),vf=typeof og.oninput=="function"}_f=vf}else _f=!1;ag=_f&&(!document.documentMode||9<document.documentMode)}function lg(){dn&&(dn.detachEvent("onpropertychange",ug),qi=dn=null)}function ug(t){if(t.propertyName==="value"&&tc(qi)){var r=[];_r(r,qi,t,ii(t)),Bu(cl,r)}}function VA(t,r,a){t==="focusin"?(lg(),dn=r,qi=a,dn.attachEvent("onpropertychange",ug)):t==="focusout"&&lg()}function kA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tc(qi)}function UA(t,r){if(t==="click")return tc(r)}function LA(t,r){if(t==="input"||t==="change")return tc(r)}function jA(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Kn=typeof Object.is=="function"?Object.is:jA;function hl(t,r){if(Kn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Bn.call(r,h)||!Kn(t[h],r[h]))return!1}return!0}function cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hg(t,r){var a=cg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cg(a)}}function fg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?fg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Bs(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Bs(t.document)}return r}function Ef(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var zA=Ei&&"documentMode"in document&&11>=document.documentMode,Xa=null,Tf=null,fl=null,Sf=!1;function mg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sf||Xa==null||Xa!==Bs(l)||(l=Xa,"selectionStart"in l&&Ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&hl(fl,l)||(fl=l,l=zc(Tf,"onSelect"),0<l.length&&(r=new Ba("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Xa)))}function Zs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var $a={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},Af={},pg={};Ei&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Js(t){if(Af[t])return Af[t];if(!$a[t])return t;var r=$a[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in pg)return Af[t]=r[a];return t}var gg=Js("animationend"),yg=Js("animationiteration"),_g=Js("animationstart"),BA=Js("transitionrun"),HA=Js("transitionstart"),qA=Js("transitioncancel"),vg=Js("transitionend"),Eg=new Map,bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bf.push("scrollEnd");function Ti(t,r){Eg.set(t,r),nn(r,[t])}var Tg=new WeakMap;function ai(t,r){if(typeof t=="object"&&t!==null){var a=Tg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:La(r)},Tg.set(t,r),r)}return{value:t,source:r,stack:La(r)}}var oi=[],Wa=0,wf=0;function nc(){for(var t=Wa,r=wf=Wa=0;r<t;){var a=oi[r];oi[r++]=null;var l=oi[r];oi[r++]=null;var h=oi[r];oi[r++]=null;var d=oi[r];if(oi[r++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&Sg(a,h,d)}}function ic(t,r,a,l){oi[Wa++]=t,oi[Wa++]=r,oi[Wa++]=a,oi[Wa++]=l,wf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Rf(t,r,a,l){return ic(t,r,a,l),rc(t)}function Za(t,r){return ic(t,null,null,r),rc(t)}function Sg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Tt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function rc(t){if(50<Ul)throw Ul=0,xd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ja={};function FA(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(t,r,a,l){return new FA(t,r,a,l)}function If(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vr(t,r){var a=t.alternate;return a===null?(a=Yn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ag(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function sc(t,r,a,l,h,d){var E=0;if(l=t,typeof t=="function")If(t)&&(E=1);else if(typeof t=="string")E=Kb(t,a,Ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Yn(31,a,r,h),t.elementType=R,t.lanes=d,t;case q:return ea(a.children,h,d,r);case L:E=8,h|=24;break;case k:return t=Yn(12,a,r,h|2),t.elementType=k,t.lanes=d,t;case ge:return t=Yn(13,a,r,h),t.elementType=ge,t.lanes=d,t;case G:return t=Yn(19,a,r,h),t.elementType=G,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:case se:E=10;break e;case ee:E=9;break e;case de:E=11;break e;case D:E=14;break e;case w:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Yn(E,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function ea(t,r,a,l){return t=Yn(7,t,l,r),t.lanes=a,t}function Cf(t,r,a){return t=Yn(6,t,null,r),t.lanes=a,t}function Df(t,r,a){return r=Yn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var eo=[],to=0,ac=null,oc=0,li=[],ui=0,ta=null,Er=1,Tr="";function na(t,r){eo[to++]=oc,eo[to++]=ac,ac=t,oc=r}function bg(t,r,a){li[ui++]=Er,li[ui++]=Tr,li[ui++]=ta,ta=t;var l=Er;t=Tr;var h=32-Tt(l)-1;l&=~(1<<h),a+=1;var d=32-Tt(r)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Er=1<<32-Tt(r)+h|a<<h|l,Tr=d+t}else Er=1<<d|a<<h|l,Tr=t}function Nf(t){t.return!==null&&(na(t,1),bg(t,1,0))}function Of(t){for(;t===ac;)ac=eo[--to],eo[to]=null,oc=eo[--to],eo[to]=null;for(;t===ta;)ta=li[--ui],li[ui]=null,Tr=li[--ui],li[ui]=null,Er=li[--ui],li[ui]=null}var xn=null,xt=null,it=!1,ia=null,Fi=!1,xf=Error(s(519));function ra(t){var r=Error(s(418,""));throw pl(ai(r,t)),xf}function wg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[pe]=t,r[be]=l,a){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(a=0;a<jl.length;a++)Fe(jl[a],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Fe("invalid",r),Hs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ja(r);break;case"select":Fe("invalid",r);break;case"textarea":Fe("invalid",r),qs(r,l.value,l.defaultValue,l.children),ja(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||H_(r.textContent,a)?(l.popover!=null&&(Fe("beforetoggle",r),Fe("toggle",r)),l.onScroll!=null&&Fe("scroll",r),l.onScrollEnd!=null&&Fe("scrollend",r),l.onClick!=null&&(r.onclick=Bc),r=!0):r=!1,r||ra(t)}function Rg(t){for(xn=t.return;xn;)switch(xn.tag){case 5:case 13:Fi=!1;return;case 27:case 3:Fi=!0;return;default:xn=xn.return}}function dl(t){if(t!==xn)return!1;if(!it)return Rg(t),it=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Qd(t.type,t.memoizedProps)),a=!a),a&&xt&&ra(t),Rg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){xt=Ai(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}xt=null}}else r===27?(r=xt,ss(t.type)?(t=Zd,Zd=null,xt=t):xt=r):xt=xn?Ai(t.stateNode.nextSibling):null;return!0}function ml(){xt=xn=null,it=!1}function Ig(){var t=ia;return t!==null&&(jn===null?jn=t:jn.push.apply(jn,t),ia=null),t}function pl(t){ia===null?ia=[t]:ia.push(t)}var Mf=te(null),sa=null,Sr=null;function Fr(t,r,a){ue(Mf,r._currentValue),r._currentValue=a}function Ar(t){t._currentValue=Mf.current,fe(Mf)}function Pf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Vf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<r.length;C++)if(T.context===r[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Pf(d.return,a,t),l||(E=null);break e}d=T.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Pf(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function gl(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=h.type;Kn(h.pendingProps.value,E.value)||(t!==null?t.push(T):t=[T])}}else if(h===Nt.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Gl):t=[Gl])}h=h.return}t!==null&&Vf(r,t,a,l),r.flags|=262144}function lc(t){for(t=t.firstContext;t!==null;){if(!Kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function aa(t){sa=t,Sr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Sn(t){return Cg(sa,t)}function uc(t,r){return sa===null&&aa(t),Cg(t,r)}function Cg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Sr===null){if(t===null)throw Error(s(308));Sr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Sr=Sr.next=r;return a}var GA=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},KA=i.unstable_scheduleCallback,YA=i.unstable_NormalPriority,$t={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new GA,data:new Map,refCount:0}}function yl(t){t.refCount--,t.refCount===0&&KA(YA,function(){t.controller.abort()})}var _l=null,Uf=0,no=0,io=null;function QA(t,r){if(_l===null){var a=_l=[];Uf=0,no=jd(),io={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Uf++,r.then(Dg,Dg),r}function Dg(){if(--Uf===0&&_l!==null){io!==null&&(io.status="fulfilled");var t=_l;_l=null,no=0,io=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function XA(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ng=$.S;$.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&QA(t,r),Ng!==null&&Ng(t,r)};var oa=te(null);function Lf(){var t=oa.current;return t!==null?t:vt.pooledCache}function cc(t,r){r===null?ue(oa,oa.current):ue(oa,r.pool)}function Og(){var t=Lf();return t===null?null:{parent:$t._currentValue,pool:t}}var vl=Error(s(460)),xg=Error(s(474)),hc=Error(s(542)),jf={then:function(){}};function Mg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function fc(){}function Pg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(fc,fc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,kg(t),t;default:if(typeof r.status=="string")r.then(fc,fc);else{if(t=vt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,kg(t),t}throw El=r,vl}}var El=null;function Vg(){if(El===null)throw Error(s(459));var t=El;return El=null,t}function kg(t){if(t===vl||t===hc)throw Error(s(483))}var Gr=!1;function zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Kr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Yr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ot&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=rc(t),Sg(t,null,a),r}return ic(t,l,r,a),rc(t)}function Tl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Z(t,a)}}function Hf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var qf=!1;function Sl(){if(qf){var t=io;if(t!==null)throw t}}function Al(t,r,a,l){qf=!1;var h=t.updateQueue;Gr=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,F=C.next;C.next=null,E===null?d=F:E.next=F,E=C;var W=t.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==E&&(T===null?W.firstBaseUpdate=F:T.next=F,W.lastBaseUpdate=C))}if(d!==null){var ie=h.baseState;E=0,W=F=C=null,T=d;do{var Y=T.lane&-536870913,Q=Y!==T.lane;if(Q?(Ze&Y)===Y:(l&Y)===Y){Y!==0&&Y===no&&(qf=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var xe=t,Ce=T;Y=r;var dt=a;switch(Ce.tag){case 1:if(xe=Ce.payload,typeof xe=="function"){ie=xe.call(dt,ie,Y);break e}ie=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ce.payload,Y=typeof xe=="function"?xe.call(dt,ie,Y):xe,Y==null)break e;ie=v({},ie,Y);break e;case 2:Gr=!0}}Y=T.callback,Y!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(F=W=Q,C=ie):W=W.next=Q,E|=Y;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);W===null&&(C=ie),h.baseState=C,h.firstBaseUpdate=F,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),ts|=E,t.lanes=E,t.memoizedState=ie}}function Ug(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Lg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ug(a[t],r)}var ro=te(null),dc=te(0);function jg(t,r){t=Nr,ue(dc,t),ue(ro,r),Nr=t|r.baseLanes}function Ff(){ue(dc,Nr),ue(ro,ro.current)}function Gf(){Nr=dc.current,fe(ro),fe(dc)}var Qr=0,je=null,ht=null,Ht=null,mc=!1,so=!1,la=!1,pc=0,bl=0,ao=null,$A=0;function Lt(){throw Error(s(321))}function Kf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Kn(t[a],r[a]))return!1;return!0}function Yf(t,r,a,l,h,d){return Qr=d,je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=t===null||t.memoizedState===null?Sy:Ay,la=!1,d=a(l,h),la=!1,so&&(d=Bg(r,a,l,h)),zg(t),d}function zg(t){$.H=Tc;var r=ht!==null&&ht.next!==null;if(Qr=0,Ht=ht=je=null,mc=!1,bl=0,ao=null,r)throw Error(s(300));t===null||an||(t=t.dependencies,t!==null&&lc(t)&&(an=!0))}function Bg(t,r,a,l){je=t;var h=0;do{if(so&&(ao=null),bl=0,so=!1,25<=h)throw Error(s(301));if(h+=1,Ht=ht=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=ib,d=r(a,l)}while(so);return d}function WA(){var t=$.H,r=t.useState()[0];return r=typeof r.then=="function"?wl(r):r,t=t.useState()[0],(ht!==null?ht.memoizedState:null)!==t&&(je.flags|=1024),r}function Qf(){var t=pc!==0;return pc=0,t}function Xf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function $f(t){if(mc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}mc=!1}Qr=0,Ht=ht=je=null,so=!1,bl=pc=0,ao=null}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?je.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function qt(){if(ht===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var r=Ht===null?je.memoizedState:Ht.next;if(r!==null)Ht=r,ht=t;else{if(t===null)throw je.alternate===null?Error(s(467)):Error(s(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Ht===null?je.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function Wf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(t){var r=bl;return bl+=1,ao===null&&(ao=[]),t=Pg(ao,t,r),r=je,(Ht===null?r.memoizedState:Ht.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?Sy:Ay),t}function gc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wl(t);if(t.$$typeof===se)return Sn(t)}throw Error(s(438,String(t)))}function Zf(t){var r=null,a=je.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Wf(),je.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=O;return r.index++,a}function br(t,r){return typeof r=="function"?r(t):r}function yc(t){var r=qt();return Jf(r,ht,t)}function Jf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=E=null,C=null,F=r,W=!1;do{var ie=F.lane&-536870913;if(ie!==F.lane?(Ze&ie)===ie:(Qr&ie)===ie){var Y=F.revertLane;if(Y===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ie===no&&(W=!0);else if((Qr&Y)===Y){F=F.next,Y===no&&(W=!0);continue}else ie={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},C===null?(T=C=ie,E=d):C=C.next=ie,je.lanes|=Y,ts|=Y;ie=F.action,la&&a(d,ie),d=F.hasEagerState?F.eagerState:a(d,ie)}else Y={lane:ie,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},C===null?(T=C=Y,E=d):C=C.next=Y,je.lanes|=ie,ts|=ie;F=F.next}while(F!==null&&F!==r);if(C===null?E=d:C.next=T,!Kn(d,t.memoizedState)&&(an=!0,W&&(a=io,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ed(t){var r=qt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);Kn(d,r.memoizedState)||(an=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Hg(t,r,a){var l=je,h=qt(),d=it;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!Kn((ht||h).memoizedState,a);E&&(h.memoizedState=a,an=!0),h=h.queue;var T=Gg.bind(null,l,h,t);if(Rl(2048,8,T,[t]),h.getSnapshot!==r||E||Ht!==null&&Ht.memoizedState.tag&1){if(l.flags|=2048,oo(9,_c(),Fg.bind(null,l,h,a,r),null),vt===null)throw Error(s(349));d||(Qr&124)!==0||qg(l,r,a)}return a}function qg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=je.updateQueue,r===null?(r=Wf(),je.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Fg(t,r,a,l){r.value=a,r.getSnapshot=l,Kg(r)&&Yg(t)}function Gg(t,r,a){return a(function(){Kg(r)&&Yg(t)})}function Kg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Kn(t,a)}catch{return!0}}function Yg(t){var r=Za(t,2);r!==null&&Zn(r,t,2)}function td(t){var r=Un();if(typeof t=="function"){var a=t;if(t=a(),la){Cn(!0);try{a()}finally{Cn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:t},r}function Qg(t,r,a,l){return t.baseState=a,Jf(t,ht,typeof l=="function"?l:br)}function ZA(t,r,a,l,h){if(Ec(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Xg(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Xg(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=$.T,E={};$.T=E;try{var T=a(h,l),C=$.S;C!==null&&C(E,T),$g(t,r,T)}catch(F){nd(t,r,F)}finally{$.T=d}}else try{d=a(h,l),$g(t,r,d)}catch(F){nd(t,r,F)}}function $g(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wg(t,r,l)},function(l){return nd(t,r,l)}):Wg(t,r,a)}function Wg(t,r,a){r.status="fulfilled",r.value=a,Zg(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Xg(t,a)))}function nd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Zg(r),r=r.next;while(r!==l)}t.action=null}function Zg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Jg(t,r){return r}function ey(t,r){if(it){var a=vt.formState;if(a!==null){e:{var l=je;if(it){if(xt){t:{for(var h=xt,d=Fi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ai(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){xt=Ai(h.nextSibling),l=h.data==="F!";break e}}ra(l)}l=!1}l&&(r=a[0])}}return a=Un(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jg,lastRenderedState:r},a.queue=l,a=vy.bind(null,je,l),l.dispatch=a,l=td(!1),d=od.bind(null,je,!1,l.queue),l=Un(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=ZA.bind(null,je,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function ty(t){var r=qt();return ny(r,ht,t)}function ny(t,r,a){if(r=Jf(t,r,Jg)[0],t=yc(br)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=wl(r)}catch(E){throw E===vl?hc:E}else l=r;r=qt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(je.flags|=2048,oo(9,_c(),JA.bind(null,h,a),null)),[l,d,t]}function JA(t,r){t.action=r}function iy(t){var r=qt(),a=ht;if(a!==null)return ny(r,a,t);qt(),r=r.memoizedState,a=qt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function oo(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=je.updateQueue,r===null&&(r=Wf(),je.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function _c(){return{destroy:void 0,resource:void 0}}function ry(){return qt().memoizedState}function vc(t,r,a,l){var h=Un();l=l===void 0?null:l,je.flags|=t,h.memoizedState=oo(1|r,_c(),a,l)}function Rl(t,r,a,l){var h=qt();l=l===void 0?null:l;var d=h.memoizedState.inst;ht!==null&&l!==null&&Kf(l,ht.memoizedState.deps)?h.memoizedState=oo(r,d,a,l):(je.flags|=t,h.memoizedState=oo(1|r,d,a,l))}function sy(t,r){vc(8390656,8,t,r)}function ay(t,r){Rl(2048,8,t,r)}function oy(t,r){return Rl(4,2,t,r)}function ly(t,r){return Rl(4,4,t,r)}function uy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function cy(t,r,a){a=a!=null?a.concat([t]):null,Rl(4,4,uy.bind(null,r,t),a)}function id(){}function hy(t,r){var a=qt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Kf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function fy(t,r){var a=qt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Kf(r,l[1]))return l[0];if(l=t(),la){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,r],l}function rd(t,r,a){return a===void 0||(Qr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=p_(),je.lanes|=t,ts|=t,a)}function dy(t,r,a,l){return Kn(a,r)?a:ro.current!==null?(t=rd(t,a,l),Kn(t,r)||(an=!0),t):(Qr&42)===0?(an=!0,t.memoizedState=a):(t=p_(),je.lanes|=t,ts|=t,r)}function my(t,r,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var E=$.T,T={};$.T=T,od(t,!1,r,a);try{var C=h(),F=$.S;if(F!==null&&F(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var W=XA(C,l);Il(t,r,W,Wn(t))}else Il(t,r,l,Wn(t))}catch(ie){Il(t,r,{then:function(){},status:"rejected",reason:ie},Wn())}finally{le.p=d,$.T=E}}function eb(){}function sd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=py(t).queue;my(t,h,r,Te,a===null?eb:function(){return gy(t),a(l)})}function py(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:Te},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function gy(t){var r=py(t).next.queue;Il(t,r,{},Wn())}function ad(){return Sn(Gl)}function yy(){return qt().memoizedState}function _y(){return qt().memoizedState}function tb(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Wn();t=Kr(a);var l=Yr(r,t,a);l!==null&&(Zn(l,r,a),Tl(l,r,a)),r={cache:kf()},t.payload=r;return}r=r.return}}function nb(t,r,a){var l=Wn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ec(t)?Ey(r,a):(a=Rf(t,r,a,l),a!==null&&(Zn(a,t,l),Ty(a,r,l)))}function vy(t,r,a){var l=Wn();Il(t,r,a,l)}function Il(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ec(t))Ey(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,T=d(E,a);if(h.hasEagerState=!0,h.eagerState=T,Kn(T,E))return ic(t,r,h,0),vt===null&&nc(),!1}catch{}finally{}if(a=Rf(t,r,h,l),a!==null)return Zn(a,t,l),Ty(a,r,l),!0}return!1}function od(t,r,a,l){if(l={lane:2,revertLane:jd(),action:l,hasEagerState:!1,eagerState:null,next:null},Ec(t)){if(r)throw Error(s(479))}else r=Rf(t,a,l,2),r!==null&&Zn(r,t,2)}function Ec(t){var r=t.alternate;return t===je||r!==null&&r===je}function Ey(t,r){so=mc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Ty(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Z(t,a)}}var Tc={readContext:Sn,use:gc,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt},Sy={readContext:Sn,use:gc,useCallback:function(t,r){return Un().memoizedState=[t,r===void 0?null:r],t},useContext:Sn,useEffect:sy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,vc(4194308,4,uy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return vc(4194308,4,t,r)},useInsertionEffect:function(t,r){vc(4,2,t,r)},useMemo:function(t,r){var a=Un();r=r===void 0?null:r;var l=t();if(la){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=Un();if(a!==void 0){var h=a(r);if(la){Cn(!0);try{a(r)}finally{Cn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=nb.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var r=Un();return t={current:t},r.memoizedState=t},useState:function(t){t=td(t);var r=t.queue,a=vy.bind(null,je,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:id,useDeferredValue:function(t,r){var a=Un();return rd(a,t,r)},useTransition:function(){var t=td(!1);return t=my.bind(null,je,t.queue,!0,!1),Un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=je,h=Un();if(it){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),vt===null)throw Error(s(349));(Ze&124)!==0||qg(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,sy(Gg.bind(null,l,d,t),[t]),l.flags|=2048,oo(9,_c(),Fg.bind(null,l,d,a,r),null),a},useId:function(){var t=Un(),r=vt.identifierPrefix;if(it){var a=Tr,l=Er;a=(l&~(1<<32-Tt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=pc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=$A++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:ad,useFormState:ey,useActionState:ey,useOptimistic:function(t){var r=Un();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=od.bind(null,je,!0,a),a.dispatch=r,[t,r]},useMemoCache:Zf,useCacheRefresh:function(){return Un().memoizedState=tb.bind(null,je)}},Ay={readContext:Sn,use:gc,useCallback:hy,useContext:Sn,useEffect:ay,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:fy,useReducer:yc,useRef:ry,useState:function(){return yc(br)},useDebugValue:id,useDeferredValue:function(t,r){var a=qt();return dy(a,ht.memoizedState,t,r)},useTransition:function(){var t=yc(br)[0],r=qt().memoizedState;return[typeof t=="boolean"?t:wl(t),r]},useSyncExternalStore:Hg,useId:yy,useHostTransitionStatus:ad,useFormState:ty,useActionState:ty,useOptimistic:function(t,r){var a=qt();return Qg(a,ht,t,r)},useMemoCache:Zf,useCacheRefresh:_y},ib={readContext:Sn,use:gc,useCallback:hy,useContext:Sn,useEffect:ay,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:fy,useReducer:ed,useRef:ry,useState:function(){return ed(br)},useDebugValue:id,useDeferredValue:function(t,r){var a=qt();return ht===null?rd(a,t,r):dy(a,ht.memoizedState,t,r)},useTransition:function(){var t=ed(br)[0],r=qt().memoizedState;return[typeof t=="boolean"?t:wl(t),r]},useSyncExternalStore:Hg,useId:yy,useHostTransitionStatus:ad,useFormState:iy,useActionState:iy,useOptimistic:function(t,r){var a=qt();return ht!==null?Qg(a,ht,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:_y},lo=null,Cl=0;function Sc(t){var r=Cl;return Cl+=1,lo===null&&(lo=[]),Pg(lo,t,r)}function Dl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Ac(t,r){throw r.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function by(t){var r=t._init;return r(t._payload)}function wy(t){function r(U,M){if(t){var H=U.deletions;H===null?(U.deletions=[M],U.flags|=16):H.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)r(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=vr(U,M),U.index=0,U.sibling=null,U}function d(U,M,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<M?(U.flags|=67108866,M):H):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function E(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,M,H,J){return M===null||M.tag!==6?(M=Cf(H,U.mode,J),M.return=U,M):(M=h(M,H),M.return=U,M)}function C(U,M,H,J){var ve=H.type;return ve===q?W(U,M,H.props.children,J,H.key):M!==null&&(M.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===w&&by(ve)===M.type)?(M=h(M,H.props),Dl(M,H),M.return=U,M):(M=sc(H.type,H.key,H.props,null,U.mode,J),Dl(M,H),M.return=U,M)}function F(U,M,H,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=Df(H,U.mode,J),M.return=U,M):(M=h(M,H.children||[]),M.return=U,M)}function W(U,M,H,J,ve){return M===null||M.tag!==7?(M=ea(H,U.mode,J,ve),M.return=U,M):(M=h(M,H),M.return=U,M)}function ie(U,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Cf(""+M,U.mode,H),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return H=sc(M.type,M.key,M.props,null,U.mode,H),Dl(H,M),H.return=U,H;case V:return M=Df(M,U.mode,H),M.return=U,M;case w:var J=M._init;return M=J(M._payload),ie(U,M,H)}if(pt(M)||P(M))return M=ea(M,U.mode,H,null),M.return=U,M;if(typeof M.then=="function")return ie(U,Sc(M),H);if(M.$$typeof===se)return ie(U,uc(U,M),H);Ac(U,M)}return null}function Y(U,M,H,J){var ve=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ve!==null?null:T(U,M,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return H.key===ve?C(U,M,H,J):null;case V:return H.key===ve?F(U,M,H,J):null;case w:return ve=H._init,H=ve(H._payload),Y(U,M,H,J)}if(pt(H)||P(H))return ve!==null?null:W(U,M,H,J,null);if(typeof H.then=="function")return Y(U,M,Sc(H),J);if(H.$$typeof===se)return Y(U,M,uc(U,H),J);Ac(U,H)}return null}function Q(U,M,H,J,ve){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(H)||null,T(M,U,""+J,ve);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return U=U.get(J.key===null?H:J.key)||null,C(M,U,J,ve);case V:return U=U.get(J.key===null?H:J.key)||null,F(M,U,J,ve);case w:var Be=J._init;return J=Be(J._payload),Q(U,M,H,J,ve)}if(pt(J)||P(J))return U=U.get(H)||null,W(M,U,J,ve,null);if(typeof J.then=="function")return Q(U,M,H,Sc(J),ve);if(J.$$typeof===se)return Q(U,M,H,uc(M,J),ve);Ac(M,J)}return null}function xe(U,M,H,J){for(var ve=null,Be=null,Ae=M,De=M=0,ln=null;Ae!==null&&De<H.length;De++){Ae.index>De?(ln=Ae,Ae=null):ln=Ae.sibling;var tt=Y(U,Ae,H[De],J);if(tt===null){Ae===null&&(Ae=ln);break}t&&Ae&&tt.alternate===null&&r(U,Ae),M=d(tt,M,De),Be===null?ve=tt:Be.sibling=tt,Be=tt,Ae=ln}if(De===H.length)return a(U,Ae),it&&na(U,De),ve;if(Ae===null){for(;De<H.length;De++)Ae=ie(U,H[De],J),Ae!==null&&(M=d(Ae,M,De),Be===null?ve=Ae:Be.sibling=Ae,Be=Ae);return it&&na(U,De),ve}for(Ae=l(Ae);De<H.length;De++)ln=Q(Ae,U,De,H[De],J),ln!==null&&(t&&ln.alternate!==null&&Ae.delete(ln.key===null?De:ln.key),M=d(ln,M,De),Be===null?ve=ln:Be.sibling=ln,Be=ln);return t&&Ae.forEach(function(cs){return r(U,cs)}),it&&na(U,De),ve}function Ce(U,M,H,J){if(H==null)throw Error(s(151));for(var ve=null,Be=null,Ae=M,De=M=0,ln=null,tt=H.next();Ae!==null&&!tt.done;De++,tt=H.next()){Ae.index>De?(ln=Ae,Ae=null):ln=Ae.sibling;var cs=Y(U,Ae,tt.value,J);if(cs===null){Ae===null&&(Ae=ln);break}t&&Ae&&cs.alternate===null&&r(U,Ae),M=d(cs,M,De),Be===null?ve=cs:Be.sibling=cs,Be=cs,Ae=ln}if(tt.done)return a(U,Ae),it&&na(U,De),ve;if(Ae===null){for(;!tt.done;De++,tt=H.next())tt=ie(U,tt.value,J),tt!==null&&(M=d(tt,M,De),Be===null?ve=tt:Be.sibling=tt,Be=tt);return it&&na(U,De),ve}for(Ae=l(Ae);!tt.done;De++,tt=H.next())tt=Q(Ae,U,De,tt.value,J),tt!==null&&(t&&tt.alternate!==null&&Ae.delete(tt.key===null?De:tt.key),M=d(tt,M,De),Be===null?ve=tt:Be.sibling=tt,Be=tt);return t&&Ae.forEach(function(rw){return r(U,rw)}),it&&na(U,De),ve}function dt(U,M,H,J){if(typeof H=="object"&&H!==null&&H.type===q&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case b:e:{for(var ve=H.key;M!==null;){if(M.key===ve){if(ve=H.type,ve===q){if(M.tag===7){a(U,M.sibling),J=h(M,H.props.children),J.return=U,U=J;break e}}else if(M.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===w&&by(ve)===M.type){a(U,M.sibling),J=h(M,H.props),Dl(J,H),J.return=U,U=J;break e}a(U,M);break}else r(U,M);M=M.sibling}H.type===q?(J=ea(H.props.children,U.mode,J,H.key),J.return=U,U=J):(J=sc(H.type,H.key,H.props,null,U.mode,J),Dl(J,H),J.return=U,U=J)}return E(U);case V:e:{for(ve=H.key;M!==null;){if(M.key===ve)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){a(U,M.sibling),J=h(M,H.children||[]),J.return=U,U=J;break e}else{a(U,M);break}else r(U,M);M=M.sibling}J=Df(H,U.mode,J),J.return=U,U=J}return E(U);case w:return ve=H._init,H=ve(H._payload),dt(U,M,H,J)}if(pt(H))return xe(U,M,H,J);if(P(H)){if(ve=P(H),typeof ve!="function")throw Error(s(150));return H=ve.call(H),Ce(U,M,H,J)}if(typeof H.then=="function")return dt(U,M,Sc(H),J);if(H.$$typeof===se)return dt(U,M,uc(U,H),J);Ac(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(a(U,M.sibling),J=h(M,H),J.return=U,U=J):(a(U,M),J=Cf(H,U.mode,J),J.return=U,U=J),E(U)):a(U,M)}return function(U,M,H,J){try{Cl=0;var ve=dt(U,M,H,J);return lo=null,ve}catch(Ae){if(Ae===vl||Ae===hc)throw Ae;var Be=Yn(29,Ae,null,U.mode);return Be.lanes=J,Be.return=U,Be}finally{}}}var uo=wy(!0),Ry=wy(!1),ci=te(null),Gi=null;function Xr(t){var r=t.alternate;ue(Wt,Wt.current&1),ue(ci,t),Gi===null&&(r===null||ro.current!==null||r.memoizedState!==null)&&(Gi=t)}function Iy(t){if(t.tag===22){if(ue(Wt,Wt.current),ue(ci,t),Gi===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(Gi=t)}}else $r()}function $r(){ue(Wt,Wt.current),ue(ci,ci.current)}function wr(t){fe(ci),Gi===t&&(Gi=null),fe(Wt)}var Wt=te(0);function bc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Wd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function ld(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ud={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Wn(),h=Kr(l);h.payload=r,a!=null&&(h.callback=a),r=Yr(t,h,l),r!==null&&(Zn(r,t,l),Tl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Wn(),h=Kr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Yr(t,h,l),r!==null&&(Zn(r,t,l),Tl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Wn(),l=Kr(a);l.tag=2,r!=null&&(l.callback=r),r=Yr(t,l,a),r!==null&&(Zn(r,t,a),Tl(r,t,a))}};function Cy(t,r,a,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!hl(a,l)||!hl(h,d):!0}function Dy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&ud.enqueueReplaceState(r,r.state,null)}function ua(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=v({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var wc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ny(t){wc(t)}function Oy(t){console.error(t)}function xy(t){wc(t)}function Rc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function My(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function cd(t,r,a){return a=Kr(a),a.tag=3,a.payload={element:null},a.callback=function(){Rc(t,r)},a}function Py(t){return t=Kr(t),t.tag=3,t}function Vy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){My(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){My(r,a,l),typeof h!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function rb(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&gl(r,a,h,!0),a=ci.current,a!==null){switch(a.tag){case 13:return Gi===null?Pd():a.alternate===null&&Mt===0&&(Mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===jf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),kd(t,l,h)),!1;case 22:return a.flags|=65536,l===jf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),kd(t,l,h)),!1}throw Error(s(435,a.tag))}return kd(t,l,h),Pd(),!1}if(it)return r=ci.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==xf&&(t=Error(s(422),{cause:l}),pl(ai(t,a)))):(l!==xf&&(r=Error(s(423),{cause:l}),pl(ai(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=ai(l,a),h=cd(t.stateNode,l,h),Hf(t,h),Mt!==4&&(Mt=2)),!1;var d=Error(s(520),{cause:l});if(d=ai(d,a),kl===null?kl=[d]:kl.push(d),Mt!==4&&(Mt=2),r===null)return!0;l=ai(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=cd(a.stateNode,l,t),Hf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ns===null||!ns.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Py(h),Vy(h,t,a,l),Hf(a,h),!1}a=a.return}while(a!==null);return!1}var ky=Error(s(461)),an=!1;function mn(t,r,a,l){r.child=t===null?Ry(r,null,a,l):uo(r,t.child,a,l)}function Uy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return aa(r),l=Yf(t,r,a,E,d,h),T=Qf(),t!==null&&!an?(Xf(t,r,h),Rr(t,r,h)):(it&&T&&Nf(r),r.flags|=1,mn(t,r,l,h),r.child)}function Ly(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!If(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,jy(t,r,d,l,h)):(t=sc(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!_d(t,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:hl,a(E,l)&&t.ref===r.ref)return Rr(t,r,h)}return r.flags|=1,t=vr(d,l),t.ref=r.ref,t.return=r,r.child=t}function jy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(hl(d,l)&&t.ref===r.ref)if(an=!1,r.pendingProps=l=d,_d(t,h))(t.flags&131072)!==0&&(an=!0);else return r.lanes=t.lanes,Rr(t,r,h)}return hd(t,r,a,l,h)}function zy(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return By(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&cc(r,d!==null?d.cachePool:null),d!==null?jg(r,d):Ff(),Iy(r);else return r.lanes=r.childLanes=536870912,By(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(cc(r,d.cachePool),jg(r,d),$r(),r.memoizedState=null):(t!==null&&cc(r,null),Ff(),$r());return mn(t,r,h,a),r.child}function By(t,r,a,l){var h=Lf();return h=h===null?null:{parent:$t._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&cc(r,null),Ff(),Iy(r),t!==null&&gl(t,r,l,!0),null}function Ic(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function hd(t,r,a,l,h){return aa(r),a=Yf(t,r,a,l,void 0,h),l=Qf(),t!==null&&!an?(Xf(t,r,h),Rr(t,r,h)):(it&&l&&Nf(r),r.flags|=1,mn(t,r,a,h),r.child)}function Hy(t,r,a,l,h,d){return aa(r),r.updateQueue=null,a=Bg(r,l,a,h),zg(t),l=Qf(),t!==null&&!an?(Xf(t,r,d),Rr(t,r,d)):(it&&l&&Nf(r),r.flags|=1,mn(t,r,a,d),r.child)}function qy(t,r,a,l,h){if(aa(r),r.stateNode===null){var d=Ja,E=a.contextType;typeof E=="object"&&E!==null&&(d=Sn(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ud,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},zf(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?Sn(E):Ja,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(ld(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&ud.enqueueReplaceState(d,d.state,null),Al(r,l,d,h),Sl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,C=ua(a,T);d.props=C;var F=d.context,W=a.contextType;E=Ja,typeof W=="object"&&W!==null&&(E=Sn(W));var ie=a.getDerivedStateFromProps;W=typeof ie=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||F!==E)&&Dy(r,d,l,E),Gr=!1;var Y=r.memoizedState;d.state=Y,Al(r,l,d,h),Sl(),F=r.memoizedState,T||Y!==F||Gr?(typeof ie=="function"&&(ld(r,a,ie,l),F=r.memoizedState),(C=Gr||Cy(r,a,C,l,Y,F,E))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Bf(t,r),E=r.memoizedProps,W=ua(a,E),d.props=W,ie=r.pendingProps,Y=d.context,F=a.contextType,C=Ja,typeof F=="object"&&F!==null&&(C=Sn(F)),T=a.getDerivedStateFromProps,(F=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ie||Y!==C)&&Dy(r,d,l,C),Gr=!1,Y=r.memoizedState,d.state=Y,Al(r,l,d,h),Sl();var Q=r.memoizedState;E!==ie||Y!==Q||Gr||t!==null&&t.dependencies!==null&&lc(t.dependencies)?(typeof T=="function"&&(ld(r,a,T,l),Q=r.memoizedState),(W=Gr||Cy(r,a,W,l,Y,Q,C)||t!==null&&t.dependencies!==null&&lc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),d.props=l,d.state=Q,d.context=C,l=W):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Ic(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=uo(r,t.child,null,h),r.child=uo(r,null,a,h)):mn(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Rr(t,r,h),t}function Fy(t,r,a,l){return ml(),r.flags|=256,mn(t,r,a,l),r.child}var fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dd(t){return{baseLanes:t,cachePool:Og()}}function md(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=hi),t}function Gy(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Wt.current&2)!==0),E&&(h=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(it){if(h?Xr(r):$r(),it){var T=xt,C;if(C=T){e:{for(C=T,T=Fi;C.nodeType!==8;){if(!T){T=null;break e}if(C=Ai(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(r.memoizedState={dehydrated:T,treeContext:ta!==null?{id:Er,overflow:Tr}:null,retryLane:536870912,hydrationErrors:null},C=Yn(18,null,null,0),C.stateNode=T,C.return=r,r.child=C,xn=r,xt=null,C=!0):C=!1}C||ra(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Wd(T)?r.lanes=32:r.lanes=536870912,null;wr(r)}return T=l.children,l=l.fallback,h?($r(),h=r.mode,T=Cc({mode:"hidden",children:T},h),l=ea(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=dd(a),h.childLanes=md(t,E,a),r.memoizedState=fd,l):(Xr(r),pd(r,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)r.flags&256?(Xr(r),r.flags&=-257,r=gd(t,r,a)):r.memoizedState!==null?($r(),r.child=t.child,r.flags|=128,r=null):($r(),h=l.fallback,T=r.mode,l=Cc({mode:"visible",children:l.children},T),h=ea(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,uo(r,t.child,null,a),l=r.child,l.memoizedState=dd(a),l.childLanes=md(t,E,a),r.memoizedState=fd,r=h);else if(Xr(r),Wd(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(s(419)),l.stack="",l.digest=E,pl({value:l,source:null,stack:null}),r=gd(t,r,a)}else if(an||gl(t,r,a,!1),E=(a&t.childLanes)!==0,an||E){if(E=vt,E!==null&&(l=a&-a,l=(l&42)!==0?1:ce(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Za(t,l),Zn(E,t,l),ky;T.data==="$?"||Pd(),r=gd(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,xt=Ai(T.nextSibling),xn=r,it=!0,ia=null,Fi=!1,t!==null&&(li[ui++]=Er,li[ui++]=Tr,li[ui++]=ta,Er=t.id,Tr=t.overflow,ta=r),r=pd(r,l.children),r.flags|=4096);return r}return h?($r(),h=l.fallback,T=r.mode,C=t.child,F=C.sibling,l=vr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,F!==null?h=vr(F,h):(h=ea(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=dd(a):(C=T.cachePool,C!==null?(F=$t._currentValue,C=C.parent!==F?{parent:F,pool:F}:C):C=Og(),T={baseLanes:T.baseLanes|a,cachePool:C}),h.memoizedState=T,h.childLanes=md(t,E,a),r.memoizedState=fd,l):(Xr(r),a=t.child,t=a.sibling,a=vr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=a,r.memoizedState=null,a)}function pd(t,r){return r=Cc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Cc(t,r){return t=Yn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function gd(t,r,a){return uo(r,t.child,null,a),t=pd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Ky(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Pf(t.return,r,a)}function yd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Yy(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(mn(t,r,l.children,a),l=Wt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ky(t,a,r);else if(t.tag===19)Ky(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ue(Wt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&bc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),yd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&bc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}yd(r,!0,a,null,d);break;case"together":yd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Rr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),ts|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(gl(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=vr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=vr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function _d(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&lc(t)))}function sb(t,r,a){switch(r.tag){case 3:ut(r,r.stateNode.containerInfo),Fr(r,$t,t.memoizedState.cache),ml();break;case 27:case 5:Ci(r);break;case 4:ut(r,r.stateNode.containerInfo);break;case 10:Fr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Xr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Gy(t,r,a):(Xr(r),t=Rr(t,r,a),t!==null?t.sibling:null);Xr(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(gl(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Yy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ue(Wt,Wt.current),l)break;return null;case 22:case 23:return r.lanes=0,zy(t,r,a);case 24:Fr(r,$t,t.memoizedState.cache)}return Rr(t,r,a)}function Qy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)an=!0;else{if(!_d(t,a)&&(r.flags&128)===0)return an=!1,sb(t,r,a);an=(t.flags&131072)!==0}else an=!1,it&&(r.flags&1048576)!==0&&bg(r,oc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")If(l)?(t=ua(l,t),r.tag=1,r=qy(null,r,l,t,a)):(r.tag=0,r=hd(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===de){r.tag=11,r=Uy(null,r,l,t,a);break e}else if(h===D){r.tag=14,r=Ly(null,r,l,t,a);break e}}throw r=mt(l)||l,Error(s(306,r,""))}}return r;case 0:return hd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=ua(l,r.pendingProps),qy(t,r,l,h,a);case 3:e:{if(ut(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Bf(t,r),Al(r,l,null,a);var E=r.memoizedState;if(l=E.cache,Fr(r,$t,l),l!==d.cache&&Vf(r,[$t],a,!0),Sl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Fy(t,r,l,a);break e}else if(l!==h){h=ai(Error(s(424)),r),pl(h),r=Fy(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(xt=Ai(t.firstChild),xn=r,it=!0,ia=null,Fi=!0,a=Ry(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ml(),l===h){r=Rr(t,r,a);break e}mn(t,r,l,a)}r=r.child}return r;case 26:return Ic(t,r),t===null?(a=Z_(r.type,null,r.pendingProps,null))?r.memoizedState=a:it||(a=r.type,t=r.pendingProps,l=Hc(we.current).createElement(a),l[pe]=r,l[be]=t,gn(l,a,t),St(l),r.stateNode=l):r.memoizedState=Z_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ci(r),t===null&&it&&(l=r.stateNode=X_(r.type,r.pendingProps,we.current),xn=r,Fi=!0,h=xt,ss(r.type)?(Zd=h,xt=Ai(l.firstChild)):xt=h),mn(t,r,r.pendingProps.children,a),Ic(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&it&&((h=l=xt)&&(l=Mb(l,r.type,r.pendingProps,Fi),l!==null?(r.stateNode=l,xn=r,xt=Ai(l.firstChild),Fi=!1,h=!0):h=!1),h||ra(r)),Ci(r),h=r.type,d=r.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Qd(h,d)?l=null:E!==null&&Qd(h,E)&&(r.flags|=32),r.memoizedState!==null&&(h=Yf(t,r,WA,null,null,a),Gl._currentValue=h),Ic(t,r),mn(t,r,l,a),r.child;case 6:return t===null&&it&&((t=a=xt)&&(a=Pb(a,r.pendingProps,Fi),a!==null?(r.stateNode=a,xn=r,xt=null,t=!0):t=!1),t||ra(r)),null;case 13:return Gy(t,r,a);case 4:return ut(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=uo(r,null,l,a):mn(t,r,l,a),r.child;case 11:return Uy(t,r,r.type,r.pendingProps,a);case 7:return mn(t,r,r.pendingProps,a),r.child;case 8:return mn(t,r,r.pendingProps.children,a),r.child;case 12:return mn(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Fr(r,r.type,l.value),mn(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,aa(r),h=Sn(h),l=l(h),r.flags|=1,mn(t,r,l,a),r.child;case 14:return Ly(t,r,r.type,r.pendingProps,a);case 15:return jy(t,r,r.type,r.pendingProps,a);case 19:return Yy(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=Cc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=vr(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return zy(t,r,a);case 24:return aa(r),l=Sn($t),t===null?(h=Lf(),h===null&&(h=vt,d=kf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},zf(r),Fr(r,$t,h)):((t.lanes&a)!==0&&(Bf(t,r),Al(r,null,null,a),Sl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Fr(r,$t,l)):(l=d.cache,Fr(r,$t,l),l!==h.cache&&Vf(r,[$t],a,!0))),mn(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ir(t){t.flags|=4}function Xy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!iv(r)){if(r=ci.current,r!==null&&((Ze&4194048)===Ze?Gi!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||r!==Gi))throw El=jf,xg;t.flags|=8192}}function Dc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?js():536870912,t.lanes|=r,mo|=r)}function Nl(t,r){if(!it)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ct(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function ab(t,r,a){var l=r.pendingProps;switch(Of(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(r),null;case 1:return Ct(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ar($t),ei(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(dl(r)?Ir(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ig())),Ct(r),null;case 26:return a=r.memoizedState,t===null?(Ir(r),a!==null?(Ct(r),Xy(r,a)):(Ct(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Ir(r),Ct(r),Xy(r,a)):(Ct(r),r.flags&=-16777217):(t.memoizedProps!==l&&Ir(r),Ct(r),r.flags&=-16777217),null;case 27:Rt(r),a=we.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Ir(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Ct(r),null}t=Ee.current,dl(r)?wg(r):(t=X_(h,l,a),r.stateNode=t,Ir(r))}return Ct(r),null;case 5:if(Rt(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Ir(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Ct(r),null}if(t=Ee.current,dl(r))wg(r);else{switch(h=Hc(we.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[pe]=r,t[be]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(gn(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ir(r)}}return Ct(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Ir(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=we.current,dl(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=xn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[pe]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||H_(t.nodeValue,a)),t||ra(r)}else t=Hc(t).createTextNode(l),t[pe]=r,r.stateNode=t}return Ct(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=dl(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[pe]=r}else ml(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ct(r),h=!1}else h=Ig(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(wr(r),r):(wr(r),null)}if(wr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Dc(r,r.updateQueue),Ct(r),null;case 4:return ei(),t===null&&qd(r.stateNode.containerInfo),Ct(r),null;case 10:return Ar(r.type),Ct(r),null;case 19:if(fe(Wt),h=r.memoizedState,h===null)return Ct(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)Nl(h,!1);else{if(Mt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=bc(t),d!==null){for(r.flags|=128,Nl(h,!1),t=d.updateQueue,r.updateQueue=t,Dc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Ag(a,t),a=a.sibling;return ue(Wt,Wt.current&1|2),r.child}t=t.sibling}h.tail!==null&&Pn()>xc&&(r.flags|=128,l=!0,Nl(h,!1),r.lanes=4194304)}else{if(!l)if(t=bc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Dc(r,t),Nl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!it)return Ct(r),null}else 2*Pn()-h.renderingStartTime>xc&&a!==536870912&&(r.flags|=128,l=!0,Nl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Pn(),r.sibling=null,t=Wt.current,ue(Wt,l?t&1|2:t&1),r):(Ct(r),null);case 22:case 23:return wr(r),Gf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(Ct(r),r.subtreeFlags&6&&(r.flags|=8192)):Ct(r),a=r.updateQueue,a!==null&&Dc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&fe(oa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ar($t),Ct(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function ob(t,r){switch(Of(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ar($t),ei(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Rt(r),null;case 13:if(wr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ml()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return fe(Wt),null;case 4:return ei(),null;case 10:return Ar(r.type),null;case 22:case 23:return wr(r),Gf(),t!==null&&fe(oa),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Ar($t),null;case 25:return null;default:return null}}function $y(t,r){switch(Of(r),r.tag){case 3:Ar($t),ei();break;case 26:case 27:case 5:Rt(r);break;case 4:ei();break;case 13:wr(r);break;case 19:fe(Wt);break;case 10:Ar(r.type);break;case 22:case 23:wr(r),Gf(),t!==null&&fe(oa);break;case 24:Ar($t)}}function Ol(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(T){gt(r,r.return,T)}}function Wr(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,h=r;var C=a,F=T;try{F()}catch(W){gt(h,C,W)}}}l=l.next}while(l!==d)}}catch(W){gt(r,r.return,W)}}function Wy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Lg(r,a)}catch(l){gt(t,t.return,l)}}}function Zy(t,r,a){a.props=ua(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){gt(t,r,l)}}function xl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){gt(t,r,h)}}function Ki(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){gt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){gt(t,r,h)}else a.current=null}function Jy(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){gt(t,t.return,h)}}function vd(t,r,a){try{var l=t.stateNode;Cb(l,t.type,a,r),l[be]=r}catch(h){gt(t,t.return,h)}}function e_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ss(t.type)||t.tag===4}function Ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||e_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ss(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Td(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Bc));else if(l!==4&&(l===27&&ss(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Td(t,r,a),t=t.sibling;t!==null;)Td(t,r,a),t=t.sibling}function Nc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&ss(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Nc(t,r,a),t=t.sibling;t!==null;)Nc(t,r,a),t=t.sibling}function t_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);gn(r,l,a),r[pe]=t,r[be]=a}catch(d){gt(t,t.return,d)}}var Cr=!1,jt=!1,Sd=!1,n_=typeof WeakSet=="function"?WeakSet:Set,on=null;function lb(t,r){if(t=t.containerInfo,Kd=Qc,t=dg(t),Ef(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,T=-1,C=-1,F=0,W=0,ie=t,Y=null;t:for(;;){for(var Q;ie!==a||h!==0&&ie.nodeType!==3||(T=E+h),ie!==d||l!==0&&ie.nodeType!==3||(C=E+l),ie.nodeType===3&&(E+=ie.nodeValue.length),(Q=ie.firstChild)!==null;)Y=ie,ie=Q;for(;;){if(ie===t)break t;if(Y===a&&++F===h&&(T=E),Y===d&&++W===l&&(C=E),(Q=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=Q}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:t,selectionRange:a},Qc=!1,on=r;on!==null;)if(r=on,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,on=t;else for(;on!==null;){switch(r=on,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var xe=ua(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(xe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ce){gt(a,a.return,Ce)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)$d(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,on=t;break}on=r.return}}function i_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zr(t,a),l&4&&Ol(5,a);break;case 1:if(Zr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(E){gt(a,a.return,E)}else{var h=ua(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){gt(a,a.return,E)}}l&64&&Wy(a),l&512&&xl(a,a.return);break;case 3:if(Zr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Lg(t,r)}catch(E){gt(a,a.return,E)}}break;case 27:r===null&&l&4&&t_(a);case 26:case 5:Zr(t,a),r===null&&l&4&&Jy(a),l&512&&xl(a,a.return);break;case 12:Zr(t,a);break;case 13:Zr(t,a),l&4&&a_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=yb.bind(null,a),Vb(t,a))));break;case 22:if(l=a.memoizedState!==null||Cr,!l){r=r!==null&&r.memoizedState!==null||jt,h=Cr;var d=jt;Cr=l,(jt=r)&&!d?Jr(t,a,(a.subtreeFlags&8772)!==0):Zr(t,a),Cr=h,jt=d}break;case 30:break;default:Zr(t,a)}}function r_(t){var r=t.alternate;r!==null&&(t.alternate=null,r_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Dn(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var wt=null,Ln=!1;function Dr(t,r,a){for(a=a.child;a!==null;)s_(t,r,a),a=a.sibling}function s_(t,r,a){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(Et,a)}catch{}switch(a.tag){case 26:jt||Ki(a,r),Dr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:jt||Ki(a,r);var l=wt,h=Ln;ss(a.type)&&(wt=a.stateNode,Ln=!1),Dr(t,r,a),Bl(a.stateNode),wt=l,Ln=h;break;case 5:jt||Ki(a,r);case 6:if(l=wt,h=Ln,wt=null,Dr(t,r,a),wt=l,Ln=h,wt!==null)if(Ln)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(a.stateNode)}catch(d){gt(a,r,d)}else try{wt.removeChild(a.stateNode)}catch(d){gt(a,r,d)}break;case 18:wt!==null&&(Ln?(t=wt,Y_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Xl(t)):Y_(wt,a.stateNode));break;case 4:l=wt,h=Ln,wt=a.stateNode.containerInfo,Ln=!0,Dr(t,r,a),wt=l,Ln=h;break;case 0:case 11:case 14:case 15:jt||Wr(2,a,r),jt||Wr(4,a,r),Dr(t,r,a);break;case 1:jt||(Ki(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Zy(a,r,l)),Dr(t,r,a);break;case 21:Dr(t,r,a);break;case 22:jt=(l=jt)||a.memoizedState!==null,Dr(t,r,a),jt=l;break;default:Dr(t,r,a)}}function a_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xl(t)}catch(a){gt(r,r.return,a)}}function ub(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new n_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new n_),r;default:throw Error(s(435,t.tag))}}function Ad(t,r){var a=ub(t);r.forEach(function(l){var h=_b.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Qn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,E=r,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(ss(T.type)){wt=T.stateNode,Ln=!1;break e}break;case 5:wt=T.stateNode,Ln=!1;break e;case 3:case 4:wt=T.stateNode.containerInfo,Ln=!0;break e}T=T.return}if(wt===null)throw Error(s(160));s_(d,E,h),wt=null,Ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)o_(r,t),r=r.sibling}var Si=null;function o_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Qn(r,t),Xn(t),l&4&&(Wr(3,t,t.return),Ol(3,t),Wr(5,t,t.return));break;case 1:Qn(r,t),Xn(t),l&512&&(jt||a===null||Ki(a,a.return)),l&64&&Cr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Si;if(Qn(r,t),Xn(t),l&512&&(jt||a===null||Ki(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[_t]||d[pe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),gn(d,l,a),d[pe]=t,St(d),l=d;break e;case"link":var E=tv("link","href",h).get(l+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break t}}d=h.createElement(l),gn(d,l,a),h.head.appendChild(d);break;case"meta":if(E=tv("meta","content",h).get(l+(a.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break t}}d=h.createElement(l),gn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[pe]=t,St(d),l=d}t.stateNode=l}else nv(h,t.type,t.stateNode);else t.stateNode=ev(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?nv(h,t.type,t.stateNode):ev(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&vd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Qn(r,t),Xn(t),l&512&&(jt||a===null||Ki(a,a.return)),a!==null&&l&4&&vd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Qn(r,t),Xn(t),l&512&&(jt||a===null||Ki(a,a.return)),t.flags&32){h=t.stateNode;try{ni(h,"")}catch(Q){gt(t,t.return,Q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,vd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Sd=!0);break;case 6:if(Qn(r,t),Xn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Q){gt(t,t.return,Q)}}break;case 3:if(Gc=null,h=Si,Si=qc(r.containerInfo),Qn(r,t),Si=h,Xn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xl(r.containerInfo)}catch(Q){gt(t,t.return,Q)}Sd&&(Sd=!1,l_(t));break;case 4:l=Si,Si=qc(t.stateNode.containerInfo),Qn(r,t),Xn(t),Si=l;break;case 12:Qn(r,t),Xn(t);break;case 13:Qn(r,t),Xn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dd=Pn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ad(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,F=Cr,W=jt;if(Cr=F||h,jt=W||C,Qn(r,t),jt=W,Cr=F,Xn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||C||Cr||jt||ca(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=C.stateNode;var ie=C.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;T.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Q){gt(C,C.return,Q)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(Q){gt(C,C.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ad(t,a))));break;case 19:Qn(r,t),Xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ad(t,l)));break;case 30:break;case 21:break;default:Qn(r,t),Xn(t)}}function Xn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(e_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Ed(t);Nc(t,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(ni(E,""),a.flags&=-33);var T=Ed(t);Nc(t,T,E);break;case 3:case 4:var C=a.stateNode.containerInfo,F=Ed(t);Td(t,F,C);break;default:throw Error(s(161))}}catch(W){gt(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function l_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;l_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Zr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)i_(t,r.alternate,r),r=r.sibling}function ca(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Wr(4,r,r.return),ca(r);break;case 1:Ki(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Zy(r,r.return,a),ca(r);break;case 27:Bl(r.stateNode);case 26:case 5:Ki(r,r.return),ca(r);break;case 22:r.memoizedState===null&&ca(r);break;case 30:ca(r);break;default:ca(r)}t=t.sibling}}function Jr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:Jr(h,d,a),Ol(4,d);break;case 1:if(Jr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){gt(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Ug(C[h],T)}catch(F){gt(l,l.return,F)}}a&&E&64&&Wy(d),xl(d,d.return);break;case 27:t_(d);case 26:case 5:Jr(h,d,a),a&&l===null&&E&4&&Jy(d),xl(d,d.return);break;case 12:Jr(h,d,a);break;case 13:Jr(h,d,a),a&&E&4&&a_(h,d);break;case 22:d.memoizedState===null&&Jr(h,d,a),xl(d,d.return);break;case 30:break;default:Jr(h,d,a)}r=r.sibling}}function bd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&yl(a))}function wd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&yl(t))}function Yi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)u_(t,r,a,l),r=r.sibling}function u_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Yi(t,r,a,l),h&2048&&Ol(9,r);break;case 1:Yi(t,r,a,l);break;case 3:Yi(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&yl(t)));break;case 12:if(h&2048){Yi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){gt(r,r.return,C)}}else Yi(t,r,a,l);break;case 13:Yi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?Yi(t,r,a,l):Ml(t,r):d._visibility&2?Yi(t,r,a,l):(d._visibility|=2,co(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&bd(E,r);break;case 24:Yi(t,r,a,l),h&2048&&wd(r.alternate,r);break;default:Yi(t,r,a,l)}}function co(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,E=r,T=a,C=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:co(d,E,T,C,h),Ol(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?co(d,E,T,C,h):Ml(d,E):(W._visibility|=2,co(d,E,T,C,h)),h&&F&2048&&bd(E.alternate,E);break;case 24:co(d,E,T,C,h),h&&F&2048&&wd(E.alternate,E);break;default:co(d,E,T,C,h)}r=r.sibling}}function Ml(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:Ml(a,l),h&2048&&bd(l.alternate,l);break;case 24:Ml(a,l),h&2048&&wd(l.alternate,l);break;default:Ml(a,l)}r=r.sibling}}var Pl=8192;function ho(t){if(t.subtreeFlags&Pl)for(t=t.child;t!==null;)c_(t),t=t.sibling}function c_(t){switch(t.tag){case 26:ho(t),t.flags&Pl&&t.memoizedState!==null&&Qb(Si,t.memoizedState,t.memoizedProps);break;case 5:ho(t);break;case 3:case 4:var r=Si;Si=qc(t.stateNode.containerInfo),ho(t),Si=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Pl,Pl=16777216,ho(t),Pl=r):ho(t));break;default:ho(t)}}function h_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Vl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];on=l,d_(l,t)}h_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)f_(t),t=t.sibling}function f_(t){switch(t.tag){case 0:case 11:case 15:Vl(t),t.flags&2048&&Wr(9,t,t.return);break;case 3:Vl(t);break;case 12:Vl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Oc(t)):Vl(t);break;default:Vl(t)}}function Oc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];on=l,d_(l,t)}h_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Wr(8,r,r.return),Oc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Oc(r));break;default:Oc(r)}t=t.sibling}}function d_(t,r){for(;on!==null;){var a=on;switch(a.tag){case 0:case 11:case 15:Wr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:yl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,on=l;else e:for(a=t;on!==null;){l=on;var h=l.sibling,d=l.return;if(r_(l),l===a){on=null;break e}if(h!==null){h.return=d,on=h;break e}on=d}}}var cb={getCacheForType:function(t){var r=Sn($t),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},hb=typeof WeakMap=="function"?WeakMap:Map,ot=0,vt=null,qe=null,Ze=0,lt=0,$n=null,es=!1,fo=!1,Rd=!1,Nr=0,Mt=0,ts=0,ha=0,Id=0,hi=0,mo=0,kl=null,jn=null,Cd=!1,Dd=0,xc=1/0,Mc=null,ns=null,pn=0,is=null,po=null,go=0,Nd=0,Od=null,m_=null,Ul=0,xd=null;function Wn(){if((ot&2)!==0&&Ze!==0)return Ze&-Ze;if($.T!==null){var t=no;return t!==0?t:jd()}return Me()}function p_(){hi===0&&(hi=(Ze&536870912)===0||it?Br():536870912);var t=ci.current;return t!==null&&(t.flags|=32),hi}function Zn(t,r,a){(t===vt&&(lt===2||lt===9)||t.cancelPendingCommit!==null)&&(yo(t,0),rs(t,Ze,hi,!1)),_i(t,a),((ot&2)===0||t!==vt)&&(t===vt&&((ot&2)===0&&(ha|=a),Mt===4&&rs(t,Ze,hi,!1)),Qi(t))}function g_(t,r,a){if((ot&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||yi(t,r),h=l?mb(t,r):Vd(t,r,!0),d=l;do{if(h===0){fo&&!l&&rs(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!fb(a)){h=Vd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var T=t;h=kl;var C=T.current.memoizedState.isDehydrated;if(C&&(yo(T,E).flags|=256),E=Vd(T,E,!1),E!==2){if(Rd&&!C){T.errorRecoveryDisabledLanes|=d,ha|=d,h=4;break e}d=jn,jn=h,d!==null&&(jn===null?jn=d:jn.push.apply(jn,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){yo(t,0),rs(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:rs(l,r,hi,!es);break e;case 2:jn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Dd+300-Pn(),10<h)){if(rs(l,r,hi,!es),ur(l,0,!0)!==0)break e;l.timeoutHandle=G_(y_.bind(null,l,a,jn,Mc,Cd,r,hi,ha,mo,es,d,2,-0,0),h);break e}y_(l,a,jn,Mc,Cd,r,hi,ha,mo,es,d,0,-0,0)}}break}while(!0);Qi(t)}function y_(t,r,a,l,h,d,E,T,C,F,W,ie,Y,Q){if(t.timeoutHandle=-1,ie=r.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(Fl={stylesheets:null,count:0,unsuspend:Yb},c_(r),ie=Xb(),ie!==null)){t.cancelPendingCommit=ie(b_.bind(null,t,r,d,a,l,h,E,T,C,W,1,Y,Q)),rs(t,d,E,!F);return}b_(t,r,d,a,l,h,E,T,C)}function fb(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Kn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function rs(t,r,a,l){r&=~Id,r&=~ha,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Tt(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&K(t,a,r)}function Pc(){return(ot&6)===0?(Ll(0),!1):!0}function Md(){if(qe!==null){if(lt===0)var t=qe.return;else t=qe,Sr=sa=null,$f(t),lo=null,Cl=0,t=qe;for(;t!==null;)$y(t.alternate,t),t=t.return;qe=null}}function yo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Nb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Md(),vt=t,qe=a=vr(t.current,null),Ze=r,lt=0,$n=null,es=!1,fo=yi(t,r),Rd=!1,mo=hi=Id=ha=ts=Mt=0,jn=kl=null,Cd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Tt(l),d=1<<h;r|=t[h],l&=~d}return Nr=r,nc(),a}function __(t,r){je=null,$.H=Tc,r===vl||r===hc?(r=Vg(),lt=3):r===xg?(r=Vg(),lt=4):lt=r===ky?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,$n=r,qe===null&&(Mt=1,Rc(t,ai(r,t.current)))}function v_(){var t=$.H;return $.H=Tc,t===null?Tc:t}function E_(){var t=$.A;return $.A=cb,t}function Pd(){Mt=4,es||(Ze&4194048)!==Ze&&ci.current!==null||(fo=!0),(ts&134217727)===0&&(ha&134217727)===0||vt===null||rs(vt,Ze,hi,!1)}function Vd(t,r,a){var l=ot;ot|=2;var h=v_(),d=E_();(vt!==t||Ze!==r)&&(Mc=null,yo(t,r)),r=!1;var E=Mt;e:do try{if(lt!==0&&qe!==null){var T=qe,C=$n;switch(lt){case 8:Md(),E=6;break e;case 3:case 2:case 9:case 6:ci.current===null&&(r=!0);var F=lt;if(lt=0,$n=null,_o(t,T,C,F),a&&fo){E=0;break e}break;default:F=lt,lt=0,$n=null,_o(t,T,C,F)}}db(),E=Mt;break}catch(W){__(t,W)}while(!0);return r&&t.shellSuspendCounter++,Sr=sa=null,ot=l,$.H=h,$.A=d,qe===null&&(vt=null,Ze=0,nc()),E}function db(){for(;qe!==null;)T_(qe)}function mb(t,r){var a=ot;ot|=2;var l=v_(),h=E_();vt!==t||Ze!==r?(Mc=null,xc=Pn()+500,yo(t,r)):fo=yi(t,r);e:do try{if(lt!==0&&qe!==null){r=qe;var d=$n;t:switch(lt){case 1:lt=0,$n=null,_o(t,r,d,1);break;case 2:case 9:if(Mg(d)){lt=0,$n=null,S_(r);break}r=function(){lt!==2&&lt!==9||vt!==t||(lt=7),Qi(t)},d.then(r,r);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:Mg(d)?(lt=0,$n=null,S_(r)):(lt=0,$n=null,_o(t,r,d,7));break;case 5:var E=null;switch(qe.tag){case 26:E=qe.memoizedState;case 5:case 27:var T=qe;if(!E||iv(E)){lt=0,$n=null;var C=T.sibling;if(C!==null)qe=C;else{var F=T.return;F!==null?(qe=F,Vc(F)):qe=null}break t}}lt=0,$n=null,_o(t,r,d,5);break;case 6:lt=0,$n=null,_o(t,r,d,6);break;case 8:Md(),Mt=6;break e;default:throw Error(s(462))}}pb();break}catch(W){__(t,W)}while(!0);return Sr=sa=null,$.H=l,$.A=h,ot=a,qe!==null?0:(vt=null,Ze=0,nc(),Mt)}function pb(){for(;qe!==null&&!Hn();)T_(qe)}function T_(t){var r=Qy(t.alternate,t,Nr);t.memoizedProps=t.pendingProps,r===null?Vc(t):qe=r}function S_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Hy(a,r,r.pendingProps,r.type,void 0,Ze);break;case 11:r=Hy(a,r,r.pendingProps,r.type.render,r.ref,Ze);break;case 5:$f(r);default:$y(a,r),r=qe=Ag(r,Nr),r=Qy(a,r,Nr)}t.memoizedProps=t.pendingProps,r===null?Vc(t):qe=r}function _o(t,r,a,l){Sr=sa=null,$f(r),lo=null,Cl=0;var h=r.return;try{if(rb(t,h,r,a,Ze)){Mt=1,Rc(t,ai(a,t.current)),qe=null;return}}catch(d){if(h!==null)throw qe=h,d;Mt=1,Rc(t,ai(a,t.current)),qe=null;return}r.flags&32768?(it||l===1?t=!0:fo||(Ze&536870912)!==0?t=!1:(es=t=!0,(l===2||l===9||l===3||l===6)&&(l=ci.current,l!==null&&l.tag===13&&(l.flags|=16384))),A_(r,t)):Vc(r)}function Vc(t){var r=t;do{if((r.flags&32768)!==0){A_(r,es);return}t=r.return;var a=ab(r.alternate,r,Nr);if(a!==null){qe=a;return}if(r=r.sibling,r!==null){qe=r;return}qe=r=t}while(r!==null);Mt===0&&(Mt=5)}function A_(t,r){do{var a=ob(t.alternate,t);if(a!==null){a.flags&=32767,qe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){qe=t;return}qe=t=a}while(t!==null);Mt=6,qe=null}function b_(t,r,a,l,h,d,E,T,C){t.cancelPendingCommit=null;do kc();while(pn!==0);if((ot&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=wf,j(t,a,d,E,T,C),t===vt&&(qe=vt=null,Ze=0),po=r,is=t,go=a,Nd=d,Od=h,m_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,vb(qn,function(){return D_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=le.p,le.p=2,E=ot,ot|=4;try{lb(t,r,a)}finally{ot=E,le.p=h,$.T=l}}pn=1,w_(),R_(),I_()}}function w_(){if(pn===1){pn=0;var t=is,r=po,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=le.p;le.p=2;var h=ot;ot|=4;try{o_(r,t);var d=Yd,E=dg(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&fg(T.ownerDocument.documentElement,T)){if(C!==null&&Ef(T)){var F=C.start,W=C.end;if(W===void 0&&(W=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(W,T.value.length);else{var ie=T.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),xe=T.textContent.length,Ce=Math.min(C.start,xe),dt=C.end===void 0?Ce:Math.min(C.end,xe);!Q.extend&&Ce>dt&&(E=dt,dt=Ce,Ce=E);var U=hg(T,Ce),M=hg(T,dt);if(U&&M&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var H=ie.createRange();H.setStart(U.node,U.offset),Q.removeAllRanges(),Ce>dt?(Q.addRange(H),Q.extend(M.node,M.offset)):(H.setEnd(M.node,M.offset),Q.addRange(H))}}}}for(ie=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&ie.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ie.length;T++){var J=ie[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Qc=!!Kd,Yd=Kd=null}finally{ot=h,le.p=l,$.T=a}}t.current=r,pn=2}}function R_(){if(pn===2){pn=0;var t=is,r=po,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=le.p;le.p=2;var h=ot;ot|=4;try{i_(t,r.alternate,r)}finally{ot=h,le.p=l,$.T=a}}pn=3}}function I_(){if(pn===4||pn===3){pn=0,Ma();var t=is,r=po,a=go,l=m_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?pn=5:(pn=0,po=is=null,C_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ns=null),_e(a),r=r.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(Et,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,h=le.p,le.p=2,$.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var T=l[E];d(T.value,{componentStack:T.stack})}}finally{$.T=r,le.p=h}}(go&3)!==0&&kc(),Qi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===xd?Ul++:(Ul=0,xd=t):Ul=0,Ll(0)}}function C_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,yl(r)))}function kc(t){return w_(),R_(),I_(),D_()}function D_(){if(pn!==5)return!1;var t=is,r=Nd;Nd=0;var a=_e(go),l=$.T,h=le.p;try{le.p=32>a?32:a,$.T=null,a=Od,Od=null;var d=is,E=go;if(pn=0,po=is=null,go=0,(ot&6)!==0)throw Error(s(331));var T=ot;if(ot|=4,f_(d.current),u_(d,d.current,E,a),ot=T,Ll(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(Et,d)}catch{}return!0}finally{le.p=h,$.T=l,C_(t,r)}}function N_(t,r,a){r=ai(a,r),r=cd(t.stateNode,r,2),t=Yr(t,r,2),t!==null&&(_i(t,2),Qi(t))}function gt(t,r,a){if(t.tag===3)N_(t,t,a);else for(;r!==null;){if(r.tag===3){N_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ns===null||!ns.has(l))){t=ai(a,t),a=Py(2),l=Yr(r,a,2),l!==null&&(Vy(a,l,r,t),_i(l,2),Qi(l));break}}r=r.return}}function kd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new hb;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Rd=!0,h.add(a),t=gb.bind(null,t,r,a),r.then(t,t))}function gb(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,vt===t&&(Ze&a)===a&&(Mt===4||Mt===3&&(Ze&62914560)===Ze&&300>Pn()-Dd?(ot&2)===0&&yo(t,0):Id|=a,mo===Ze&&(mo=0)),Qi(t)}function O_(t,r){r===0&&(r=js()),t=Za(t,r),t!==null&&(_i(t,r),Qi(t))}function yb(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),O_(t,a)}function _b(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),O_(t,a)}function vb(t,r){return Di(t,r)}var Uc=null,vo=null,Ud=!1,Lc=!1,Ld=!1,fa=0;function Qi(t){t!==vo&&t.next===null&&(vo===null?Uc=vo=t:vo=vo.next=t),Lc=!0,Ud||(Ud=!0,Tb())}function Ll(t,r){if(!Ld&&Lc){Ld=!0;do for(var a=!1,l=Uc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Tt(42|t)+1)-1,d&=h&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,V_(l,d))}else d=Ze,d=ur(l,l===vt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||yi(l,d)||(a=!0,V_(l,d));l=l.next}while(a);Ld=!1}}function Eb(){x_()}function x_(){Lc=Ud=!1;var t=0;fa!==0&&(Db()&&(t=fa),fa=0);for(var r=Pn(),a=null,l=Uc;l!==null;){var h=l.next,d=M_(l,r);d===0?(l.next=null,a===null?Uc=h:a.next=h,h===null&&(vo=a)):(a=l,(t!==0||(d&3)!==0)&&(Lc=!0)),l=h}Ll(t)}function M_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Tt(d),T=1<<E,C=h[E];C===-1?((T&a)===0||(T&l)!==0)&&(h[E]=Ls(T,r)):C<=r&&(t.expiredLanes|=T),d&=~T}if(r=vt,a=Ze,a=ur(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(lt===2||lt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&or(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||yi(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&or(l),_e(a)){case 2:case 8:a=zr;break;case 32:a=qn;break;case 268435456:a=Ni;break;default:a=qn}return l=P_.bind(null,t),a=Di(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&or(l),t.callbackPriority=2,t.callbackNode=null,2}function P_(t,r){if(pn!==0&&pn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(kc()&&t.callbackNode!==a)return null;var l=Ze;return l=ur(t,t===vt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(g_(t,l,r),M_(t,Pn()),t.callbackNode!=null&&t.callbackNode===a?P_.bind(null,t):null)}function V_(t,r){if(kc())return null;g_(t,r,!0)}function Tb(){Ob(function(){(ot&6)!==0?Di(ks,Eb):x_()})}function jd(){return fa===0&&(fa=Br()),fa}function k_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:za(""+t)}function U_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Sb(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=k_((h[be]||null).action),E=l.submitter;E&&(r=(r=E[be]||null)?k_(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var T=new Ba("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(fa!==0){var C=E?U_(h,E):new FormData(h);sd(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=E?U_(h,E):new FormData(h),sd(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var zd=0;zd<bf.length;zd++){var Bd=bf[zd],Ab=Bd.toLowerCase(),bb=Bd[0].toUpperCase()+Bd.slice(1);Ti(Ab,"on"+bb)}Ti(gg,"onAnimationEnd"),Ti(yg,"onAnimationIteration"),Ti(_g,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(BA,"onTransitionRun"),Ti(HA,"onTransitionStart"),Ti(qA,"onTransitionCancel"),Ti(vg,"onTransitionEnd"),kn("onMouseEnter",["mouseout","mouseover"]),kn("onMouseLeave",["mouseout","mouseover"]),kn("onPointerEnter",["pointerout","pointerover"]),kn("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function L_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var T=l[E],C=T.instance,F=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=F;try{d(h)}catch(W){wc(W)}h.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(T=l[E],C=T.instance,F=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=F;try{d(h)}catch(W){wc(W)}h.currentTarget=null,d=C}}}}function Fe(t,r){var a=r[Ve];a===void 0&&(a=r[Ve]=new Set);var l=t+"__bubble";a.has(l)||(j_(r,t,2,!1),a.add(l))}function Hd(t,r,a){var l=0;r&&(l|=4),j_(a,t,l,r)}var jc="_reactListening"+Math.random().toString(36).slice(2);function qd(t){if(!t[jc]){t[jc]=!0,vi.forEach(function(a){a!=="selectionchange"&&(wb.has(a)||Hd(a,!1,t),Hd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[jc]||(r[jc]=!0,Hd("selectionchange",!1,r))}}function j_(t,r,a,l){switch(uv(r)){case 2:var h=Zb;break;case 8:h=Jb;break;default:h=im}a=h.bind(null,r,a,t),h=void 0,!ri||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Fd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===h)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;T!==null;){if(E=Fn(T),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}T=T.parentNode}}l=l.return}Bu(function(){var F=d,W=ii(a),ie=[];e:{var Y=Eg.get(t);if(Y!==void 0){var Q=Ba,xe=t;switch(t){case"keypress":if(ji(a)===0)break e;case"keydown":case"keyup":Q=Ya;break;case"focusin":xe="focus",Q=Fa;break;case"focusout":xe="blur",Q=Fa;break;case"beforeblur":case"afterblur":Q=Fa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=si;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=gf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Xu;break;case gg:case yg:case _g:Q=Ga;break;case vg:Q=Wu;break;case"scroll":case"scrollend":Q=Hu;break;case"wheel":Q=Qa;break;case"copy":case"cut":case"paste":Q=Ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ul;break;case"toggle":case"beforetoggle":Q=Ju}var Ce=(r&4)!==0,dt=!Ce&&(t==="scroll"||t==="scrollend"),U=Ce?Y!==null?Y+"Capture":null:Y;Ce=[];for(var M=F,H;M!==null;){var J=M;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||U===null||(J=Gs(M,U),J!=null&&Ce.push(zl(M,J,H))),dt)break;M=M.return}0<Ce.length&&(Y=new Q(Y,xe,null,a,W),ie.push({event:Y,listeners:Ce}))}}if((r&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",Y&&a!==dr&&(xe=a.relatedTarget||a.fromElement)&&(Fn(xe)||xe[nt]))break e;if((Q||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(xe=a.relatedTarget||a.toElement,Q=F,xe=xe?Fn(xe):null,xe!==null&&(dt=u(xe),Ce=xe.tag,xe!==dt||Ce!==5&&Ce!==27&&Ce!==6)&&(xe=null)):(Q=null,xe=F),Q!==xe)){if(Ce=si,J="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ce=ul,J="onPointerLeave",U="onPointerEnter",M="pointer"),dt=Q==null?Y:Yt(Q),H=xe==null?Y:Yt(xe),Y=new Ce(J,M+"leave",Q,a,W),Y.target=dt,Y.relatedTarget=H,J=null,Fn(W)===F&&(Ce=new Ce(U,M+"enter",xe,a,W),Ce.target=H,Ce.relatedTarget=dt,J=Ce),dt=J,Q&&xe)t:{for(Ce=Q,U=xe,M=0,H=Ce;H;H=Eo(H))M++;for(H=0,J=U;J;J=Eo(J))H++;for(;0<M-H;)Ce=Eo(Ce),M--;for(;0<H-M;)U=Eo(U),H--;for(;M--;){if(Ce===U||U!==null&&Ce===U.alternate)break t;Ce=Eo(Ce),U=Eo(U)}Ce=null}else Ce=null;Q!==null&&z_(ie,Y,Q,Ce,!1),xe!==null&&dt!==null&&z_(ie,dt,xe,Ce,!0)}}e:{if(Y=F?Yt(F):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var ve=sg;else if(Xt(Y))if(ag)ve=LA;else{ve=kA;var Be=VA}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&nl(F.elementType)&&(ve=sg):ve=UA;if(ve&&(ve=ve(t,F))){_r(ie,ve,a,W);break e}Be&&Be(t,Y,F),t==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&Hr(Y,"number",Y.value)}switch(Be=F?Yt(F):window,t){case"focusin":(Xt(Be)||Be.contentEditable==="true")&&(Xa=Be,Tf=F,fl=null);break;case"focusout":fl=Tf=Xa=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,mg(ie,a,W);break;case"selectionchange":if(zA)break;case"keydown":case"keyup":mg(ie,a,W)}var Ae;if(Hi)e:{switch(t){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else $e?X(t,a)&&(De="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(_&&a.locale!=="ko"&&($e||De!=="onCompositionStart"?De==="onCompositionEnd"&&$e&&(Ae=rl()):(Li=W,qr="value"in Li?Li.value:Li.textContent,$e=!0)),Be=zc(F,De),0<Be.length&&(De=new ol(De,t,null,a,W),ie.push({event:De,listeners:Be}),Ae?De.data=Ae:(Ae=he(a),Ae!==null&&(De.data=Ae)))),(Ae=g?Qt(t,a):We(t,a))&&(De=zc(F,"onBeforeInput"),0<De.length&&(Be=new ol("onBeforeInput","beforeinput",null,a,W),ie.push({event:Be,listeners:De}),Be.data=Ae)),Sb(ie,t,F,a,W)}L_(ie,r)})}function zl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function zc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Gs(t,a),h!=null&&l.unshift(zl(t,h,d)),h=Gs(t,r),h!=null&&l.push(zl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function z_(t,r,a,l,h){for(var d=r._reactName,E=[];a!==null&&a!==l;){var T=a,C=T.alternate,F=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||F===null||(C=F,h?(F=Gs(a,d),F!=null&&E.unshift(zl(a,F,C))):h||(F=Gs(a,d),F!=null&&E.push(zl(a,F,C)))),a=a.return}E.length!==0&&t.push({event:r,listeners:E})}var Rb=/\r\n?/g,Ib=/\u0000|\uFFFD/g;function B_(t){return(typeof t=="string"?t:""+t).replace(Rb,`
`).replace(Ib,"")}function H_(t,r){return r=B_(r),B_(t)===r}function Bc(){}function ft(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||ni(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&ni(t,""+l);break;case"className":ki(t,"class",l);break;case"tabIndex":ki(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ki(t,a,l);break;case"style":tl(t,l,d);break;case"data":if(r!=="object"){ki(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=za(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&ft(t,r,"name",h.name,h,null),ft(t,r,"formEncType",h.formEncType,h,null),ft(t,r,"formMethod",h.formMethod,h,null),ft(t,r,"formTarget",h.formTarget,h,null)):(ft(t,r,"encType",h.encType,h,null),ft(t,r,"method",h.method,h,null),ft(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=za(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Bc);break;case"onScroll":l!=null&&Fe("scroll",t);break;case"onScrollEnd":l!=null&&Fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=za(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Fe("beforetoggle",t),Fe("toggle",t),Vi(t,"popover",l);break;case"xlinkActuate":fn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":fn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":fn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":fn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":fn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":fn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":fn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":fn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":fn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Vi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mf.get(a)||a,Vi(t,a,l))}}function Gd(t,r,a,l,h,d){switch(a){case"style":tl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ni(t,l):(typeof l=="number"||typeof l=="bigint")&&ni(t,""+l);break;case"onScroll":l!=null&&Fe("scroll",t);break;case"onScrollEnd":l!=null&&Fe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pi.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[be]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Vi(t,a,l)}}}function gn(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",t),Fe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ft(t,r,d,E,a,null)}}h&&ft(t,r,"srcSet",a.srcSet,a,null),l&&ft(t,r,"src",a.src,a,null);return;case"input":Fe("invalid",t);var T=d=E=h=null,C=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":E=W;break;case"checked":C=W;break;case"defaultChecked":F=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:ft(t,r,l,W,a,null)}}Hs(t,d,T,C,F,E,h,!1),ja(t);return;case"select":Fe("invalid",t),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:ft(t,r,h,T,a,null)}r=d,a=E,t.multiple=!!l,r!=null?fr(t,!!l,r,!1):a!=null&&fr(t,!!l,a,!0);return;case"textarea":Fe("invalid",t),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ft(t,r,E,T,a,null)}qs(t,l,h,d),ja(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ft(t,r,C,l,a,null)}return;case"dialog":Fe("beforetoggle",t),Fe("toggle",t),Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":Fe("load",t);break;case"video":case"audio":for(l=0;l<jl.length;l++)Fe(jl[l],t);break;case"image":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"embed":case"source":case"link":Fe("error",t),Fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ft(t,r,F,l,a,null)}return;default:if(nl(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Gd(t,r,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ft(t,r,T,l,a,null))}function Cb(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,T=null,C=null,F=null,W=null;for(Q in a){var ie=a[Q];if(a.hasOwnProperty(Q)&&ie!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":C=ie;default:l.hasOwnProperty(Q)||ft(t,r,Q,null,l,ie)}}for(var Y in l){var Q=l[Y];if(ie=a[Y],l.hasOwnProperty(Y)&&(Q!=null||ie!=null))switch(Y){case"type":d=Q;break;case"name":h=Q;break;case"checked":F=Q;break;case"defaultChecked":W=Q;break;case"value":E=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==ie&&ft(t,r,Y,Q,l,ie)}}Gn(t,E,T,C,F,W,d,h);return;case"select":Q=E=T=Y=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":Q=C;default:l.hasOwnProperty(d)||ft(t,r,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":Y=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==C&&ft(t,r,h,d,l,C)}r=T,a=E,l=Q,Y!=null?fr(t,!!a,Y,!1):!!l!=!!a&&(r!=null?fr(t,!!a,r,!0):fr(t,!!a,a?[]:"",!1));return;case"textarea":Q=Y=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ft(t,r,T,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":Y=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ft(t,r,E,h,l,d)}ct(t,Y,Q);return;case"option":for(var xe in a)if(Y=a[xe],a.hasOwnProperty(xe)&&Y!=null&&!l.hasOwnProperty(xe))switch(xe){case"selected":t.selected=!1;break;default:ft(t,r,xe,null,l,Y)}for(C in l)if(Y=l[C],Q=a[C],l.hasOwnProperty(C)&&Y!==Q&&(Y!=null||Q!=null))switch(C){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:ft(t,r,C,Y,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in a)Y=a[Ce],a.hasOwnProperty(Ce)&&Y!=null&&!l.hasOwnProperty(Ce)&&ft(t,r,Ce,null,l,Y);for(F in l)if(Y=l[F],Q=a[F],l.hasOwnProperty(F)&&Y!==Q&&(Y!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:ft(t,r,F,Y,l,Q)}return;default:if(nl(r)){for(var dt in a)Y=a[dt],a.hasOwnProperty(dt)&&Y!==void 0&&!l.hasOwnProperty(dt)&&Gd(t,r,dt,void 0,l,Y);for(W in l)Y=l[W],Q=a[W],!l.hasOwnProperty(W)||Y===Q||Y===void 0&&Q===void 0||Gd(t,r,W,Y,l,Q);return}}for(var U in a)Y=a[U],a.hasOwnProperty(U)&&Y!=null&&!l.hasOwnProperty(U)&&ft(t,r,U,null,l,Y);for(ie in l)Y=l[ie],Q=a[ie],!l.hasOwnProperty(ie)||Y===Q||Y==null&&Q==null||ft(t,r,ie,Y,l,Q)}var Kd=null,Yd=null;function Hc(t){return t.nodeType===9?t:t.ownerDocument}function q_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Qd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xd=null;function Db(){var t=window.event;return t&&t.type==="popstate"?t===Xd?!1:(Xd=t,!0):(Xd=null,!1)}var G_=typeof setTimeout=="function"?setTimeout:void 0,Nb=typeof clearTimeout=="function"?clearTimeout:void 0,K_=typeof Promise=="function"?Promise:void 0,Ob=typeof queueMicrotask=="function"?queueMicrotask:typeof K_<"u"?function(t){return K_.resolve(null).then(t).catch(xb)}:G_;function xb(t){setTimeout(function(){throw t})}function ss(t){return t==="head"}function Y_(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&Bl(E.documentElement),a&2&&Bl(E.body),a&4)for(a=E.head,Bl(a),E=a.firstChild;E;){var T=E.nextSibling,C=E.nodeName;E[_t]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=T}}if(h===0){t.removeChild(d),Xl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Xl(r)}function $d(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$d(a),Dn(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Mb(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_t])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ai(t.nextSibling),t===null)break}return null}function Pb(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ai(t.nextSibling),t===null))return null;return t}function Wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Vb(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ai(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Zd=null;function Q_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function X_(t,r,a){switch(r=Hc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Bl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Dn(t)}var fi=new Map,$_=new Set;function qc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Or=le.d;le.d={f:kb,r:Ub,D:Lb,C:jb,L:zb,m:Bb,X:qb,S:Hb,M:Fb};function kb(){var t=Or.f(),r=Pc();return t||r}function Ub(t){var r=hn(t);r!==null&&r.tag===5&&r.type==="form"?gy(r):Or.r(t)}var To=typeof document>"u"?null:document;function W_(t,r,a){var l=To;if(l&&typeof r=="string"&&r){var h=Bt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),$_.has(h)||($_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),gn(r,"link",t),St(r),l.head.appendChild(r)))}}function Lb(t){Or.D(t),W_("dns-prefetch",t,null)}function jb(t,r){Or.C(t,r),W_("preconnect",t,r)}function zb(t,r,a){Or.L(t,r,a);var l=To;if(l&&t&&r){var h='link[rel="preload"][as="'+Bt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Bt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Bt(a.imageSizes)+'"]')):h+='[href="'+Bt(t)+'"]';var d=h;switch(r){case"style":d=So(t);break;case"script":d=Ao(t)}fi.has(d)||(t=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),fi.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Hl(d))||r==="script"&&l.querySelector(ql(d))||(r=l.createElement("link"),gn(r,"link",t),St(r),l.head.appendChild(r)))}}function Bb(t,r){Or.m(t,r);var a=To;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Bt(l)+'"][href="'+Bt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ao(t)}if(!fi.has(d)&&(t=v({rel:"modulepreload",href:t},r),fi.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ql(d)))return}l=a.createElement("link"),gn(l,"link",t),St(l),a.head.appendChild(l)}}}function Hb(t,r,a){Or.S(t,r,a);var l=To;if(l&&t){var h=It(l).hoistableStyles,d=So(t);r=r||"default";var E=h.get(d);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(Hl(d)))T.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":r},a),(a=fi.get(d))&&Jd(t,a);var C=E=l.createElement("link");St(C),gn(C,"link",t),C._p=new Promise(function(F,W){C.onload=F,C.onerror=W}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Fc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:T},h.set(d,E)}}}function qb(t,r){Or.X(t,r);var a=To;if(a&&t){var l=It(a).hoistableScripts,h=Ao(t),d=l.get(h);d||(d=a.querySelector(ql(h)),d||(t=v({src:t,async:!0},r),(r=fi.get(h))&&em(t,r),d=a.createElement("script"),St(d),gn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Fb(t,r){Or.M(t,r);var a=To;if(a&&t){var l=It(a).hoistableScripts,h=Ao(t),d=l.get(h);d||(d=a.querySelector(ql(h)),d||(t=v({src:t,async:!0,type:"module"},r),(r=fi.get(h))&&em(t,r),d=a.createElement("script"),St(d),gn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Z_(t,r,a,l){var h=(h=we.current)?qc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=So(a.href),a=It(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=So(a.href);var d=It(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(Hl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),fi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},fi.set(t,a),d||Gb(h,t,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ao(a),a=It(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function So(t){return'href="'+Bt(t)+'"'}function Hl(t){return'link[rel="stylesheet"]['+t+"]"}function J_(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Gb(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),gn(r,"link",a),St(r),t.head.appendChild(r))}function Ao(t){return'[src="'+Bt(t)+'"]'}function ql(t){return"script[async]"+t}function ev(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Bt(a.href)+'"]');if(l)return r.instance=l,St(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),gn(l,"style",h),Fc(l,a.precedence,t),r.instance=l;case"stylesheet":h=So(a.href);var d=t.querySelector(Hl(h));if(d)return r.state.loading|=4,r.instance=d,St(d),d;l=J_(a),(h=fi.get(h))&&Jd(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var E=d;return E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),gn(d,"link",l),r.state.loading|=4,Fc(d,a.precedence,t),r.instance=d;case"script":return d=Ao(a.src),(h=t.querySelector(ql(d)))?(r.instance=h,St(h),h):(l=a,(h=fi.get(d))&&(l=v({},a),em(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),gn(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Fc(l,a.precedence,t));return r.instance}function Fc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Jd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function em(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Gc=null;function tv(t,r,a){if(Gc===null){var l=new Map,h=Gc=new Map;h.set(a,l)}else h=Gc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[_t]||d[pe]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=t+E;var T=l.get(E);T?T.push(d):l.set(E,[d])}}return l}function nv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Kb(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function iv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Fl=null;function Yb(){}function Qb(t,r,a){if(Fl===null)throw Error(s(475));var l=Fl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=So(a.href),d=t.querySelector(Hl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Kc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,St(d);return}d=t.ownerDocument||t,a=J_(a),(h=fi.get(h))&&Jd(a,h),d=d.createElement("link"),St(d);var E=d;E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),gn(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Kc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function Xb(){if(Fl===null)throw Error(s(475));var t=Fl;return t.stylesheets&&t.count===0&&tm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&tm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Kc(){if(this.count--,this.count===0){if(this.stylesheets)tm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yc=null;function tm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yc=new Map,r.forEach($b,t),Yc=null,Kc.call(t))}function $b(t,r){if(!(r.state.loading&4)){var a=Yc.get(t);if(a)var l=a.get(null);else{a=new Map,Yc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=r.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=Kc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Gl={$$typeof:se,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function Wb(t,r,a,l,h,d,E,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function rv(t,r,a,l,h,d,E,T,C,F,W,ie){return t=new Wb(t,r,a,E,T,C,F,ie),r=1,d===!0&&(r|=24),d=Yn(3,null,null,r),t.current=d,d.stateNode=t,r=kf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},zf(d),t}function sv(t){return t?(t=Ja,t):Ja}function av(t,r,a,l,h,d){h=sv(h),l.context===null?l.context=h:l.pendingContext=h,l=Kr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Yr(t,l,r),a!==null&&(Zn(a,t,r),Tl(a,t,r))}function ov(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function nm(t,r){ov(t,r),(t=t.alternate)&&ov(t,r)}function lv(t){if(t.tag===13){var r=Za(t,67108864);r!==null&&Zn(r,t,67108864),nm(t,67108864)}}var Qc=!0;function Zb(t,r,a,l){var h=$.T;$.T=null;var d=le.p;try{le.p=2,im(t,r,a,l)}finally{le.p=d,$.T=h}}function Jb(t,r,a,l){var h=$.T;$.T=null;var d=le.p;try{le.p=8,im(t,r,a,l)}finally{le.p=d,$.T=h}}function im(t,r,a,l){if(Qc){var h=rm(l);if(h===null)Fd(t,r,l,Xc,a),cv(t,l);else if(tw(h,t,r,a,l))l.stopPropagation();else if(cv(t,l),r&4&&-1<ew.indexOf(t)){for(;h!==null;){var d=hn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Tn(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var C=1<<31-Tt(E);T.entanglements[1]|=C,E&=~C}Qi(d),(ot&6)===0&&(xc=Pn()+500,Ll(0))}}break;case 13:T=Za(d,2),T!==null&&Zn(T,d,2),Pc(),nm(d,2)}if(d=rm(l),d===null&&Fd(t,r,l,Xc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Fd(t,r,l,null,a)}}function rm(t){return t=ii(t),sm(t)}var Xc=null;function sm(t){if(Xc=null,t=Fn(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Xc=t,null}function uv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wo()){case ks:return 2;case zr:return 8;case qn:case Pa:return 32;case Ni:return 268435456;default:return 32}default:return 32}}var am=!1,as=null,os=null,ls=null,Kl=new Map,Yl=new Map,us=[],ew="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cv(t,r){switch(t){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Kl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(r.pointerId)}}function Ql(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=hn(r),r!==null&&lv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function tw(t,r,a,l,h){switch(r){case"focusin":return as=Ql(as,t,r,a,l,h),!0;case"dragenter":return os=Ql(os,t,r,a,l,h),!0;case"mouseover":return ls=Ql(ls,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Kl.set(d,Ql(Kl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Yl.set(d,Ql(Yl.get(d)||null,t,r,a,l,h)),!0}return!1}function hv(t){var r=Fn(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,Ie(t.priority,function(){if(a.tag===13){var l=Wn();l=ce(l);var h=Za(a,l);h!==null&&Zn(h,a,l),nm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=rm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);dr=l,a.target.dispatchEvent(l),dr=null}else return r=hn(a),r!==null&&lv(r),t.blockedOn=a,!1;r.shift()}return!0}function fv(t,r,a){$c(t)&&a.delete(r)}function nw(){am=!1,as!==null&&$c(as)&&(as=null),os!==null&&$c(os)&&(os=null),ls!==null&&$c(ls)&&(ls=null),Kl.forEach(fv),Yl.forEach(fv)}function Wc(t,r){t.blockedOn===r&&(t.blockedOn=null,am||(am=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,nw)))}var Zc=null;function dv(t){Zc!==t&&(Zc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Zc===t&&(Zc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(sm(l||a)===null)continue;break}var d=hn(a);d!==null&&(t.splice(r,3),r-=3,sd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Xl(t){function r(C){return Wc(C,t)}as!==null&&Wc(as,t),os!==null&&Wc(os,t),ls!==null&&Wc(ls,t),Kl.forEach(r),Yl.forEach(r);for(var a=0;a<us.length;a++){var l=us[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<us.length&&(a=us[0],a.blockedOn===null);)hv(a),a.blockedOn===null&&us.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[be]||null;if(typeof d=="function")E||dv(a);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[be]||null)T=E.formAction;else if(sm(h)!==null)continue}else T=E.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),dv(a)}}}function om(t){this._internalRoot=t}Jc.prototype.render=om.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Wn();av(a,l,t,r,null,null)},Jc.prototype.unmount=om.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;av(t.current,2,null,t,null,null),Pc(),r[nt]=null}};function Jc(t){this._internalRoot=t}Jc.prototype.unstable_scheduleHydration=function(t){if(t){var r=Me();t={blockedOn:null,target:t,priority:r};for(var a=0;a<us.length&&r!==0&&r<us[a].priority;a++);us.splice(a,0,t),a===0&&hv(t)}};var mv=e.version;if(mv!=="19.1.0")throw Error(s(527,mv,"19.1.0"));le.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var iw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{Et=eh.inject(iw),Xe=eh}catch{}}return Wl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Ny,d=Oy,E=xy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=rv(t,1,!1,null,null,a,l,h,d,E,T,null),t[nt]=r.current,qd(t),new om(r)},Wl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Ny,E=Oy,T=xy,C=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),r=rv(t,1,!0,r,a??null,l,h,d,E,T,C,F),r.context=sv(null),a=r.current,l=Wn(),l=ce(l),h=Kr(l),h.callback=null,Yr(a,h,l),a=l,r.current.lanes=a,_i(r,a),Qi(r),t[nt]=r.current,qd(t),new Jc(r)},Wl.version="19.1.0",Wl}var bv;function mw(){if(bv)return cm.exports;bv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),cm.exports=dw(),cm.exports}var pw=mw(),RT=wT();const gw=bT(RT),yw=AT({__proto__:null,default:gw},[RT]);/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vt(){return Vt=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Vt.apply(this,arguments)}var Gt;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Gt||(Gt={}));const wv="popstate";function _w(i){i===void 0&&(i={});function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return yu("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:_a(o)}return Ew(e,n,null,i)}function Ye(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Uo(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vw(){return Math.random().toString(36).substr(2,8)}function Rv(i,e){return{usr:i.state,key:i.key,idx:e}}function yu(i,e,n,s){return n===void 0&&(n=null),Vt({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?Ms(e):e,{state:n,key:e&&e.key||s||vw()})}function _a(i){let{pathname:e="/",search:n="",hash:s=""}=i;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Ms(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substr(n),i=i.substr(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substr(s),i=i.substr(0,s)),i&&(e.pathname=i)}return e}function Ew(i,e,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m=Gt.Pop,p=null,y=v();y==null&&(y=0,f.replaceState(Vt({},f.state,{idx:y}),""));function v(){return(f.state||{idx:null}).idx}function A(){m=Gt.Pop;let k=v(),ne=k==null?null:k-y;y=k,p&&p({action:m,location:L.location,delta:ne})}function b(k,ne){m=Gt.Push;let ee=yu(L.location,k,ne);y=v()+1;let se=Rv(ee,y),de=L.createHref(ee);try{f.pushState(se,"",de)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;o.location.assign(de)}u&&p&&p({action:m,location:L.location,delta:1})}function V(k,ne){m=Gt.Replace;let ee=yu(L.location,k,ne);y=v();let se=Rv(ee,y),de=L.createHref(ee);f.replaceState(se,"",de),u&&p&&p({action:m,location:L.location,delta:0})}function q(k){let ne=o.location.origin!=="null"?o.location.origin:o.location.href,ee=typeof k=="string"?k:_a(k);return ee=ee.replace(/ $/,"%20"),Ye(ne,"No window.location.(origin|href) available to create URL for href: "+ee),new URL(ee,ne)}let L={get action(){return m},get location(){return i(o,f)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(wv,A),p=k,()=>{o.removeEventListener(wv,A),p=null}},createHref(k){return e(o,k)},createURL:q,encodeLocation(k){let ne=q(k);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:b,replace:V,go(k){return f.go(k)}};return L}var Pt;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(Pt||(Pt={}));const Tw=new Set(["lazy","caseSensitive","path","id","index","children"]);function Sw(i){return i.index===!0}function Nm(i,e,n,s){return n===void 0&&(n=[]),s===void 0&&(s={}),i.map((o,u)=>{let f=[...n,u],m=typeof o.id=="string"?o.id:f.join("-");if(Ye(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ye(!s[m],'Found a route id collision on id "'+m+`".  Route id's must be globally unique within Data Router usages`),Sw(o)){let p=Vt({},o,e(o),{id:m});return s[m]=p,p}else{let p=Vt({},o,e(o),{id:m,children:void 0});return s[m]=p,o.children&&(p.children=Nm(o.children,e,f,s)),p}})}function Co(i,e,n){n===void 0&&(n="/");let s=typeof e=="string"?Ms(e):e,o=Fo(s.pathname||"/",n);if(o==null)return null;let u=IT(i);bw(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let p=kw(o);f=Mw(u[m],p)}return f}function Aw(i,e){let{route:n,pathname:s,params:o}=i;return{id:n.id,pathname:s,params:o,data:e[n.id],handle:n.handle}}function IT(i,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(Ye(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let y=Pr([s,p.relativePath]),v=n.concat(p);u.children&&u.children.length>0&&(Ye(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),IT(u.children,e,v,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:Ow(y,u.index),routesMeta:v})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of CT(u.path))o(u,f,p)}),e}function CT(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=CT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function bw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:xw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const ww=/^:[\w-]+$/,Rw=3,Iw=2,Cw=1,Dw=10,Nw=-2,Iv=i=>i==="*";function Ow(i,e){let n=i.split("/"),s=n.length;return n.some(Iv)&&(s+=Nw),e&&(s+=Iw),n.filter(o=>!Iv(o)).reduce((o,u)=>o+(ww.test(u)?Rw:u===""?Cw:Dw),s)}function xw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Mw(i,e){let{routesMeta:n}=i,s={},o="/",u=[];for(let f=0;f<n.length;++f){let m=n[f],p=f===n.length-1,y=o==="/"?e:e.slice(o.length)||"/",v=Pw({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y);if(!v)return null;Object.assign(s,v.params);let A=m.route;u.push({params:s,pathname:Pr([o,v.pathname]),pathnameBase:jw(Pr([o,v.pathnameBase])),route:A}),v.pathnameBase!=="/"&&(o=Pr([o,v.pathnameBase]))}return u}function Pw(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=Vw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,v,A)=>{let{paramName:b,isOptional:V}=v;if(b==="*"){let L=m[A]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const q=m[A];return V&&!q?y[b]=void 0:y[b]=(q||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:i}}function Vw(i,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Uo(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function kw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Uo(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function Fo(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function Uw(i,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Ms(i):i;return{pathname:n?n.startsWith("/")?n:Lw(n,e):e,search:zw(s),hash:Bw(o)}}function Lw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function mm(i,e,n,s){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DT(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ap(i,e){let n=DT(i);return e?n.map((s,o)=>o===i.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function op(i,e,n,s){s===void 0&&(s=!1);let o;typeof i=="string"?o=Ms(i):(o=Vt({},i),Ye(!o.pathname||!o.pathname.includes("?"),mm("?","pathname","search",o)),Ye(!o.pathname||!o.pathname.includes("#"),mm("#","pathname","hash",o)),Ye(!o.search||!o.search.includes("#"),mm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),A-=1;o.pathname=b.join("/")}m=A>=0?e[A]:"/"}let p=Uw(o,m),y=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}const Pr=i=>i.join("/").replace(/\/\/+/g,"/"),jw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),zw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Bw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;class lp{constructor(e,n,s,o){o===void 0&&(o=!1),this.status=e,this.statusText=n||"",this.internal=o,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}}function NT(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const OT=["post","put","patch","delete"],Hw=new Set(OT),qw=["get",...OT],Fw=new Set(qw),Gw=new Set([301,302,303,307,308]),Kw=new Set([307,308]),pm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Yw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Zl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},xT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qw=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),MT="remix-router-transitions";function Xw(i){const e=i.window?i.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",s=!n;Ye(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(i.mapRouteProperties)o=i.mapRouteProperties;else if(i.detectErrorBoundary){let j=i.detectErrorBoundary;o=K=>({hasErrorBoundary:j(K)})}else o=Qw;let u={},f=Nm(i.routes,o,void 0,u),m,p=i.basename||"/",y=Vt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},i.future),v=null,A=new Set,b=null,V=null,q=null,L=i.hydrationData!=null,k=Co(f,i.history.location,p),ne=null;if(k==null){let j=di(404,{pathname:i.history.location.pathname}),{matches:K,route:Z}=Vv(f);k=K,ne={[Z.id]:j}}let ee,se=k.some(j=>j.route.lazy),de=k.some(j=>j.route.loader);if(se)ee=!1;else if(!de)ee=!0;else if(y.v7_partialHydration){let j=i.hydrationData?i.hydrationData.loaderData:null,K=i.hydrationData?i.hydrationData.errors:null,Z=ce=>ce.route.loader?ce.route.loader.hydrate===!0?!1:j&&j[ce.route.id]!==void 0||K&&K[ce.route.id]!==void 0:!0;if(K){let ce=k.findIndex(_e=>K[_e.route.id]!==void 0);ee=k.slice(0,ce+1).every(Z)}else ee=k.every(Z)}else ee=i.hydrationData!=null;let ge,G={historyAction:i.history.action,location:i.history.location,matches:k,initialized:ee,navigation:pm,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||ne,fetchers:new Map,blockers:new Map},D=Gt.Pop,w=!1,R,O=!1,x=new Map,P=null,I=!1,mt=!1,pt=[],$=[],le=new Map,Te=0,He=-1,N=new Map,te=new Set,fe=new Map,ue=new Map,Ee=new Set,Pe=new Map,we=new Map,Nt=!1;function ut(){if(v=i.history.listen(j=>{let{action:K,location:Z,delta:ce}=j;if(Nt){Nt=!1;return}Uo(we.size===0||ce!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _e=ur({currentLocation:G.location,nextLocation:Z,historyAction:K});if(_e&&ce!=null){Nt=!0,i.history.go(ce*-1),Tn(_e,{state:"blocked",location:Z,proceed(){Tn(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),i.history.go(ce)},reset(){let Me=new Map(G.blockers);Me.set(_e,Zl),Rt({blockers:Me})}});return}return Hn(K,Z)}),n){aR(e,x);let j=()=>oR(e,x);e.addEventListener("pagehide",j),P=()=>e.removeEventListener("pagehide",j)}return G.initialized||Hn(Gt.Pop,G.location,{initialHydration:!0}),ge}function ei(){v&&v(),P&&P(),A.clear(),R&&R.abort(),G.fetchers.forEach((j,K)=>Xe(K)),G.blockers.forEach((j,K)=>Mi(K))}function Ci(j){return A.add(j),()=>A.delete(j)}function Rt(j,K){K===void 0&&(K={}),G=Vt({},G,j);let Z=[],ce=[];y.v7_fetcherPersist&&G.fetchers.forEach((_e,Me)=>{_e.state==="idle"&&(Ee.has(Me)?ce.push(Me):Z.push(Me))}),[...A].forEach(_e=>_e(G,{deletedFetchers:ce,unstable_viewTransitionOpts:K.viewTransitionOpts,unstable_flushSync:K.flushSync===!0})),y.v7_fetcherPersist&&(Z.forEach(_e=>G.fetchers.delete(_e)),ce.forEach(_e=>Xe(_e)))}function Bn(j,K,Z){var ce,_e;let{flushSync:Me}=Z===void 0?{}:Z,Ie=G.actionData!=null&&G.navigation.formMethod!=null&&bi(G.navigation.formMethod)&&G.navigation.state==="loading"&&((ce=j.state)==null?void 0:ce._isRedirect)!==!0,me;K.actionData?Object.keys(K.actionData).length>0?me=K.actionData:me=null:Ie?me=G.actionData:me=null;let pe=K.loaderData?Pv(G.loaderData,K.loaderData,K.matches||[],K.errors):G.loaderData,be=G.blockers;be.size>0&&(be=new Map(be),be.forEach((rt,yt)=>be.set(yt,Zl)));let nt=w===!0||G.navigation.formMethod!=null&&bi(G.navigation.formMethod)&&((_e=j.state)==null?void 0:_e._isRedirect)!==!0;m&&(f=m,m=void 0),I||D===Gt.Pop||(D===Gt.Push?i.history.push(j,j.state):D===Gt.Replace&&i.history.replace(j,j.state));let Ve;if(D===Gt.Pop){let rt=x.get(G.location.pathname);rt&&rt.has(j.pathname)?Ve={currentLocation:G.location,nextLocation:j}:x.has(j.pathname)&&(Ve={currentLocation:j,nextLocation:G.location})}else if(O){let rt=x.get(G.location.pathname);rt?rt.add(j.pathname):(rt=new Set([j.pathname]),x.set(G.location.pathname,rt)),Ve={currentLocation:G.location,nextLocation:j}}Rt(Vt({},K,{actionData:me,loaderData:pe,historyAction:D,location:j,initialized:!0,navigation:pm,revalidation:"idle",restoreScrollPosition:ti(j,K.matches||G.matches),preventScrollReset:nt,blockers:be}),{viewTransitionOpts:Ve,flushSync:Me===!0}),D=Gt.Pop,w=!1,O=!1,I=!1,mt=!1,pt=[],$=[]}async function Di(j,K){if(typeof j=="number"){i.history.go(j);return}let Z=Om(G.location,G.matches,p,y.v7_prependBasename,j,y.v7_relativeSplatPath,K?.fromRouteId,K?.relative),{path:ce,submission:_e,error:Me}=Cv(y.v7_normalizeFormMethod,!1,Z,K),Ie=G.location,me=yu(G.location,ce,K&&K.state);me=Vt({},me,i.history.encodeLocation(me));let pe=K&&K.replace!=null?K.replace:void 0,be=Gt.Push;pe===!0?be=Gt.Replace:pe===!1||_e!=null&&bi(_e.formMethod)&&_e.formAction===G.location.pathname+G.location.search&&(be=Gt.Replace);let nt=K&&"preventScrollReset"in K?K.preventScrollReset===!0:void 0,Ve=(K&&K.unstable_flushSync)===!0,rt=ur({currentLocation:Ie,nextLocation:me,historyAction:be});if(rt){Tn(rt,{state:"blocked",location:me,proceed(){Tn(rt,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),Di(j,K)},reset(){let yt=new Map(G.blockers);yt.set(rt,Zl),Rt({blockers:yt})}});return}return await Hn(be,me,{submission:_e,pendingError:Me,preventScrollReset:nt,replace:K&&K.replace,enableViewTransition:K&&K.unstable_viewTransition,flushSync:Ve})}function or(){if(Ni(),Rt({revalidation:"loading"}),G.navigation.state!=="submitting"){if(G.navigation.state==="idle"){Hn(G.historyAction,G.location,{startUninterruptedRevalidation:!0});return}Hn(D||G.historyAction,G.navigation.location,{overrideNavigation:G.navigation})}}async function Hn(j,K,Z){R&&R.abort(),R=null,D=j,I=(Z&&Z.startUninterruptedRevalidation)===!0,js(G.location,G.matches),w=(Z&&Z.preventScrollReset)===!0,O=(Z&&Z.enableViewTransition)===!0;let ce=m||f,_e=Z&&Z.overrideNavigation,Me=Co(ce,K,p),Ie=(Z&&Z.flushSync)===!0;if(!Me){let yt=di(404,{pathname:K.pathname}),{matches:tn,route:_t}=Vv(ce);yi(),Bn(K,{matches:tn,loaderData:{},errors:{[_t.id]:yt}},{flushSync:Ie});return}if(G.initialized&&!mt&&eR(G.location,K)&&!(Z&&Z.submission&&bi(Z.submission.formMethod))){Bn(K,{matches:Me},{flushSync:Ie});return}R=new AbortController;let me=eu(i.history,K,R.signal,Z&&Z.submission),pe,be;if(Z&&Z.pendingError)be={[uu(Me).route.id]:Z.pendingError};else if(Z&&Z.submission&&bi(Z.submission.formMethod)){let yt=await Ma(me,K,Z.submission,Me,{replace:Z.replace,flushSync:Ie});if(yt.shortCircuited)return;pe=yt.pendingActionData,be=yt.pendingActionError,_e=gm(K,Z.submission),Ie=!1,me=new Request(me.url,{signal:me.signal})}let{shortCircuited:nt,loaderData:Ve,errors:rt}=await Pn(me,K,Me,_e,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,Ie,pe,be);nt||(R=null,Bn(K,Vt({matches:Me},pe?{actionData:pe}:{},{loaderData:Ve,errors:rt})))}async function Ma(j,K,Z,ce,_e){_e===void 0&&(_e={}),Ni();let Me=rR(K,Z);Rt({navigation:Me},{flushSync:_e.flushSync===!0});let Ie,me=Mm(ce,K);if(!me.route.action&&!me.route.lazy)Ie={type:Pt.error,error:di(405,{method:j.method,pathname:K.pathname,routeId:me.route.id})};else if(Ie=await Jl("action",j,me,ce,u,o,p,y.v7_relativeSplatPath),j.signal.aborted)return{shortCircuited:!0};if(pa(Ie)){let pe;return _e&&_e.replace!=null?pe=_e.replace:pe=Ie.location===G.location.pathname+G.location.search,await qn(G,Ie,{submission:Z,replace:pe}),{shortCircuited:!0}}if(Do(Ie)){let pe=uu(ce,me.route.id);return(_e&&_e.replace)!==!0&&(D=Gt.Push),{pendingActionData:{},pendingActionError:{[pe.route.id]:Ie.error}}}if(ma(Ie))throw di(400,{type:"defer-action"});return{pendingActionData:{[me.route.id]:Ie.data}}}async function Pn(j,K,Z,ce,_e,Me,Ie,me,pe,be,nt){let Ve=ce||gm(K,_e),rt=_e||Me||Lv(Ve),yt=m||f,[tn,_t]=Dv(i.history,G,Z,rt,K,y.v7_partialHydration&&me===!0,mt,pt,$,Ee,fe,te,yt,p,be,nt);if(yi(Ge=>!(Z&&Z.some(et=>et.route.id===Ge))||tn&&tn.some(et=>et.route.id===Ge)),He=++Te,tn.length===0&&_t.length===0){let Ge=Va();return Bn(K,Vt({matches:Z,loaderData:{},errors:nt||null},be?{actionData:be}:{},Ge?{fetchers:new Map(G.fetchers)}:{}),{flushSync:pe}),{shortCircuited:!0}}if(!I&&(!y.v7_partialHydration||!me)){_t.forEach(et=>{let Ot=G.fetchers.get(et.key),cr=tu(void 0,Ot?Ot.data:void 0);G.fetchers.set(et.key,cr)});let Ge=be||G.actionData;Rt(Vt({navigation:Ve},Ge?Object.keys(Ge).length===0?{actionData:null}:{actionData:Ge}:{},_t.length>0?{fetchers:new Map(G.fetchers)}:{}),{flushSync:pe})}_t.forEach(Ge=>{le.has(Ge.key)&&Tt(Ge.key),Ge.controller&&le.set(Ge.key,Ge.controller)});let Dn=()=>_t.forEach(Ge=>Tt(Ge.key));R&&R.signal.addEventListener("abort",Dn);let{results:Fn,loaderResults:hn,fetcherResults:Yt}=await Pa(G.matches,Z,tn,_t,j);if(j.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Dn),_t.forEach(Ge=>le.delete(Ge.key));let It=kv(Fn);if(It){if(It.idx>=tn.length){let Ge=_t[It.idx-tn.length].key;te.add(Ge)}return await qn(G,It.result,{replace:Ie}),{shortCircuited:!0}}let{loaderData:St,errors:vi}=Mv(G,Z,tn,hn,nt,_t,Yt,Pe);Pe.forEach((Ge,et)=>{Ge.subscribe(Ot=>{(Ot||Ge.done)&&Pe.delete(et)})}),y.v7_partialHydration&&me&&G.errors&&Object.entries(G.errors).filter(Ge=>{let[et]=Ge;return!tn.some(Ot=>Ot.route.id===et)}).forEach(Ge=>{let[et,Ot]=Ge;vi=Object.assign(vi||{},{[et]:Ot})});let Pi=Va(),nn=xi(He),kn=Pi||nn||_t.length>0;return Vt({loaderData:St,errors:vi},kn?{fetchers:new Map(G.fetchers)}:{})}function Wo(j,K,Z,ce){if(s)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");le.has(j)&&Tt(j);let _e=(ce&&ce.unstable_flushSync)===!0,Me=m||f,Ie=Om(G.location,G.matches,p,y.v7_prependBasename,Z,y.v7_relativeSplatPath,K,ce?.relative),me=Co(Me,Ie,p);if(!me){Oi(j,K,di(404,{pathname:Ie}),{flushSync:_e});return}let{path:pe,submission:be,error:nt}=Cv(y.v7_normalizeFormMethod,!0,Ie,ce);if(nt){Oi(j,K,nt,{flushSync:_e});return}let Ve=Mm(me,pe);if(w=(ce&&ce.preventScrollReset)===!0,be&&bi(be.formMethod)){ks(j,K,pe,Ve,me,_e,be);return}fe.set(j,{routeId:K,path:pe}),zr(j,K,pe,Ve,me,_e,be)}async function ks(j,K,Z,ce,_e,Me,Ie){if(Ni(),fe.delete(j),!ce.route.action&&!ce.route.lazy){let et=di(405,{method:Ie.formMethod,pathname:Z,routeId:K});Oi(j,K,et,{flushSync:Me});return}let me=G.fetchers.get(j);Vn(j,sR(Ie,me),{flushSync:Me});let pe=new AbortController,be=eu(i.history,Z,pe.signal,Ie);le.set(j,pe);let nt=Te,Ve=await Jl("action",be,ce,_e,u,o,p,y.v7_relativeSplatPath);if(be.signal.aborted){le.get(j)===pe&&le.delete(j);return}if(y.v7_fetcherPersist&&Ee.has(j)){if(pa(Ve)||Do(Ve)){Vn(j,fs(void 0));return}}else{if(pa(Ve))if(le.delete(j),He>nt){Vn(j,fs(void 0));return}else return te.add(j),Vn(j,tu(Ie)),qn(G,Ve,{fetcherSubmission:Ie});if(Do(Ve)){Oi(j,K,Ve.error);return}}if(ma(Ve))throw di(400,{type:"defer-action"});let rt=G.navigation.location||G.location,yt=eu(i.history,rt,pe.signal),tn=m||f,_t=G.navigation.state!=="idle"?Co(tn,G.navigation.location,p):G.matches;Ye(_t,"Didn't find any matches after fetcher action");let Dn=++Te;N.set(j,Dn);let Fn=tu(Ie,Ve.data);G.fetchers.set(j,Fn);let[hn,Yt]=Dv(i.history,G,_t,Ie,rt,!1,mt,pt,$,Ee,fe,te,tn,p,{[ce.route.id]:Ve.data},void 0);Yt.filter(et=>et.key!==j).forEach(et=>{let Ot=et.key,cr=G.fetchers.get(Ot),Vi=tu(void 0,cr?cr.data:void 0);G.fetchers.set(Ot,Vi),le.has(Ot)&&Tt(Ot),et.controller&&le.set(Ot,et.controller)}),Rt({fetchers:new Map(G.fetchers)});let It=()=>Yt.forEach(et=>Tt(et.key));pe.signal.addEventListener("abort",It);let{results:St,loaderResults:vi,fetcherResults:Pi}=await Pa(G.matches,_t,hn,Yt,yt);if(pe.signal.aborted)return;pe.signal.removeEventListener("abort",It),N.delete(j),le.delete(j),Yt.forEach(et=>le.delete(et.key));let nn=kv(St);if(nn){if(nn.idx>=hn.length){let et=Yt[nn.idx-hn.length].key;te.add(et)}return qn(G,nn.result)}let{loaderData:kn,errors:Ge}=Mv(G,G.matches,hn,vi,void 0,Yt,Pi,Pe);if(G.fetchers.has(j)){let et=fs(Ve.data);G.fetchers.set(j,et)}xi(Dn),G.navigation.state==="loading"&&Dn>He?(Ye(D,"Expected pending action"),R&&R.abort(),Bn(G.navigation.location,{matches:_t,loaderData:kn,errors:Ge,fetchers:new Map(G.fetchers)})):(Rt({errors:Ge,loaderData:Pv(G.loaderData,kn,_t,Ge),fetchers:new Map(G.fetchers)}),mt=!1)}async function zr(j,K,Z,ce,_e,Me,Ie){let me=G.fetchers.get(j);Vn(j,tu(Ie,me?me.data:void 0),{flushSync:Me});let pe=new AbortController,be=eu(i.history,Z,pe.signal);le.set(j,pe);let nt=Te,Ve=await Jl("loader",be,ce,_e,u,o,p,y.v7_relativeSplatPath);if(ma(Ve)&&(Ve=await kT(Ve,be.signal,!0)||Ve),le.get(j)===pe&&le.delete(j),!be.signal.aborted){if(Ee.has(j)){Vn(j,fs(void 0));return}if(pa(Ve))if(He>nt){Vn(j,fs(void 0));return}else{te.add(j),await qn(G,Ve);return}if(Do(Ve)){Oi(j,K,Ve.error);return}Ye(!ma(Ve),"Unhandled fetcher deferred data"),Vn(j,fs(Ve.data))}}async function qn(j,K,Z){let{submission:ce,fetcherSubmission:_e,replace:Me}=Z===void 0?{}:Z;K.revalidate&&(mt=!0);let Ie=yu(j.location,K.location,{_isRedirect:!0});if(Ye(Ie,"Expected a location on the redirect navigation"),n){let rt=!1;if(K.reloadDocument)rt=!0;else if(xT.test(K.location)){const yt=i.history.createURL(K.location);rt=yt.origin!==e.location.origin||Fo(yt.pathname,p)==null}if(rt){Me?e.location.replace(K.location):e.location.assign(K.location);return}}R=null;let me=Me===!0?Gt.Replace:Gt.Push,{formMethod:pe,formAction:be,formEncType:nt}=j.navigation;!ce&&!_e&&pe&&be&&nt&&(ce=Lv(j.navigation));let Ve=ce||_e;if(Kw.has(K.status)&&Ve&&bi(Ve.formMethod))await Hn(me,Ie,{submission:Vt({},Ve,{formAction:K.location}),preventScrollReset:w});else{let rt=gm(Ie,ce);await Hn(me,Ie,{overrideNavigation:rt,fetcherSubmission:_e,preventScrollReset:w})}}async function Pa(j,K,Z,ce,_e){let Me=await Promise.all([...Z.map(pe=>Jl("loader",_e,pe,K,u,o,p,y.v7_relativeSplatPath)),...ce.map(pe=>pe.matches&&pe.match&&pe.controller?Jl("loader",eu(i.history,pe.path,pe.controller.signal),pe.match,pe.matches,u,o,p,y.v7_relativeSplatPath):{type:Pt.error,error:di(404,{pathname:pe.path})})]),Ie=Me.slice(0,Z.length),me=Me.slice(Z.length);return await Promise.all([Uv(j,Z,Ie,Ie.map(()=>_e.signal),!1,G.loaderData),Uv(j,ce.map(pe=>pe.match),me,ce.map(pe=>pe.controller?pe.controller.signal:null),!0)]),{results:Me,loaderResults:Ie,fetcherResults:me}}function Ni(){mt=!0,pt.push(...yi()),fe.forEach((j,K)=>{le.has(K)&&($.push(K),Tt(K))})}function Vn(j,K,Z){Z===void 0&&(Z={}),G.fetchers.set(j,K),Rt({fetchers:new Map(G.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function Oi(j,K,Z,ce){ce===void 0&&(ce={});let _e=uu(G.matches,K);Xe(j),Rt({errors:{[_e.route.id]:Z},fetchers:new Map(G.fetchers)},{flushSync:(ce&&ce.flushSync)===!0})}function Et(j){return y.v7_fetcherPersist&&(ue.set(j,(ue.get(j)||0)+1),Ee.has(j)&&Ee.delete(j)),G.fetchers.get(j)||Yw}function Xe(j){let K=G.fetchers.get(j);le.has(j)&&!(K&&K.state==="loading"&&N.has(j))&&Tt(j),fe.delete(j),N.delete(j),te.delete(j),Ee.delete(j),G.fetchers.delete(j)}function Cn(j){if(y.v7_fetcherPersist){let K=(ue.get(j)||0)-1;K<=0?(ue.delete(j),Ee.add(j)):ue.set(j,K)}else Xe(j);Rt({fetchers:new Map(G.fetchers)})}function Tt(j){let K=le.get(j);Ye(K,"Expected fetch controller: "+j),K.abort(),le.delete(j)}function Us(j){for(let K of j){let Z=Et(K),ce=fs(Z.data);G.fetchers.set(K,ce)}}function Va(){let j=[],K=!1;for(let Z of te){let ce=G.fetchers.get(Z);Ye(ce,"Expected fetcher: "+Z),ce.state==="loading"&&(te.delete(Z),j.push(Z),K=!0)}return Us(j),K}function xi(j){let K=[];for(let[Z,ce]of N)if(ce<j){let _e=G.fetchers.get(Z);Ye(_e,"Expected fetcher: "+Z),_e.state==="loading"&&(Tt(Z),N.delete(Z),K.push(Z))}return Us(K),K.length>0}function lr(j,K){let Z=G.blockers.get(j)||Zl;return we.get(j)!==K&&we.set(j,K),Z}function Mi(j){G.blockers.delete(j),we.delete(j)}function Tn(j,K){let Z=G.blockers.get(j)||Zl;Ye(Z.state==="unblocked"&&K.state==="blocked"||Z.state==="blocked"&&K.state==="blocked"||Z.state==="blocked"&&K.state==="proceeding"||Z.state==="blocked"&&K.state==="unblocked"||Z.state==="proceeding"&&K.state==="unblocked","Invalid blocker state transition: "+Z.state+" -> "+K.state);let ce=new Map(G.blockers);ce.set(j,K),Rt({blockers:ce})}function ur(j){let{currentLocation:K,nextLocation:Z,historyAction:ce}=j;if(we.size===0)return;we.size>1&&Uo(!1,"A router only supports one blocker at a time");let _e=Array.from(we.entries()),[Me,Ie]=_e[_e.length-1],me=G.blockers.get(Me);if(!(me&&me.state==="proceeding")&&Ie({currentLocation:K,nextLocation:Z,historyAction:ce}))return Me}function yi(j){let K=[];return Pe.forEach((Z,ce)=>{(!j||j(ce))&&(Z.cancel(),K.push(ce),Pe.delete(ce))}),K}function Ls(j,K,Z){if(b=j,q=K,V=Z||null,!L&&G.navigation===pm){L=!0;let ce=ti(G.location,G.matches);ce!=null&&Rt({restoreScrollPosition:ce})}return()=>{b=null,q=null,V=null}}function Br(j,K){return V&&V(j,K.map(ce=>Aw(ce,G.loaderData)))||j.key}function js(j,K){if(b&&q){let Z=Br(j,K);b[Z]=q()}}function ti(j,K){if(b){let Z=Br(j,K),ce=b[Z];if(typeof ce=="number")return ce}return null}function _i(j){u={},m=Nm(j,o,void 0,u)}return ge={get basename(){return p},get future(){return y},get state(){return G},get routes(){return f},get window(){return e},initialize:ut,subscribe:Ci,enableScrollRestoration:Ls,navigate:Di,fetch:Wo,revalidate:or,createHref:j=>i.history.createHref(j),encodeLocation:j=>i.history.encodeLocation(j),getFetcher:Et,deleteFetcher:Cn,dispose:ei,getBlocker:lr,deleteBlocker:Mi,_internalFetchControllers:le,_internalActiveDeferreds:Pe,_internalSetRoutes:_i},ge}function $w(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function Om(i,e,n,s,o,u,f,m){let p,y;if(f){p=[];for(let A of e)if(p.push(A),A.route.id===f){y=A;break}}else p=e,y=e[e.length-1];let v=op(o||".",ap(p,u),Fo(i.pathname,n)||i.pathname,m==="path");return o==null&&(v.search=i.search,v.hash=i.hash),(o==null||o===""||o===".")&&y&&y.route.index&&!up(v.search)&&(v.search=v.search?v.search.replace(/^\?/,"?index&"):"?index"),s&&n!=="/"&&(v.pathname=v.pathname==="/"?n:Pr([n,v.pathname])),_a(v)}function Cv(i,e,n,s){if(!s||!$w(s))return{path:n};if(s.formMethod&&!iR(s.formMethod))return{path:n,error:di(405,{method:s.formMethod})};let o=()=>({path:n,error:di(400,{type:"invalid-body"})}),u=s.formMethod||"get",f=i?u.toUpperCase():u.toLowerCase(),m=VT(n);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!bi(f))return o();let b=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((V,q)=>{let[L,k]=q;return""+V+L+"="+k+`
`},""):String(s.body);return{path:n,submission:{formMethod:f,formAction:m,formEncType:s.formEncType,formData:void 0,json:void 0,text:b}}}else if(s.formEncType==="application/json"){if(!bi(f))return o();try{let b=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:n,submission:{formMethod:f,formAction:m,formEncType:s.formEncType,formData:void 0,json:b,text:void 0}}}catch{return o()}}}Ye(typeof FormData=="function","FormData is not available in this environment");let p,y;if(s.formData)p=xm(s.formData),y=s.formData;else if(s.body instanceof FormData)p=xm(s.body),y=s.body;else if(s.body instanceof URLSearchParams)p=s.body,y=xv(p);else if(s.body==null)p=new URLSearchParams,y=new FormData;else try{p=new URLSearchParams(s.body),y=xv(p)}catch{return o()}let v={formMethod:f,formAction:m,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:y,json:void 0,text:void 0};if(bi(v.formMethod))return{path:n,submission:v};let A=Ms(n);return e&&A.search&&up(A.search)&&p.append("index",""),A.search="?"+p,{path:_a(A),submission:v}}function Ww(i,e){let n=i;if(e){let s=i.findIndex(o=>o.route.id===e);s>=0&&(n=i.slice(0,s))}return n}function Dv(i,e,n,s,o,u,f,m,p,y,v,A,b,V,q,L){let k=L?Object.values(L)[0]:q?Object.values(q)[0]:void 0,ne=i.createURL(e.location),ee=i.createURL(o),se=L?Object.keys(L)[0]:void 0,ge=Ww(n,se).filter((D,w)=>{let{route:R}=D;if(R.lazy)return!0;if(R.loader==null)return!1;if(u)return R.loader.hydrate?!0:e.loaderData[R.id]===void 0&&(!e.errors||e.errors[R.id]===void 0);if(Zw(e.loaderData,e.matches[w],D)||m.some(P=>P===D.route.id))return!0;let O=e.matches[w],x=D;return Nv(D,Vt({currentUrl:ne,currentParams:O.params,nextUrl:ee,nextParams:x.params},s,{actionResult:k,defaultShouldRevalidate:f||ne.pathname+ne.search===ee.pathname+ee.search||ne.search!==ee.search||PT(O,x)}))}),G=[];return v.forEach((D,w)=>{if(u||!n.some(I=>I.route.id===D.routeId)||y.has(w))return;let R=Co(b,D.path,V);if(!R){G.push({key:w,routeId:D.routeId,path:D.path,matches:null,match:null,controller:null});return}let O=e.fetchers.get(w),x=Mm(R,D.path),P=!1;A.has(w)?P=!1:p.includes(w)?P=!0:O&&O.state!=="idle"&&O.data===void 0?P=f:P=Nv(x,Vt({currentUrl:ne,currentParams:e.matches[e.matches.length-1].params,nextUrl:ee,nextParams:n[n.length-1].params},s,{actionResult:k,defaultShouldRevalidate:f})),P&&G.push({key:w,routeId:D.routeId,path:D.path,matches:R,match:x,controller:new AbortController})}),[ge,G]}function Zw(i,e,n){let s=!e||n.route.id!==e.route.id,o=i[n.route.id]===void 0;return s||o}function PT(i,e){let n=i.route.path;return i.pathname!==e.pathname||n!=null&&n.endsWith("*")&&i.params["*"]!==e.params["*"]}function Nv(i,e){if(i.route.shouldRevalidate){let n=i.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Ov(i,e,n){if(!i.lazy)return;let s=await i.lazy();if(!i.lazy)return;let o=n[i.id];Ye(o,"No route found in manifest");let u={};for(let f in s){let p=o[f]!==void 0&&f!=="hasErrorBoundary";Uo(!p,'Route "'+o.id+'" has a static property "'+f+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+f+'" will be ignored.')),!p&&!Tw.has(f)&&(u[f]=s[f])}Object.assign(o,u),Object.assign(o,Vt({},e(o),{lazy:void 0}))}async function Jl(i,e,n,s,o,u,f,m,p){p===void 0&&(p={});let y,v,A,b=L=>{let k,ne=new Promise((ee,se)=>k=se);return A=()=>k(),e.signal.addEventListener("abort",A),Promise.race([L({request:e,params:n.params,context:p.requestContext}),ne])};try{let L=n.route[i];if(n.route.lazy)if(L){let k,ne=await Promise.all([b(L).catch(ee=>{k=ee}),Ov(n.route,u,o)]);if(k)throw k;v=ne[0]}else if(await Ov(n.route,u,o),L=n.route[i],L)v=await b(L);else if(i==="action"){let k=new URL(e.url),ne=k.pathname+k.search;throw di(405,{method:e.method,pathname:ne,routeId:n.route.id})}else return{type:Pt.data,data:void 0};else if(L)v=await b(L);else{let k=new URL(e.url),ne=k.pathname+k.search;throw di(404,{pathname:ne})}Ye(v!==void 0,"You defined "+(i==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+i+"` ")+"function. Please return a value or `null`.")}catch(L){y=Pt.error,v=L}finally{A&&e.signal.removeEventListener("abort",A)}if(nR(v)){let L=v.status;if(Gw.has(L)){let ne=v.headers.get("Location");if(Ye(ne,"Redirects returned/thrown from loaders/actions must have a Location header"),!xT.test(ne))ne=Om(new URL(e.url),s.slice(0,s.indexOf(n)+1),f,!0,ne,m);else if(!p.isStaticRequest){let ee=new URL(e.url),se=ne.startsWith("//")?new URL(ee.protocol+ne):new URL(ne),de=Fo(se.pathname,f)!=null;se.origin===ee.origin&&de&&(ne=se.pathname+se.search+se.hash)}if(p.isStaticRequest)throw v.headers.set("Location",ne),v;return{type:Pt.redirect,status:L,location:ne,revalidate:v.headers.get("X-Remix-Revalidate")!==null,reloadDocument:v.headers.get("X-Remix-Reload-Document")!==null}}if(p.isRouteRequest)throw{type:y===Pt.error?Pt.error:Pt.data,response:v};let k;try{let ne=v.headers.get("Content-Type");ne&&/\bapplication\/json\b/.test(ne)?v.body==null?k=null:k=await v.json():k=await v.text()}catch(ne){return{type:Pt.error,error:ne}}return y===Pt.error?{type:y,error:new lp(L,v.statusText,k),headers:v.headers}:{type:Pt.data,data:k,statusCode:v.status,headers:v.headers}}if(y===Pt.error)return{type:y,error:v};if(tR(v)){var V,q;return{type:Pt.deferred,deferredData:v,statusCode:(V=v.init)==null?void 0:V.status,headers:((q=v.init)==null?void 0:q.headers)&&new Headers(v.init.headers)}}return{type:Pt.data,data:v}}function eu(i,e,n,s){let o=i.createURL(VT(e)).toString(),u={signal:n};if(s&&bi(s.formMethod)){let{formMethod:f,formEncType:m}=s;u.method=f.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(s.json)):m==="text/plain"?u.body=s.text:m==="application/x-www-form-urlencoded"&&s.formData?u.body=xm(s.formData):u.body=s.formData}return new Request(o,u)}function xm(i){let e=new URLSearchParams;for(let[n,s]of i.entries())e.append(n,typeof s=="string"?s:s.name);return e}function xv(i){let e=new FormData;for(let[n,s]of i.entries())e.append(n,s);return e}function Jw(i,e,n,s,o){let u={},f=null,m,p=!1,y={};return n.forEach((v,A)=>{let b=e[A].route.id;if(Ye(!pa(v),"Cannot handle redirect results in processLoaderData"),Do(v)){let V=uu(i,b),q=v.error;s&&(q=Object.values(s)[0],s=void 0),f=f||{},f[V.route.id]==null&&(f[V.route.id]=q),u[b]=void 0,p||(p=!0,m=NT(v.error)?v.error.status:500),v.headers&&(y[b]=v.headers)}else ma(v)?(o.set(b,v.deferredData),u[b]=v.deferredData.data):u[b]=v.data,v.statusCode!=null&&v.statusCode!==200&&!p&&(m=v.statusCode),v.headers&&(y[b]=v.headers)}),s&&(f=s,u[Object.keys(s)[0]]=void 0),{loaderData:u,errors:f,statusCode:m||200,loaderHeaders:y}}function Mv(i,e,n,s,o,u,f,m){let{loaderData:p,errors:y}=Jw(e,n,s,o,m);for(let v=0;v<u.length;v++){let{key:A,match:b,controller:V}=u[v];Ye(f!==void 0&&f[v]!==void 0,"Did not find corresponding fetcher result");let q=f[v];if(!(V&&V.signal.aborted))if(Do(q)){let L=uu(i.matches,b?.route.id);y&&y[L.route.id]||(y=Vt({},y,{[L.route.id]:q.error})),i.fetchers.delete(A)}else if(pa(q))Ye(!1,"Unhandled fetcher revalidation redirect");else if(ma(q))Ye(!1,"Unhandled fetcher deferred data");else{let L=fs(q.data);i.fetchers.set(A,L)}}return{loaderData:p,errors:y}}function Pv(i,e,n,s){let o=Vt({},e);for(let u of n){let f=u.route.id;if(e.hasOwnProperty(f)?e[f]!==void 0&&(o[f]=e[f]):i[f]!==void 0&&u.route.loader&&(o[f]=i[f]),s&&s.hasOwnProperty(f))break}return o}function uu(i,e){return(e?i.slice(0,i.findIndex(s=>s.route.id===e)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function Vv(i){let e=i.length===1?i[0]:i.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function di(i,e){let{pathname:n,routeId:s,method:o,type:u}=e===void 0?{}:e,f="Unknown Server Error",m="Unknown @remix-run/router error";return i===400?(f="Bad Request",o&&n&&s?m="You made a "+o+' request to "'+n+'" but '+('did not provide a `loader` for route "'+s+'", ')+"so there is no way to handle the request.":u==="defer-action"?m="defer() is not supported in actions":u==="invalid-body"&&(m="Unable to encode submission body")):i===403?(f="Forbidden",m='Route "'+s+'" does not match URL "'+n+'"'):i===404?(f="Not Found",m='No route matches URL "'+n+'"'):i===405&&(f="Method Not Allowed",o&&n&&s?m="You made a "+o.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+s+'", ')+"so there is no way to handle the request.":o&&(m='Invalid request method "'+o.toUpperCase()+'"')),new lp(i||500,f,new Error(m),!0)}function kv(i){for(let e=i.length-1;e>=0;e--){let n=i[e];if(pa(n))return{result:n,idx:e}}}function VT(i){let e=typeof i=="string"?Ms(i):i;return _a(Vt({},e,{hash:""}))}function eR(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function ma(i){return i.type===Pt.deferred}function Do(i){return i.type===Pt.error}function pa(i){return(i&&i.type)===Pt.redirect}function tR(i){let e=i;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function nR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function iR(i){return Fw.has(i.toLowerCase())}function bi(i){return Hw.has(i.toLowerCase())}async function Uv(i,e,n,s,o,u){for(let f=0;f<n.length;f++){let m=n[f],p=e[f];if(!p)continue;let y=i.find(A=>A.route.id===p.route.id),v=y!=null&&!PT(y,p)&&(u&&u[p.route.id])!==void 0;if(ma(m)&&(o||v)){let A=s[f];Ye(A,"Expected an AbortSignal for revalidating fetcher deferred result"),await kT(m,A,o).then(b=>{b&&(n[f]=b||n[f])})}}}async function kT(i,e,n){if(n===void 0&&(n=!1),!await i.deferredData.resolveData(e)){if(n)try{return{type:Pt.data,data:i.deferredData.unwrappedData}}catch(o){return{type:Pt.error,error:o}}return{type:Pt.data,data:i.deferredData.data}}}function up(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function Mm(i,e){let n=typeof e=="string"?Ms(e).search:e.search;if(i[i.length-1].route.index&&up(n||""))return i[i.length-1];let s=DT(i);return s[s.length-1]}function Lv(i){let{formMethod:e,formAction:n,formEncType:s,text:o,formData:u,json:f}=i;if(!(!e||!n||!s)){if(o!=null)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:s,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:f,text:void 0}}}function gm(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function rR(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function tu(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function sR(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function fs(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function aR(i,e){try{let n=i.sessionStorage.getItem(MT);if(n){let s=JSON.parse(n);for(let[o,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function oR(i,e){if(e.size>0){let n={};for(let[s,o]of e)n[s]=[...o];try{i.sessionStorage.setItem(MT,JSON.stringify(n))}catch(s){Uo(!1,"Failed to save applied view transitions in sessionStorage ("+s+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eh(){return Eh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Eh.apply(this,arguments)}const qh=ae.createContext(null),UT=ae.createContext(null),wa=ae.createContext(null),cp=ae.createContext(null),Ra=ae.createContext({outlet:null,matches:[],isDataRoute:!1}),LT=ae.createContext(null);function lR(i,e){let{relative:n}=e===void 0?{}:e;Cu()||Ye(!1);let{basename:s,navigator:o}=ae.useContext(wa),{hash:u,pathname:f,search:m}=zT(i,{relative:n}),p=f;return s!=="/"&&(p=f==="/"?s:Pr([s,f])),o.createHref({pathname:p,search:m,hash:u})}function Cu(){return ae.useContext(cp)!=null}function Fh(){return Cu()||Ye(!1),ae.useContext(cp).location}function jT(i){ae.useContext(wa).static||ae.useLayoutEffect(i)}function hp(){let{isDataRoute:i}=ae.useContext(Ra);return i?ER():uR()}function uR(){Cu()||Ye(!1);let i=ae.useContext(qh),{basename:e,future:n,navigator:s}=ae.useContext(wa),{matches:o}=ae.useContext(Ra),{pathname:u}=Fh(),f=JSON.stringify(ap(o,n.v7_relativeSplatPath)),m=ae.useRef(!1);return jT(()=>{m.current=!0}),ae.useCallback(function(y,v){if(v===void 0&&(v={}),!m.current)return;if(typeof y=="number"){s.go(y);return}let A=op(y,JSON.parse(f),u,v.relative==="path");i==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:Pr([e,A.pathname])),(v.replace?s.replace:s.push)(A,v.state,v)},[e,s,f,u,i])}function zT(i,e){let{relative:n}=e===void 0?{}:e,{future:s}=ae.useContext(wa),{matches:o}=ae.useContext(Ra),{pathname:u}=Fh(),f=JSON.stringify(ap(o,s.v7_relativeSplatPath));return ae.useMemo(()=>op(i,JSON.parse(f),u,n==="path"),[i,f,u,n])}function cR(i,e,n,s){Cu()||Ye(!1);let{navigator:o}=ae.useContext(wa),{matches:u}=ae.useContext(Ra),f=u[u.length-1],m=f?f.params:{};f&&f.pathname;let p=f?f.pathnameBase:"/";f&&f.route;let y=Fh(),v;v=y;let A=v.pathname||"/",b=A;if(p!=="/"){let L=p.replace(/^\//,"").split("/");b="/"+A.replace(/^\//,"").split("/").slice(L.length).join("/")}let V=Co(i,{pathname:b});return pR(V&&V.map(L=>Object.assign({},L,{params:Object.assign({},m,L.params),pathname:Pr([p,o.encodeLocation?o.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?p:Pr([p,o.encodeLocation?o.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),u,n,s)}function hR(){let i=vR(),e=NT(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ae.createElement(ae.Fragment,null,ae.createElement("h2",null,"Unexpected Application Error!"),ae.createElement("h3",{style:{fontStyle:"italic"}},e),n?ae.createElement("pre",{style:o},n):null,null)}const fR=ae.createElement(hR,null);class dR extends ae.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?ae.createElement(Ra.Provider,{value:this.props.routeContext},ae.createElement(LT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mR(i){let{routeContext:e,match:n,children:s}=i,o=ae.useContext(qh);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),ae.createElement(Ra.Provider,{value:e},s)}function pR(i,e,n,s){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),i==null){var u;if((u=n)!=null&&u.errors)i=n.matches;else return null}let f=i,m=(o=n)==null?void 0:o.errors;if(m!=null){let v=f.findIndex(A=>A.route.id&&m?.[A.route.id]);v>=0||Ye(!1),f=f.slice(0,Math.min(f.length,v+1))}let p=!1,y=-1;if(n&&s&&s.v7_partialHydration)for(let v=0;v<f.length;v++){let A=f[v];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(y=v),A.route.id){let{loaderData:b,errors:V}=n,q=A.route.loader&&b[A.route.id]===void 0&&(!V||V[A.route.id]===void 0);if(A.route.lazy||q){p=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}return f.reduceRight((v,A,b)=>{let V,q=!1,L=null,k=null;n&&(V=m&&A.route.id?m[A.route.id]:void 0,L=A.route.errorElement||fR,p&&(y<0&&b===0?(TR("route-fallback"),q=!0,k=null):y===b&&(q=!0,k=A.route.hydrateFallbackElement||null)));let ne=e.concat(f.slice(0,b+1)),ee=()=>{let se;return V?se=L:q?se=k:A.route.Component?se=ae.createElement(A.route.Component,null):A.route.element?se=A.route.element:se=v,ae.createElement(mR,{match:A,routeContext:{outlet:v,matches:ne,isDataRoute:n!=null},children:se})};return n&&(A.route.ErrorBoundary||A.route.errorElement||b===0)?ae.createElement(dR,{location:n.location,revalidation:n.revalidation,component:L,error:V,children:ee(),routeContext:{outlet:null,matches:ne,isDataRoute:!0}}):ee()},null)}var BT=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(BT||{}),HT=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(HT||{});function gR(i){let e=ae.useContext(qh);return e||Ye(!1),e}function yR(i){let e=ae.useContext(UT);return e||Ye(!1),e}function _R(i){let e=ae.useContext(Ra);return e||Ye(!1),e}function qT(i){let e=_R(),n=e.matches[e.matches.length-1];return n.route.id||Ye(!1),n.route.id}function vR(){var i;let e=ae.useContext(LT),n=yR(HT.UseRouteError),s=qT();return e!==void 0?e:(i=n.errors)==null?void 0:i[s]}function ER(){let{router:i}=gR(BT.UseNavigateStable),e=qT(),n=ae.useRef(!1);return jT(()=>{n.current=!0}),ae.useCallback(function(o,u){u===void 0&&(u={}),n.current&&(typeof o=="number"?i.navigate(o):i.navigate(o,Eh({fromRouteId:e},u)))},[i,e])}const jv={};function TR(i,e,n){jv[i]||(jv[i]=!0)}function SR(i){let{basename:e="/",children:n=null,location:s,navigationType:o=Gt.Pop,navigator:u,static:f=!1,future:m}=i;Cu()&&Ye(!1);let p=e.replace(/^\/*/,"/"),y=ae.useMemo(()=>({basename:p,navigator:u,static:f,future:Eh({v7_relativeSplatPath:!1},m)}),[p,m,u,f]);typeof s=="string"&&(s=Ms(s));let{pathname:v="/",search:A="",hash:b="",state:V=null,key:q="default"}=s,L=ae.useMemo(()=>{let k=Fo(v,p);return k==null?null:{location:{pathname:k,search:A,hash:b,state:V,key:q},navigationType:o}},[p,v,A,b,V,q,o]);return L==null?null:ae.createElement(wa.Provider,{value:y},ae.createElement(cp.Provider,{children:n,value:L}))}new Promise(()=>{});function AR(i){let e={hasErrorBoundary:i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&Object.assign(e,{element:ae.createElement(i.Component),Component:void 0}),i.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:ae.createElement(i.HydrateFallback),HydrateFallback:void 0}),i.ErrorBoundary&&Object.assign(e,{errorElement:ae.createElement(i.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _u(){return _u=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},_u.apply(this,arguments)}function bR(i,e){if(i==null)return{};var n={},s=Object.keys(i),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}function wR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function RR(i,e){return i.button===0&&(!e||e==="_self")&&!wR(i)}const IR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],CR="6";try{window.__reactRouterVersion=CR}catch{}function DR(i,e){return Xw({basename:void 0,future:_u({},void 0,{v7_prependBasename:!0}),history:_w({window:void 0}),hydrationData:NR(),routes:i,mapRouteProperties:AR,window:void 0}).initialize()}function NR(){var i;let e=(i=window)==null?void 0:i.__staticRouterHydrationData;return e&&e.errors&&(e=_u({},e,{errors:OR(e.errors)})),e}function OR(i){if(!i)return null;let e=Object.entries(i),n={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")n[s]=new lp(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",n[s]=f}catch{}}if(n[s]==null){let u=new Error(o.message);u.stack="",n[s]=u}}else n[s]=o;return n}const xR=ae.createContext({isTransitioning:!1}),MR=ae.createContext(new Map),PR="startTransition",zv=uw[PR],VR="flushSync",Bv=yw[VR];function kR(i){zv?zv(i):i()}function nu(i){Bv?Bv(i):i()}let UR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",n(s))}})}};function LR(i){let{fallbackElement:e,router:n,future:s}=i,[o,u]=ae.useState(n.state),[f,m]=ae.useState(),[p,y]=ae.useState({isTransitioning:!1}),[v,A]=ae.useState(),[b,V]=ae.useState(),[q,L]=ae.useState(),k=ae.useRef(new Map),{v7_startTransition:ne}=s||{},ee=ae.useCallback(D=>{ne?kR(D):D()},[ne]),se=ae.useCallback((D,w)=>{let{deletedFetchers:R,unstable_flushSync:O,unstable_viewTransitionOpts:x}=w;R.forEach(I=>k.current.delete(I)),D.fetchers.forEach((I,mt)=>{I.data!==void 0&&k.current.set(mt,I.data)});let P=n.window==null||typeof n.window.document.startViewTransition!="function";if(!x||P){O?nu(()=>u(D)):ee(()=>u(D));return}if(O){nu(()=>{b&&(v&&v.resolve(),b.skipTransition()),y({isTransitioning:!0,flushSync:!0,currentLocation:x.currentLocation,nextLocation:x.nextLocation})});let I=n.window.document.startViewTransition(()=>{nu(()=>u(D))});I.finished.finally(()=>{nu(()=>{A(void 0),V(void 0),m(void 0),y({isTransitioning:!1})})}),nu(()=>V(I));return}b?(v&&v.resolve(),b.skipTransition(),L({state:D,currentLocation:x.currentLocation,nextLocation:x.nextLocation})):(m(D),y({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}))},[n.window,b,v,k,ee]);ae.useLayoutEffect(()=>n.subscribe(se),[n,se]),ae.useEffect(()=>{p.isTransitioning&&!p.flushSync&&A(new UR)},[p]),ae.useEffect(()=>{if(v&&f&&n.window){let D=f,w=v.promise,R=n.window.document.startViewTransition(async()=>{ee(()=>u(D)),await w});R.finished.finally(()=>{A(void 0),V(void 0),m(void 0),y({isTransitioning:!1})}),V(R)}},[ee,f,v,n.window]),ae.useEffect(()=>{v&&f&&o.location.key===f.location.key&&v.resolve()},[v,b,o.location,f]),ae.useEffect(()=>{!p.isTransitioning&&q&&(m(q.state),y({isTransitioning:!0,flushSync:!1,currentLocation:q.currentLocation,nextLocation:q.nextLocation}),L(void 0))},[p.isTransitioning,q]),ae.useEffect(()=>{},[]);let de=ae.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:D=>n.navigate(D),push:(D,w,R)=>n.navigate(D,{state:w,preventScrollReset:R?.preventScrollReset}),replace:(D,w,R)=>n.navigate(D,{replace:!0,state:w,preventScrollReset:R?.preventScrollReset})}),[n]),ge=n.basename||"/",G=ae.useMemo(()=>({router:n,navigator:de,static:!1,basename:ge}),[n,de,ge]);return ae.createElement(ae.Fragment,null,ae.createElement(qh.Provider,{value:G},ae.createElement(UT.Provider,{value:o},ae.createElement(MR.Provider,{value:k.current},ae.createElement(xR.Provider,{value:p},ae.createElement(SR,{basename:ge,location:o.location,navigationType:o.historyAction,navigator:de,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},o.initialized||n.future.v7_partialHydration?ae.createElement(jR,{routes:n.routes,future:n.future,state:o}):e))))),null)}function jR(i){let{routes:e,future:n,state:s}=i;return cR(e,void 0,s,n)}const zR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FT=ae.forwardRef(function(e,n){let{onClick:s,relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:v,unstable_viewTransition:A}=e,b=bR(e,IR),{basename:V}=ae.useContext(wa),q,L=!1;if(typeof y=="string"&&BR.test(y)&&(q=y,zR))try{let se=new URL(window.location.href),de=y.startsWith("//")?new URL(se.protocol+y):new URL(y),ge=Fo(de.pathname,V);de.origin===se.origin&&ge!=null?y=ge+de.search+de.hash:L=!0}catch{}let k=lR(y,{relative:o}),ne=HR(y,{replace:f,state:m,target:p,preventScrollReset:v,relative:o,unstable_viewTransition:A});function ee(se){s&&s(se),se.defaultPrevented||ne(se)}return ae.createElement("a",_u({},b,{href:q||k,onClick:L||u?s:ee,ref:n,target:p}))});var Hv;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(Hv||(Hv={}));var qv;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(qv||(qv={}));function HR(i,e){let{target:n,replace:s,state:o,preventScrollReset:u,relative:f,unstable_viewTransition:m}=e===void 0?{}:e,p=hp(),y=Fh(),v=zT(i,{relative:f});return ae.useCallback(A=>{if(RR(A,n)){A.preventDefault();let b=s!==void 0?s:_a(y)===_a(v);p(i,{replace:b,state:o,preventScrollReset:u,relative:f,unstable_viewTransition:m})}},[y,p,v,s,o,n,i,u,f,m])}const qR=()=>{};var Fv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},FR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},KT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,v=u>>2,A=(u&3)<<4|m>>4;let b=(m&15)<<2|y>>6,V=y&63;p||(V=64,f||(b=64)),s.push(n[v],n[A],n[b],n[V])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(GT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):FR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const A=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new GR;const b=u<<2|m>>4;if(s.push(b),y!==64){const V=m<<4&240|y>>2;if(s.push(V),A!==64){const q=y<<6&192|A;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class GR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KR=function(i){const e=GT(i);return KT.encodeByteArray(e,!0)},Th=function(i){return KR(i).replace(/\./g,"")},YT=function(i){try{return KT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=()=>YR().__FIREBASE_DEFAULTS__,XR=()=>{if(typeof process>"u"||typeof Fv>"u")return;const i=Fv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},$R=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&YT(i[1]);return e&&JSON.parse(e)},Gh=()=>{try{return qR()||QR()||XR()||$R()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},QT=i=>{var e,n;return(n=(e=Gh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},XT=i=>{const e=QT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},$T=()=>{var i;return(i=Gh())===null||i===void 0?void 0:i.config},WT=i=>{var e;return(e=Gh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Th(JSON.stringify(n)),Th(JSON.stringify(f)),""].join(".")}const cu={};function ZR(){const i={prod:[],emulator:[]};for(const e of Object.keys(cu))cu[e]?i.emulator.push(e):i.prod.push(e);return i}function JR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Gv=!1;function dp(i,e){if(typeof window>"u"||typeof document>"u"||!Ps(window.location.host)||cu[i]===e||cu[i]||Gv)return;cu[i]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=ZR().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,V){b.setAttribute("width","24"),b.setAttribute("id",V),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function y(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Gv=!0,f()},b}function v(b,V){b.setAttribute("id",V),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function A(){const b=JR(s),V=n("text"),q=document.getElementById(V)||document.createElement("span"),L=n("learnmore"),k=document.getElementById(L)||document.createElement("a"),ne=n("preprendIcon"),ee=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const se=b.element;m(se),v(k,L);const de=y();p(ee,ne),se.append(ee,q,k,de),document.body.appendChild(se)}u?(q.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function t1(){var i;const e=(i=Gh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function i1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function r1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s1(){const i=In();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function a1(){return!t1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o1(){try{return typeof indexedDB=="object"}catch{return!1}}function l1(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="FirebaseError";class ar extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=u1,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Du.prototype.create)}}class Du{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?c1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ar(o,m,s)}}function c1(i,e){return i.replace(h1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const h1=/\{\$([^}]+)}/g;function f1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function va(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Kv(u)&&Kv(f)){if(!va(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Kv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ru(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function su(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function d1(i,e){const n=new m1(i,e);return n.subscribe.bind(n)}class m1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");p1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=ym),o.error===void 0&&(o.error=ym),o.complete===void 0&&(o.complete=ym);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function p1(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function ym(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(i){return i&&i._delegate?i._delegate:i}class ws{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new WR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_1(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:y1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y1(i){return i===da?void 0:i}function _1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new g1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ke||(Ke={}));const E1={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},T1=Ke.INFO,S1={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},A1=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=S1[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mp{constructor(e){this.name=e,this._logLevel=T1,this._logHandler=A1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const b1=(i,e)=>e.some(n=>i instanceof n);let Yv,Qv;function w1(){return Yv||(Yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R1(){return Qv||(Qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JT=new WeakMap,Pm=new WeakMap,e0=new WeakMap,_m=new WeakMap,pp=new WeakMap;function I1(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(vs(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&JT.set(n,i)}).catch(()=>{}),pp.set(e,i),e}function C1(i){if(Pm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Pm.set(i,e)}let Vm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Pm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||e0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function D1(i){Vm=i(Vm)}function N1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(vm(this),e,...n);return e0.set(s,e.sort?e.sort():[e]),vs(s)}:R1().includes(i)?function(...e){return i.apply(vm(this),e),vs(JT.get(this))}:function(...e){return vs(i.apply(vm(this),e))}}function O1(i){return typeof i=="function"?N1(i):(i instanceof IDBTransaction&&C1(i),b1(i,w1())?new Proxy(i,Vm):i)}function vs(i){if(i instanceof IDBRequest)return I1(i);if(_m.has(i))return _m.get(i);const e=O1(i);return e!==i&&(_m.set(i,e),pp.set(e,i)),e}const vm=i=>pp.get(i);function x1(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=vs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(vs(f.result),p.oldVersion,p.newVersion,vs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const M1=["get","getKey","getAll","getAllKeys","count"],P1=["put","add","delete","clear"],Em=new Map;function Xv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Em.get(e))return Em.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=P1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||M1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Em.set(e,u),u}D1(i=>({...i,get:(e,n,s)=>Xv(e,n)||i.get(e,n,s),has:(e,n)=>!!Xv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(k1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function k1(i){const e=i.getComponent();return e?.type==="VERSION"}const km="@firebase/app",$v="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr=new mp("@firebase/app"),U1="@firebase/app-compat",L1="@firebase/analytics-compat",j1="@firebase/analytics",z1="@firebase/app-check-compat",B1="@firebase/app-check",H1="@firebase/auth",q1="@firebase/auth-compat",F1="@firebase/database",G1="@firebase/data-connect",K1="@firebase/database-compat",Y1="@firebase/functions",Q1="@firebase/functions-compat",X1="@firebase/installations",$1="@firebase/installations-compat",W1="@firebase/messaging",Z1="@firebase/messaging-compat",J1="@firebase/performance",eI="@firebase/performance-compat",tI="@firebase/remote-config",nI="@firebase/remote-config-compat",iI="@firebase/storage",rI="@firebase/storage-compat",sI="@firebase/firestore",aI="@firebase/ai",oI="@firebase/firestore-compat",lI="firebase",uI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="[DEFAULT]",cI={[km]:"fire-core",[U1]:"fire-core-compat",[j1]:"fire-analytics",[L1]:"fire-analytics-compat",[B1]:"fire-app-check",[z1]:"fire-app-check-compat",[H1]:"fire-auth",[q1]:"fire-auth-compat",[F1]:"fire-rtdb",[G1]:"fire-data-connect",[K1]:"fire-rtdb-compat",[Y1]:"fire-fn",[Q1]:"fire-fn-compat",[X1]:"fire-iid",[$1]:"fire-iid-compat",[W1]:"fire-fcm",[Z1]:"fire-fcm-compat",[J1]:"fire-perf",[eI]:"fire-perf-compat",[tI]:"fire-rc",[nI]:"fire-rc-compat",[iI]:"fire-gcs",[rI]:"fire-gcs-compat",[sI]:"fire-fst",[oI]:"fire-fst-compat",[aI]:"fire-vertex","fire-js":"fire-js",[lI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Map,hI=new Map,Lm=new Map;function Wv(i,e){try{i.container.addComponent(e)}catch(n){kr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ea(i){const e=i.name;if(Lm.has(e))return kr.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,i);for(const n of Sh.values())Wv(n,i);for(const n of hI.values())Wv(n,i);return!0}function Kh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function mi(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new Du("app","Firebase",fI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=uI;function t0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Um,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Es.create("bad-app-name",{appName:String(o)});if(n||(n=$T()),!n)throw Es.create("no-options");const u=Sh.get(o);if(u){if(va(n,u.options)&&va(s,u.config))return u;throw Es.create("duplicate-app",{appName:o})}const f=new v1(o);for(const p of Lm.values())f.addComponent(p);const m=new dI(n,s,f);return Sh.set(o,m),m}function gp(i=Um){const e=Sh.get(i);if(!e&&i===Um&&$T())return t0();if(!e)throw Es.create("no-app",{appName:i});return e}function Wi(i,e,n){var s;let o=(s=cI[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kr.warn(m.join(" "));return}Ea(new ws(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="firebase-heartbeat-database",pI=1,vu="firebase-heartbeat-store";let Tm=null;function n0(){return Tm||(Tm=x1(mI,pI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(vu)}catch(n){console.warn(n)}}}}).catch(i=>{throw Es.create("idb-open",{originalErrorMessage:i.message})})),Tm}async function gI(i){try{const n=(await n0()).transaction(vu),s=await n.objectStore(vu).get(i0(i));return await n.done,s}catch(e){if(e instanceof ar)kr.warn(e.message);else{const n=Es.create("idb-get",{originalErrorMessage:e?.message});kr.warn(n.message)}}}async function Zv(i,e){try{const s=(await n0()).transaction(vu,"readwrite");await s.objectStore(vu).put(e,i0(i)),await s.done}catch(n){if(n instanceof ar)kr.warn(n.message);else{const s=Es.create("idb-set",{originalErrorMessage:n?.message});kr.warn(s.message)}}}function i0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=1024,_I=30;class vI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Jv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>_I){const f=SI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){kr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Jv(),{heartbeatsToSend:s,unsentEntries:o}=EI(this._heartbeatsCache.heartbeats),u=Th(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return kr.warn(n),""}}}function Jv(){return new Date().toISOString().substring(0,10)}function EI(i,e=yI){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),eE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),eE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class TI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o1()?l1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Zv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Zv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function eE(i){return Th(JSON.stringify({version:2,heartbeats:i})).length}function SI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(i){Ea(new ws("platform-logger",e=>new V1(e),"PRIVATE")),Ea(new ws("heartbeat",e=>new vI(e),"PRIVATE")),Wi(km,$v,i),Wi(km,$v,"esm2017"),Wi("fire-js","")}AI("");function yp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function r0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bI=r0,s0=new Du("auth","Firebase",r0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new mp("@firebase/auth");function wI(i,...e){Ah.logLevel<=Ke.WARN&&Ah.warn(`Auth (${Ia}): ${i}`,...e)}function ch(i,...e){Ah.logLevel<=Ke.ERROR&&Ah.error(`Auth (${Ia}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(i,...e){throw _p(i,...e)}function Zi(i,...e){return _p(i,...e)}function a0(i,e,n){const s=Object.assign(Object.assign({},bI()),{[e]:n});return new Du("auth","Firebase",s).create(e,{appName:i.name})}function Ts(i){return a0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _p(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return s0.create(i,...e)}function Ne(i,e,...n){if(!i)throw _p(e,...n)}function xr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ch(e),new Error(e)}function Ur(i,e){i||xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function RI(){return tE()==="http:"||tE()==="https:"}function tE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RI()||i1()||"connection"in navigator)?navigator.onLine:!0}function CI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ur(n>e,"Short delay should be less than long delay!"),this.isMobile=e1()||r1()}get(){return II()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(i,e){Ur(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OI=new Ou(3e4,6e4);function Ca(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Vs(i,e,n,s,o={}){return l0(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Nu(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y=Object.assign({method:e,headers:p},u);return n1()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Ps(i.emulatorConfig.host)&&(y.credentials="include"),o0.fetch()(await u0(i,i.config.apiHost,n,m),y)})}async function l0(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},DI),e);try{const o=new MI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw th(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw th(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw th(i,"user-disabled",f);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw a0(i,v,y);Ii(i,v)}}catch(o){if(o instanceof ar)throw o;Ii(i,"network-request-failed",{message:String(o)})}}async function Yh(i,e,n,s,o={}){const u=await Vs(i,e,n,s,o);return"mfaPendingCredential"in u&&Ii(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function u0(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?vp(i.config,o):`${i.config.apiScheme}://${o}`;return NI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function xI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Zi(this.auth,"network-request-failed")),OI.get())})}}function th(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Zi(i,e,s);return o.customData._tokenResponse=n,o}function nE(i){return i!==void 0&&i.enterprise!==void 0}class PI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return xI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VI(i,e){return Vs(i,"GET","/v2/recaptchaConfig",Ca(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(i,e){return Vs(i,"POST","/v1/accounts:delete",e)}async function bh(i,e){return Vs(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UI(i,e=!1){const n=cn(i),s=await n.getIdToken(e),o=Ep(s);Ne(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:hu(Sm(o.auth_time)),issuedAtTime:hu(Sm(o.iat)),expirationTime:hu(Sm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Sm(i){return Number(i)*1e3}function Ep(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=YT(n);return o?JSON.parse(o):(ch("Failed to decode base64 JWT payload"),null)}catch(o){return ch("Caught error parsing JWT payload as JSON",o?.toString()),null}}function iE(i){const e=Ep(i);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ar&&LI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function LI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await Eu(i,bh(n,{idToken:s}));Ne(o?.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?c0(u.providerUserInfo):[],m=BI(i.providerData,f),p=i.isAnonymous,y=!(i.email&&u.passwordHash)&&!m?.length,v=p?y:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new zm(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(i,A)}async function zI(i){const e=cn(i);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function c0(i){return i.map(e=>{var{providerId:n}=e,s=yp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(i,e){const n=await l0(i,{},async()=>{const s=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await u0(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Ps(i.emulatorConfig.host)&&(p.credentials="include"),o0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qI(i,e){return Vs(i,"POST","/v2/accounts:revokeToken",Ca(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=iE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await HI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Oo;return s&&(Ne(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ne(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ne(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(i,e){Ne(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class wi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=yp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new zm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Eu(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return UI(this,e)}reload(){return zI(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await wh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mi(this.auth.app))return Promise.reject(Ts(this.auth));const e=await this.getIdToken();return await Eu(this,kI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,y,v;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,b=(o=n.email)!==null&&o!==void 0?o:void 0,V=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,q=(f=n.photoURL)!==null&&f!==void 0?f:void 0,L=(m=n.tenantId)!==null&&m!==void 0?m:void 0,k=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,ne=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ee=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:se,emailVerified:de,isAnonymous:ge,providerData:G,stsTokenManager:D}=n;Ne(se&&D,e,"internal-error");const w=Oo.fromJSON(this.name,D);Ne(typeof se=="string",e,"internal-error"),hs(A,e.name),hs(b,e.name),Ne(typeof de=="boolean",e,"internal-error"),Ne(typeof ge=="boolean",e,"internal-error"),hs(V,e.name),hs(q,e.name),hs(L,e.name),hs(k,e.name),hs(ne,e.name),hs(ee,e.name);const R=new wi({uid:se,auth:e,email:b,emailVerified:de,displayName:A,isAnonymous:ge,photoURL:q,phoneNumber:V,tenantId:L,stsTokenManager:w,createdAt:ne,lastLoginAt:ee});return G&&Array.isArray(G)&&(R.providerData=G.map(O=>Object.assign({},O))),k&&(R._redirectEventId=k),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new Oo;o.updateFromServerResponse(n);const u=new wi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await wh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ne(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?c0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Oo;m.updateFromIdToken(s);const p=new wi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=new Map;function Mr(i){Ur(i instanceof Function,"Expected a class definition");let e=rE.get(i);return e?(Ur(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,rE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}h0.type="NONE";const sE=h0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(i,e,n){return`firebase:${i}:${e}:${n}`}class xo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=hh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await bh(this.auth,{idToken:e}).catch(()=>{});return n?wi._fromGetAccountInfoResponse(this.auth,n,e):null}return wi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new xo(Mr(sE),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Mr(sE);const f=hh(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const v=await y._get(f);if(v){let A;if(typeof v=="string"){const b=await bh(e,{idToken:v}).catch(()=>{});if(!b)break;A=await wi._fromGetAccountInfoResponse(e,b,v)}else A=wi._fromJSON(e,v);y!==u&&(m=A),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new xo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new xo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(f0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y0(e))return"Blackberry";if(_0(e))return"Webos";if(d0(e))return"Safari";if((e.includes("chrome/")||m0(e))&&!e.includes("edge/"))return"Chrome";if(g0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function f0(i=In()){return/firefox\//i.test(i)}function d0(i=In()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m0(i=In()){return/crios\//i.test(i)}function p0(i=In()){return/iemobile/i.test(i)}function g0(i=In()){return/android/i.test(i)}function y0(i=In()){return/blackberry/i.test(i)}function _0(i=In()){return/webos/i.test(i)}function Tp(i=In()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function FI(i=In()){var e;return Tp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GI(){return s1()&&document.documentMode===10}function v0(i=In()){return Tp(i)||g0(i)||_0(i)||y0(i)||/windows phone/i.test(i)||p0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(i,e=[]){let n;switch(i){case"Browser":n=aE(In());break;case"Worker":n=`${aE(In())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ia}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(i,e={}){return Vs(i,"GET","/v2/passwordPolicy",Ca(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=6;class XI{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:QI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oE(this),this.idTokenSubscription=new oE(this),this.beforeStateQueue=new KI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await xo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bh(this,{idToken:e}),s=await wi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(mi(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&p?.user&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mi(this.app))return Promise.reject(Ts(this));const n=e?cn(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mi(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mi(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YI(this),n=new XI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Du("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await qI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mr(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[Mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=E0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&wI(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Go(i){return cn(i)}class oE{constructor(e){this.auth=e,this.observer=null,this.addObserver=d1(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WI(i){Qh=i}function T0(i){return Qh.loadJS(i)}function ZI(){return Qh.recaptchaEnterpriseScript}function JI(){return Qh.gapiScript}function eC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class tC{constructor(){this.enterprise=new nC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iC="recaptcha-enterprise",S0="NO_RECAPTCHA";class rC{constructor(e){this.type=iC,this.auth=Go(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{VI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new PI(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;nE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(S0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&nE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ZI();p.length!==0&&(p+=m),T0(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function lE(i,e,n,s=!1,o=!1){const u=new rC(i);let f;if(o)f=S0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function uE(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await lE(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await lE(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(i,e){const n=Kh(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(va(u,e??{}))return o;Ii(o,"already-initialized")}return n.initialize({options:e})}function aC(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Mr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function oC(i,e,n){const s=Go(i);Ne(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=A0(e),{host:f,port:m}=lC(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},v=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ne(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ne(va(y,s.config.emulator)&&va(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Ps(f)?(fp(`${u}//${f}${p}`),dp("Auth",!0)):uC()}function A0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function lC(i){const e=A0(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:cE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:cE(f)}}}function cE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function uC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,n){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}}async function cC(i,e){return Vs(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(i,e){return Yh(i,"POST","/v1/accounts:signInWithPassword",Ca(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(i,e){return Yh(i,"POST","/v1/accounts:signInWithEmailLink",Ca(i,e))}async function dC(i,e){return Yh(i,"POST","/v1/accounts:signInWithEmailLink",Ca(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends Sp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Tu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Tu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uE(e,n,"signInWithPassword",hC);case"emailLink":return fC(e,{email:this._email,oobCode:this._password});default:Ii(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uE(e,s,"signUpPassword",cC);case"emailLink":return dC(e,{idToken:n,email:this._email,oobCode:this._password});default:Ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(i,e){return Yh(i,"POST","/v1/accounts:signInWithIdp",Ca(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="http://localhost";class Ta extends Sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=yp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ta(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Mo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Mo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mo(e,n)}buildRequest(){const e={requestUri:mC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gC(i){const e=ru(su(i)).link,n=e?ru(su(e)).deep_link_id:null,s=ru(su(i)).deep_link_id;return(s?ru(su(s)).link:null)||s||n||e||i}class Ap{constructor(e){var n,s,o,u,f,m;const p=ru(su(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,v=(s=p.oobCode)!==null&&s!==void 0?s:null,A=pC((o=p.mode)!==null&&o!==void 0?o:null);Ne(y&&v&&A,"argument-error"),this.apiKey=y,this.operation=A,this.code=v,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=gC(e);try{return new Ap(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.providerId=Ko.PROVIDER_ID}static credential(e,n){return Tu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ap.parseLink(n);return Ne(s,"argument-error"),Tu._fromEmailAndCode(e,s.code,s.tenantId)}}Ko.PROVIDER_ID="password";Ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends b0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends xu{constructor(){super("facebook.com")}static credential(e){return Ta._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ta._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ms.credential(n,s)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends xu{constructor(){super("github.com")}static credential(e){return Ta._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends xu{constructor(){super("twitter.com")}static credential(e,n){return Ta._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return gs.credential(n,s)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await wi._fromIdTokenResponse(e,s,o),f=hE(s);return new Lo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=hE(s);return new Lo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function hE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends ar{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Rh(e,n,s,o)}}function w0(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(i,u,e,s):u})}async function yC(i,e,n=!1){const s=await Eu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Lo._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(i,e,n=!1){const{auth:s}=i;if(mi(s.app))return Promise.reject(Ts(s));const o="reauthenticate";try{const u=await Eu(i,w0(s,o,e,i),n);Ne(u.idToken,s,"internal-error");const f=Ep(u.idToken);Ne(f,s,"internal-error");const{sub:m}=f;return Ne(i.uid===m,s,"user-mismatch"),Lo._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ii(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R0(i,e,n=!1){if(mi(i.app))return Promise.reject(Ts(i));const s="signIn",o=await w0(i,s,e),u=await Lo._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function vC(i,e){return R0(Go(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(i){const e=Go(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function TC(i,e,n){return mi(i.app)?Promise.reject(Ts(i)):vC(cn(i),Ko.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&EC(i),s})}function SC(i,e,n,s){return cn(i).onIdTokenChanged(e,n,s)}function AC(i,e,n){return cn(i).beforeAuthStateChanged(e,n)}function I0(i,e,n,s){return cn(i).onAuthStateChanged(e,n,s)}function bC(i){return cn(i).signOut()}const Ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=1e3,RC=10;class D0 extends C0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=v0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);GI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,RC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},wC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}D0.type="LOCAL";const IC=D0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0 extends C0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}N0.type="SESSION";const O0=N0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await CC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=bp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const b=A;if(b.data.eventId===y)switch(b.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(){return window}function NC(i){Ji().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function OC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xC(){var i;return((i=navigator?.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function MC(){return x0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="firebaseLocalStorageDb",PC=1,Ch="firebaseLocalStorage",P0="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $h(i,e){return i.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function VC(){const i=indexedDB.deleteDatabase(M0);return new Mu(i).toPromise()}function Bm(){const i=indexedDB.open(M0,PC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Ch,{keyPath:P0})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Ch)?e(s):(s.close(),await VC(),e(await Bm()))})})}async function fE(i,e,n){const s=$h(i,!0).put({[P0]:e,value:n});return new Mu(s).toPromise()}async function kC(i,e){const n=$h(i,!1).get(e),s=await new Mu(n).toPromise();return s===void 0?null:s.value}function dE(i,e){const n=$h(i,!0).delete(e);return new Mu(n).toPromise()}const UC=800,LC=3;class V0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>LC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(MC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await OC(),!this.activeServiceWorker)return;this.sender=new DC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bm();return await fE(e,Ih,"1"),await dE(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>fE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>kC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=$h(o,!1).getAll();return new Mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V0.type="LOCAL";const jC=V0;new Ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(i,e){return e?Mr(e):(Ne(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp extends Sp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BC(i){return R0(i.auth,new wp(i),i.bypassAuthState)}function HC(i){const{auth:e,user:n}=i;return Ne(n,e,"internal-error"),_C(n,new wp(i),i.bypassAuthState)}async function qC(i){const{auth:e,user:n}=i;return Ne(n,e,"internal-error"),yC(n,new wp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BC;case"linkViaPopup":case"linkViaRedirect":return qC;case"reauthViaPopup":case"reauthViaRedirect":return HC;default:Ii(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=new Ou(2e3,1e4);class No extends k0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const e=bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FC.get())};e()}}No.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="pendingRedirect",fh=new Map;class KC extends k0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const s=await YC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YC(i,e){const n=$C(e),s=XC(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function QC(i,e){fh.set(i._key(),e)}function XC(i){return Mr(i._redirectPersistence)}function $C(i){return hh(GC,i.config.apiKey,i.name)}async function WC(i,e,n=!1){if(mi(i.app))return Promise.reject(Ts(i));const s=Go(i),o=zC(s,e),f=await new KC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=10*60*1e3;class JC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!U0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Zi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZC&&this.cachedEventUids.clear(),this.cachedEventUids.has(mE(e))}saveEventToCache(e){this.cachedEventUids.add(mE(e)),this.lastProcessedEventTime=Date.now()}}function mE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function U0({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function eD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(i,e={}){return Vs(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iD=/^https?/;async function rD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await tD(i);for(const n of e)try{if(sD(n))return}catch{}Ii(i,"unauthorized-domain")}function sD(i){const e=jm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!iD.test(n))return!1;if(nD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=new Ou(3e4,6e4);function pE(){const i=Ji().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function oD(i){return new Promise((e,n)=>{var s,o,u;function f(){pE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pE(),n(Zi(i,"network-request-failed"))},timeout:aD.get()})}if(!((o=(s=Ji().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ji().gapi)===null||u===void 0)&&u.load)f();else{const m=eC("iframefcb");return Ji()[m]=()=>{gapi.load?f():n(Zi(i,"network-request-failed"))},T0(`${JI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw dh=null,e})}let dh=null;function lD(i){return dh=dh||oD(i),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=new Ou(5e3,15e3),cD="__/auth/iframe",hD="emulator/auth/iframe",fD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mD(i){const e=i.config;Ne(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?vp(e,hD):`https://${i.config.authDomain}/${cD}`,s={apiKey:e.apiKey,appName:i.name,v:Ia},o=dD.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Nu(s).slice(1)}`}async function pD(i){const e=await lD(i),n=Ji().gapi;return Ne(n,i,"internal-error"),e.open({where:document.body,url:mD(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Zi(i,"network-request-failed"),m=Ji().setTimeout(()=>{u(f)},uD.get());function p(){Ji().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yD=500,_D=600,vD="_blank",ED="http://localhost";class gE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TD(i,e,n,s=yD,o=_D){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},gD),{width:s.toString(),height:o.toString(),top:u,left:f}),y=In().toLowerCase();n&&(m=m0(y)?vD:n),f0(y)&&(e=e||ED,p.scrollbars="yes");const v=Object.entries(p).reduce((b,[V,q])=>`${b}${V}=${q},`,"");if(FI(y)&&m!=="_self")return SD(e||"",m),new gE(null);const A=window.open(e||"",m,v);Ne(A,i,"popup-blocked");try{A.focus()}catch{}return new gE(A)}function SD(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="__/auth/handler",bD="emulator/auth/handler",wD=encodeURIComponent("fac");async function yE(i,e,n,s,o,u){Ne(i.config.authDomain,i,"auth-domain-config-required"),Ne(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Ia,eventId:o};if(e instanceof b0){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",f1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,A]of Object.entries({}))f[v]=A}if(e instanceof xu){const v=e.getScopes().filter(A=>A!=="");v.length>0&&(f.scopes=v.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),y=p?`#${wD}=${encodeURIComponent(p)}`:"";return`${RD(i)}?${Nu(m).slice(1)}${y}`}function RD({config:i}){return i.emulator?vp(i,bD):`https://${i.authDomain}/${AD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="webStorageSupport";class ID{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O0,this._completeRedirectFn=WC,this._overrideRedirectResult=QC}async _openPopup(e,n,s,o){var u;Ur((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await yE(e,n,s,jm(),o);return TD(e,f,bp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await yE(e,n,s,jm(),o);return NC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ur(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await pD(e),s=new JC(e);return n.register("authEvent",o=>(Ne(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Am,{type:Am},o=>{var u;const f=(u=o?.[0])===null||u===void 0?void 0:u[Am];f!==void 0&&n(!!f),Ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return v0()||d0()||Tp()}}const CD=ID;var _E="@firebase/auth",vE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OD(i){Ea(new ws("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ne(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E0(i)},y=new $I(s,o,u,p);return aC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ea(new ws("auth-internal",e=>{const n=Go(e.getProvider("auth").getImmediate());return(s=>new DD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(_E,vE,ND(i)),Wi(_E,vE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=5*60,MD=WT("authIdTokenMaxAge")||xD;let EE=null;const PD=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>MD)return;const o=n?.token;EE!==o&&(EE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function VD(i=gp()){const e=Kh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=sC(i,{popupRedirectResolver:CD,persistence:[jC,IC,O0]}),s=WT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=PD(u.toString());AC(n,f,()=>f(n.currentUser)),SC(n,m=>f(m))}}const o=QT("auth");return o&&oC(n,`http://${o}`),n}function kD(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}WI({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Zi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",kD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OD("Browser");var UD="firebase",LD="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi(UD,LD,"app");var TE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ss,L0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,w){function R(){}R.prototype=w.prototype,D.D=w.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(O,x,P){for(var I=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)I[mt-2]=arguments[mt];return w.prototype[x].apply(O,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,R){R||(R=0);var O=Array(16);if(typeof w=="string")for(var x=0;16>x;++x)O[x]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(x=0;16>x;++x)O[x]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=D.g[0],R=D.g[1],x=D.g[2];var P=D.g[3],I=w+(P^R&(x^P))+O[0]+3614090360&4294967295;w=R+(I<<7&4294967295|I>>>25),I=P+(x^w&(R^x))+O[1]+3905402710&4294967295,P=w+(I<<12&4294967295|I>>>20),I=x+(R^P&(w^R))+O[2]+606105819&4294967295,x=P+(I<<17&4294967295|I>>>15),I=R+(w^x&(P^w))+O[3]+3250441966&4294967295,R=x+(I<<22&4294967295|I>>>10),I=w+(P^R&(x^P))+O[4]+4118548399&4294967295,w=R+(I<<7&4294967295|I>>>25),I=P+(x^w&(R^x))+O[5]+1200080426&4294967295,P=w+(I<<12&4294967295|I>>>20),I=x+(R^P&(w^R))+O[6]+2821735955&4294967295,x=P+(I<<17&4294967295|I>>>15),I=R+(w^x&(P^w))+O[7]+4249261313&4294967295,R=x+(I<<22&4294967295|I>>>10),I=w+(P^R&(x^P))+O[8]+1770035416&4294967295,w=R+(I<<7&4294967295|I>>>25),I=P+(x^w&(R^x))+O[9]+2336552879&4294967295,P=w+(I<<12&4294967295|I>>>20),I=x+(R^P&(w^R))+O[10]+4294925233&4294967295,x=P+(I<<17&4294967295|I>>>15),I=R+(w^x&(P^w))+O[11]+2304563134&4294967295,R=x+(I<<22&4294967295|I>>>10),I=w+(P^R&(x^P))+O[12]+1804603682&4294967295,w=R+(I<<7&4294967295|I>>>25),I=P+(x^w&(R^x))+O[13]+4254626195&4294967295,P=w+(I<<12&4294967295|I>>>20),I=x+(R^P&(w^R))+O[14]+2792965006&4294967295,x=P+(I<<17&4294967295|I>>>15),I=R+(w^x&(P^w))+O[15]+1236535329&4294967295,R=x+(I<<22&4294967295|I>>>10),I=w+(x^P&(R^x))+O[1]+4129170786&4294967295,w=R+(I<<5&4294967295|I>>>27),I=P+(R^x&(w^R))+O[6]+3225465664&4294967295,P=w+(I<<9&4294967295|I>>>23),I=x+(w^R&(P^w))+O[11]+643717713&4294967295,x=P+(I<<14&4294967295|I>>>18),I=R+(P^w&(x^P))+O[0]+3921069994&4294967295,R=x+(I<<20&4294967295|I>>>12),I=w+(x^P&(R^x))+O[5]+3593408605&4294967295,w=R+(I<<5&4294967295|I>>>27),I=P+(R^x&(w^R))+O[10]+38016083&4294967295,P=w+(I<<9&4294967295|I>>>23),I=x+(w^R&(P^w))+O[15]+3634488961&4294967295,x=P+(I<<14&4294967295|I>>>18),I=R+(P^w&(x^P))+O[4]+3889429448&4294967295,R=x+(I<<20&4294967295|I>>>12),I=w+(x^P&(R^x))+O[9]+568446438&4294967295,w=R+(I<<5&4294967295|I>>>27),I=P+(R^x&(w^R))+O[14]+3275163606&4294967295,P=w+(I<<9&4294967295|I>>>23),I=x+(w^R&(P^w))+O[3]+4107603335&4294967295,x=P+(I<<14&4294967295|I>>>18),I=R+(P^w&(x^P))+O[8]+1163531501&4294967295,R=x+(I<<20&4294967295|I>>>12),I=w+(x^P&(R^x))+O[13]+2850285829&4294967295,w=R+(I<<5&4294967295|I>>>27),I=P+(R^x&(w^R))+O[2]+4243563512&4294967295,P=w+(I<<9&4294967295|I>>>23),I=x+(w^R&(P^w))+O[7]+1735328473&4294967295,x=P+(I<<14&4294967295|I>>>18),I=R+(P^w&(x^P))+O[12]+2368359562&4294967295,R=x+(I<<20&4294967295|I>>>12),I=w+(R^x^P)+O[5]+4294588738&4294967295,w=R+(I<<4&4294967295|I>>>28),I=P+(w^R^x)+O[8]+2272392833&4294967295,P=w+(I<<11&4294967295|I>>>21),I=x+(P^w^R)+O[11]+1839030562&4294967295,x=P+(I<<16&4294967295|I>>>16),I=R+(x^P^w)+O[14]+4259657740&4294967295,R=x+(I<<23&4294967295|I>>>9),I=w+(R^x^P)+O[1]+2763975236&4294967295,w=R+(I<<4&4294967295|I>>>28),I=P+(w^R^x)+O[4]+1272893353&4294967295,P=w+(I<<11&4294967295|I>>>21),I=x+(P^w^R)+O[7]+4139469664&4294967295,x=P+(I<<16&4294967295|I>>>16),I=R+(x^P^w)+O[10]+3200236656&4294967295,R=x+(I<<23&4294967295|I>>>9),I=w+(R^x^P)+O[13]+681279174&4294967295,w=R+(I<<4&4294967295|I>>>28),I=P+(w^R^x)+O[0]+3936430074&4294967295,P=w+(I<<11&4294967295|I>>>21),I=x+(P^w^R)+O[3]+3572445317&4294967295,x=P+(I<<16&4294967295|I>>>16),I=R+(x^P^w)+O[6]+76029189&4294967295,R=x+(I<<23&4294967295|I>>>9),I=w+(R^x^P)+O[9]+3654602809&4294967295,w=R+(I<<4&4294967295|I>>>28),I=P+(w^R^x)+O[12]+3873151461&4294967295,P=w+(I<<11&4294967295|I>>>21),I=x+(P^w^R)+O[15]+530742520&4294967295,x=P+(I<<16&4294967295|I>>>16),I=R+(x^P^w)+O[2]+3299628645&4294967295,R=x+(I<<23&4294967295|I>>>9),I=w+(x^(R|~P))+O[0]+4096336452&4294967295,w=R+(I<<6&4294967295|I>>>26),I=P+(R^(w|~x))+O[7]+1126891415&4294967295,P=w+(I<<10&4294967295|I>>>22),I=x+(w^(P|~R))+O[14]+2878612391&4294967295,x=P+(I<<15&4294967295|I>>>17),I=R+(P^(x|~w))+O[5]+4237533241&4294967295,R=x+(I<<21&4294967295|I>>>11),I=w+(x^(R|~P))+O[12]+1700485571&4294967295,w=R+(I<<6&4294967295|I>>>26),I=P+(R^(w|~x))+O[3]+2399980690&4294967295,P=w+(I<<10&4294967295|I>>>22),I=x+(w^(P|~R))+O[10]+4293915773&4294967295,x=P+(I<<15&4294967295|I>>>17),I=R+(P^(x|~w))+O[1]+2240044497&4294967295,R=x+(I<<21&4294967295|I>>>11),I=w+(x^(R|~P))+O[8]+1873313359&4294967295,w=R+(I<<6&4294967295|I>>>26),I=P+(R^(w|~x))+O[15]+4264355552&4294967295,P=w+(I<<10&4294967295|I>>>22),I=x+(w^(P|~R))+O[6]+2734768916&4294967295,x=P+(I<<15&4294967295|I>>>17),I=R+(P^(x|~w))+O[13]+1309151649&4294967295,R=x+(I<<21&4294967295|I>>>11),I=w+(x^(R|~P))+O[4]+4149444226&4294967295,w=R+(I<<6&4294967295|I>>>26),I=P+(R^(w|~x))+O[11]+3174756917&4294967295,P=w+(I<<10&4294967295|I>>>22),I=x+(w^(P|~R))+O[2]+718787259&4294967295,x=P+(I<<15&4294967295|I>>>17),I=R+(P^(x|~w))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+x&4294967295,D.g[3]=D.g[3]+P&4294967295}s.prototype.u=function(D,w){w===void 0&&(w=D.length);for(var R=w-this.blockSize,O=this.B,x=this.h,P=0;P<w;){if(x==0)for(;P<=R;)o(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<w;)if(O[x++]=D.charCodeAt(P++),x==this.blockSize){o(this,O),x=0;break}}else for(;P<w;)if(O[x++]=D[P++],x==this.blockSize){o(this,O),x=0;break}}this.h=x,this.o+=w},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;var R=8*this.o;for(w=D.length-8;w<D.length;++w)D[w]=R&255,R/=256;for(this.u(D),D=Array(16),w=R=0;4>w;++w)for(var O=0;32>O;O+=8)D[R++]=this.g[w]>>>O&255;return D};function u(D,w){var R=m;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=w(D)}function f(D,w){this.h=w;for(var R=[],O=!0,x=D.length-1;0<=x;x--){var P=D[x]|0;O&&P==w||(R[x]=P,O=!1)}this.g=R}var m={};function p(D){return-128<=D&&128>D?u(D,function(w){return new f([w|0],0>w?-1:0)}):new f([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return A;if(0>D)return k(y(-D));for(var w=[],R=1,O=0;D>=R;O++)w[O]=D/R|0,R*=4294967296;return new f(w,0)}function v(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return k(v(D.substring(1),w));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(w,8)),O=A,x=0;x<D.length;x+=8){var P=Math.min(8,D.length-x),I=parseInt(D.substring(x,x+P),w);8>P?(P=y(Math.pow(w,P)),O=O.j(P).add(y(I))):(O=O.j(R),O=O.add(y(I)))}return O}var A=p(0),b=p(1),V=p(16777216);i=f.prototype,i.m=function(){if(L(this))return-k(this).m();for(var D=0,w=1,R=0;R<this.g.length;R++){var O=this.i(R);D+=(0<=O?O:4294967296+O)*w,w*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(q(this))return"0";if(L(this))return"-"+k(this).toString(D);for(var w=y(Math.pow(D,6)),R=this,O="";;){var x=de(R,w).g;R=ne(R,x.j(w));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=x,q(R))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function q(D){if(D.h!=0)return!1;for(var w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function L(D){return D.h==-1}i.l=function(D){return D=ne(this,D),L(D)?-1:q(D)?0:1};function k(D){for(var w=D.g.length,R=[],O=0;O<w;O++)R[O]=~D.g[O];return new f(R,~D.h).add(b)}i.abs=function(){return L(this)?k(this):this},i.add=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],O=0,x=0;x<=w;x++){var P=O+(this.i(x)&65535)+(D.i(x)&65535),I=(P>>>16)+(this.i(x)>>>16)+(D.i(x)>>>16);O=I>>>16,P&=65535,I&=65535,R[x]=I<<16|P}return new f(R,R[R.length-1]&-2147483648?-1:0)};function ne(D,w){return D.add(k(w))}i.j=function(D){if(q(this)||q(D))return A;if(L(this))return L(D)?k(this).j(k(D)):k(k(this).j(D));if(L(D))return k(this.j(k(D)));if(0>this.l(V)&&0>D.l(V))return y(this.m()*D.m());for(var w=this.g.length+D.g.length,R=[],O=0;O<2*w;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var x=0;x<D.g.length;x++){var P=this.i(O)>>>16,I=this.i(O)&65535,mt=D.i(x)>>>16,pt=D.i(x)&65535;R[2*O+2*x]+=I*pt,ee(R,2*O+2*x),R[2*O+2*x+1]+=P*pt,ee(R,2*O+2*x+1),R[2*O+2*x+1]+=I*mt,ee(R,2*O+2*x+1),R[2*O+2*x+2]+=P*mt,ee(R,2*O+2*x+2)}for(O=0;O<w;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=w;O<2*w;O++)R[O]=0;return new f(R,0)};function ee(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function se(D,w){this.g=D,this.h=w}function de(D,w){if(q(w))throw Error("division by zero");if(q(D))return new se(A,A);if(L(D))return w=de(k(D),w),new se(k(w.g),k(w.h));if(L(w))return w=de(D,k(w)),new se(k(w.g),w.h);if(30<D.g.length){if(L(D)||L(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,O=w;0>=O.l(D);)R=ge(R),O=ge(O);var x=G(R,1),P=G(O,1);for(O=G(O,2),R=G(R,2);!q(O);){var I=P.add(O);0>=I.l(D)&&(x=x.add(R),P=I),O=G(O,1),R=G(R,1)}return w=ne(D,x.j(w)),new se(x,w)}for(x=A;0<=D.l(w);){for(R=Math.max(1,Math.floor(D.m()/w.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=y(R),I=P.j(w);L(I)||0<I.l(D);)R-=O,P=y(R),I=P.j(w);q(P)&&(P=b),x=x.add(P),D=ne(D,I)}return new se(x,D)}i.A=function(D){return de(this,D).h},i.and=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)&D.i(O);return new f(R,this.h&D.h)},i.or=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)|D.i(O);return new f(R,this.h|D.h)},i.xor=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)^D.i(O);return new f(R,this.h^D.h)};function ge(D){for(var w=D.g.length+1,R=[],O=0;O<w;O++)R[O]=D.i(O)<<1|D.i(O-1)>>>31;return new f(R,D.h)}function G(D,w){var R=w>>5;w%=32;for(var O=D.g.length-R,x=[],P=0;P<O;P++)x[P]=0<w?D.i(P+R)>>>w|D.i(P+R+1)<<32-w:D.i(P+R);return new f(x,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,L0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=v,Ss=f}).apply(typeof TE<"u"?TE:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j0,au,z0,mh,Hm,B0,H0,q0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in _))break e;_=_[z]}c=c[c.length-1],S=_[c],g=g(S),g!=S&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,S=!1,z={next:function(){if(!S&&_<c.length){var X=_++;return{value:g(X,c[X]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function A(c,g,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),c.apply(g,z)}}return function(){return c.apply(g,arguments)}}function b(c,g,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:A,b.apply(null,arguments)}function V(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function q(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,z,X){for(var he=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)he[$e-2]=arguments[$e];return g.prototype[z].apply(S,he)}}function L(c){const g=c.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=c[S];return _}return[]}function k(c,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const z=c.length||0,X=S.length||0;c.length=z+X;for(let he=0;he<X;he++)c[z+he]=S[he]}else c.push(S)}}class ne{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ee(c){return/^[\s\xa0]*$/.test(c)}function se(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function de(c){return de[" "](c),c}de[" "]=function(){};var ge=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function G(c,g,_){for(const S in c)g.call(_,c[S],S,c)}function D(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function w(c){const g={};for(const _ in c)g[_]=c[_];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let _,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(_ in S)c[_]=S[_];for(let X=0;X<R.length;X++)_=R[X],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function x(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function P(c){m.setTimeout(()=>{throw c},0)}function I(){var c=He;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class mt{constructor(){this.h=this.g=null}add(g,_){const S=pt.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var pt=new ne(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,Te=!1,He=new mt,N=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(te)}};var te=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){P(_)}var g=pt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}Te=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function Pe(c,g){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ge){e:{try{de(g.nodeName);var z=!0;break e}catch{}z=!1}z||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Pe.aa.h.call(this)}}q(Pe,ue);var we={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),ut=0;function ei(c,g,_,S,z){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=z,this.key=++ut,this.da=this.fa=!1}function Ci(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Rt(c){this.src=c,this.g={},this.h=0}Rt.prototype.add=function(c,g,_,S,z){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var he=Di(c,g,S,z);return-1<he?(g=c[he],_||(g.fa=!1)):(g=new ei(g,this.src,X,!!S,z),g.fa=_,c.push(g)),g};function Bn(c,g){var _=g.type;if(_ in c.g){var S=c.g[_],z=Array.prototype.indexOf.call(S,g,void 0),X;(X=0<=z)&&Array.prototype.splice.call(S,z,1),X&&(Ci(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Di(c,g,_,S){for(var z=0;z<c.length;++z){var X=c[z];if(!X.da&&X.listener==g&&X.capture==!!_&&X.ha==S)return z}return-1}var or="closure_lm_"+(1e6*Math.random()|0),Hn={};function Ma(c,g,_,S,z){if(Array.isArray(g)){for(var X=0;X<g.length;X++)Ma(c,g[X],_,S,z);return null}return _=Oi(_),c&&c[Nt]?c.K(g,_,y(S)?!!S.capture:!1,z):Pn(c,g,_,!1,S,z)}function Pn(c,g,_,S,z,X){if(!g)throw Error("Invalid event type");var he=y(z)?!!z.capture:!!z,$e=Ni(c);if($e||(c[or]=$e=new Rt(c)),_=$e.add(g,_,S,he,X),_.proxy)return _;if(S=Wo(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)Ee||(z=he),z===void 0&&(z=!1),c.addEventListener(g.toString(),S,z);else if(c.attachEvent)c.attachEvent(qn(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Wo(){function c(_){return g.call(c.src,c.listener,_)}const g=Pa;return c}function ks(c,g,_,S,z){if(Array.isArray(g))for(var X=0;X<g.length;X++)ks(c,g[X],_,S,z);else S=y(S)?!!S.capture:!!S,_=Oi(_),c&&c[Nt]?(c=c.i,g=String(g).toString(),g in c.g&&(X=c.g[g],_=Di(X,_,S,z),-1<_&&(Ci(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ni(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Di(g,_,S,z)),(_=-1<c?g[c]:null)&&zr(_))}function zr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Nt])Bn(g.i,c);else{var _=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(_,S,c.capture):g.detachEvent?g.detachEvent(qn(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=Ni(g))?(Bn(_,c),_.h==0&&(_.src=null,g[or]=null)):Ci(c)}}}function qn(c){return c in Hn?Hn[c]:Hn[c]="on"+c}function Pa(c,g){if(c.da)c=!0;else{g=new Pe(g,this);var _=c.listener,S=c.ha||c.src;c.fa&&zr(c),c=_.call(S,g)}return c}function Ni(c){return c=c[or],c instanceof Rt?c:null}var Vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oi(c){return typeof c=="function"?c:(c[Vn]||(c[Vn]=function(g){return c.handleEvent(g)}),c[Vn])}function Et(){fe.call(this),this.i=new Rt(this),this.M=this,this.F=null}q(Et,fe),Et.prototype[Nt]=!0,Et.prototype.removeEventListener=function(c,g,_,S){ks(this,c,g,_,S)};function Xe(c,g){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new ue(g,c);else if(g instanceof ue)g.target=g.target||c;else{var z=g;g=new ue(S,c),O(g,z)}if(z=!0,_)for(var X=_.length-1;0<=X;X--){var he=g.g=_[X];z=Cn(he,S,!0,g)&&z}if(he=g.g=c,z=Cn(he,S,!0,g)&&z,z=Cn(he,S,!1,g)&&z,_)for(X=0;X<_.length;X++)he=g.g=_[X],z=Cn(he,S,!1,g)&&z}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],S=0;S<_.length;S++)Ci(_[S]);delete c.g[g],c.h--}}this.F=null},Et.prototype.K=function(c,g,_,S){return this.i.add(String(c),g,!1,_,S)},Et.prototype.L=function(c,g,_,S){return this.i.add(String(c),g,!0,_,S)};function Cn(c,g,_,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,X=0;X<g.length;++X){var he=g[X];if(he&&!he.da&&he.capture==_){var $e=he.listener,Qt=he.ha||he.src;he.fa&&Bn(c.i,he),z=$e.call(Qt,S)!==!1&&z}}return z&&!S.defaultPrevented}function Tt(c,g,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function Us(c){c.g=Tt(()=>{c.g=null,c.i&&(c.i=!1,Us(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Va extends fe{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Us(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xi(c){fe.call(this),this.h=c,this.g={}}q(xi,fe);var lr=[];function Mi(c){G(c.g,function(g,_){this.g.hasOwnProperty(_)&&zr(g)},c),c.g={}}xi.prototype.N=function(){xi.aa.N.call(this),Mi(this)},xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=m.JSON.stringify,ur=m.JSON.parse,yi=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ls(){}Ls.prototype.h=null;function Br(c){return c.h||(c.h=c.i())}function js(){}var ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _i(){ue.call(this,"d")}q(_i,ue);function j(){ue.call(this,"c")}q(j,ue);var K={},Z=null;function ce(){return Z=Z||new Et}K.La="serverreachability";function _e(c){ue.call(this,K.La,c)}q(_e,ue);function Me(c){const g=ce();Xe(g,new _e(g))}K.STAT_EVENT="statevent";function Ie(c,g){ue.call(this,K.STAT_EVENT,c),this.stat=g}q(Ie,ue);function me(c){const g=ce();Xe(g,new Ie(g,c))}K.Ma="timingevent";function pe(c,g){ue.call(this,K.Ma,c),this.size=g}q(pe,ue);function be(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function nt(){this.g=!0}nt.prototype.xa=function(){this.g=!1};function Ve(c,g,_,S,z,X){c.info(function(){if(c.g)if(X)for(var he="",$e=X.split("&"),Qt=0;Qt<$e.length;Qt++){var We=$e[Qt].split("=");if(1<We.length){var sn=We[0];We=We[1];var Xt=sn.split("_");he=2<=Xt.length&&Xt[1]=="type"?he+(sn+"="+We+"&"):he+(sn+"=redacted&")}}else he=null;else he=X;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+g+`
`+_+`
`+he})}function rt(c,g,_,S,z,X,he){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+g+`
`+_+`
`+X+" "+he})}function yt(c,g,_,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+_t(c,_)+(S?" "+S:"")})}function tn(c,g){c.info(function(){return"TIMEOUT: "+g})}nt.prototype.info=function(){};function _t(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var X=z[0];if(X!="noop"&&X!="stop"&&X!="close")for(var he=1;he<z.length;he++)z[he]=""}}}}return Tn(_)}catch{return g}}var Dn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hn;function Yt(){}q(Yt,Ls),Yt.prototype.g=function(){return new XMLHttpRequest},Yt.prototype.i=function(){return{}},hn=new Yt;function It(c,g,_,S){this.j=c,this.i=g,this.l=_,this.R=S||1,this.U=new xi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new St}function St(){this.i=null,this.g="",this.h=!1}var vi={},Pi={};function nn(c,g,_){c.L=1,c.v=qs(Gn(g)),c.m=_,c.P=!0,kn(c,null)}function kn(c,g){c.F=Date.now(),Ot(c),c.A=Gn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),il(_.i,"t",S),c.C=0,_=c.j.J,c.h=new St,c.g=Wu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Va(b(c.Y,c,c.g),c.O)),g=c.U,_=c.g,S=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(lr[0]=z.toString()),z=lr);for(var X=0;X<z.length;X++){var he=Ma(_,z[X],S||g.handleEvent,!1,g.h||g);if(!he)break;g.g[he.key]=he}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Me(),Ve(c.i,c.u,c.A,c.l,c.R,c.m)}It.prototype.ca=function(c){c=c.target;const g=this.M;g&&si(c)==3?g.j():this.Y(c)},It.prototype.Y=function(c){try{if(c==this.g)e:{const Xt=si(this.g);var g=this.g.Ba();const _r=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||qu(this.g)))){this.J||Xt!=4||g==7||(g==8||0>=_r?Me(3):Me(2)),Vi(this);var _=this.g.Z();this.X=_;t:if(Ge(this)){var S=qu(this.g);c="";var z=S.length,X=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),ki(this);var he="";break t}this.h.i=new m.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(X&&g==z-1)});S.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=_==200,rt(this.i,this.u,this.A,this.l,this.R,Xt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Qt=this.g;if(($e=Qt.g?Qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee($e)){var We=$e;break t}}We=null}if(_=We)yt(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zs(this,_);else{this.o=!1,this.s=3,me(12),fn(this),ki(this);break e}}if(this.P){_=!0;let dn;for(;!this.J&&this.C<he.length;)if(dn=et(this,he),dn==Pi){Xt==4&&(this.s=4,me(14),_=!1),yt(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==vi){this.s=4,me(15),yt(this.i,this.l,he,"[Invalid Chunk]"),_=!1;break}else yt(this.i,this.l,dn,null),zs(this,dn);if(Ge(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||he.length!=0||this.h.h||(this.s=1,me(16),_=!1),this.o=this.o&&_,!_)yt(this.i,this.l,he,"[Invalid Chunked Response]"),fn(this),ki(this);else if(0<he.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Ws(sn),sn.M=!0,me(11))}}else yt(this.i,this.l,he,null),zs(this,he);Xt==4&&fn(this),this.o&&!this.J&&(Xt==4?Qu(this.j,this):(this.o=!1,Ot(this)))}else gf(this.g),_==400&&0<he.indexOf("Unknown SID")?(this.s=3,me(12)):(this.s=0,me(13)),fn(this),ki(this)}}}catch{}finally{}};function Ge(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function et(c,g){var _=c.C,S=g.indexOf(`
`,_);return S==-1?Pi:(_=Number(g.substring(_,S)),isNaN(_)?vi:(S+=1,S+_>g.length?Pi:(g=g.slice(S,S+_),c.C=S+_,g)))}It.prototype.cancel=function(){this.J=!0,fn(this)};function Ot(c){c.S=Date.now()+c.I,cr(c,c.I)}function cr(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=be(b(c.ba,c),g)}function Vi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}It.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(tn(this.i,this.A),this.L!=2&&(Me(),me(17)),fn(this),this.s=2,ki(this)):cr(this,this.S-c)};function ki(c){c.j.G==0||c.J||Qu(c.j,c)}function fn(c){Vi(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Mi(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function zs(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Zo(_.h,c))){if(!c.K&&Zo(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ya(_),Ga(_);else break e;ll(_),me(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=be(b(_.Za,_),6e3));if(1>=Ua(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else yr(_,11)}else if((c.K||_.g==c)&&Ya(_),!ee(g))for(z=_.Da.g.parse(g),g=0;g<z.length;g++){let We=z[g];if(_.T=We[0],We=We[1],_.G==2)if(We[0]=="c"){_.K=We[1],_.ia=We[2];const sn=We[3];sn!=null&&(_.la=sn,_.j.info("VER="+_.la));const Xt=We[4];Xt!=null&&(_.Aa=Xt,_.j.info("SVER="+_.Aa));const _r=We[5];_r!=null&&typeof _r=="number"&&0<_r&&(S=1.5*_r,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const dn=c.g;if(dn){const qi=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qi){var X=S.h;X.g||qi.indexOf("spdy")==-1&&qi.indexOf("quic")==-1&&qi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(La(X,X.h),X.h=null))}if(S.D){const cl=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;cl&&(S.ya=cl,ct(S.I,S.D,cl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var he=c;if(S.qa=$u(S,S.J?S.ia:null,S.W),he.K){Nn(S.h,he);var $e=he,Qt=S.L;Qt&&($e.I=Qt),$e.B&&(Vi($e),Ot($e)),S.g=he}else Ku(S);0<_.i.length&&Ka(_)}else We[0]!="stop"&&We[0]!="close"||yr(_,7);else _.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?yr(_,7):al(_):We[0]!="noop"&&_.l&&_.l.ta(We),_.v=0)}}Me(4)}catch{}}var ju=class{constructor(c,g){this.g=c,this.map=g}};function hr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ka(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ua(c){return c.h?1:c.g?c.g.size:0}function Zo(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function La(c,g){c.g?c.g.add(g):c.h=g}function Nn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}hr.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Jo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return L(c.i)}function ff(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,S=0;S<_;S++)g.push(c[S]);return g}g=[],_=0;for(S in c)g[_++]=c[S];return g}function ja(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const S in c)g[_++]=S;return g}}}function el(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=ja(c),S=ff(c),z=S.length,X=0;X<z;X++)g.call(void 0,S[X],_&&_[X],c)}var Bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function df(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),z=null;if(0<=S){var X=c[_].substring(0,S);z=c[_].substring(S+1)}else X=c[_];g(X,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Bt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Bt){this.h=c.h,Hs(this,c.j),this.o=c.o,this.g=c.g,Hr(this,c.s),this.l=c.l;var g=c.i,_=new dr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),fr(this,_),this.m=c.m}else c&&(g=String(c).match(Bs))?(this.h=!1,Hs(this,g[1]||"",!0),this.o=ni(g[2]||""),this.g=ni(g[3]||"",!0),Hr(this,g[4]),this.l=ni(g[5]||"",!0),fr(this,g[6]||"",!0),this.m=ni(g[7]||"")):(this.h=!1,this.i=new dr(null,this.h))}Bt.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Fs(g,tl,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Fs(g,tl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Fs(_,_.charAt(0)=="/"?mf:nl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Fs(_,za)),c.join("")};function Gn(c){return new Bt(c)}function Hs(c,g,_){c.j=_?ni(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Hr(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function fr(c,g,_){g instanceof dr?(c.i=g,Bu(c.i,c.h)):(_||(g=Fs(g,pf)),c.i=new dr(g,c.h))}function ct(c,g,_){c.i.set(g,_)}function qs(c){return ct(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ni(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Fs(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,zu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function zu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var tl=/[#\/\?@]/g,nl=/[#\?:]/g,mf=/[#\?]/g,pf=/[#\?@]/g,za=/#/g;function dr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function ii(c){c.g||(c.g=new Map,c.h=0,c.i&&df(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}i=dr.prototype,i.add=function(c,g){ii(this),this.i=null,c=Ui(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function mr(c,g){ii(c),g=Ui(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function pr(c,g){return ii(c),g=Ui(c,g),c.g.has(g)}i.forEach=function(c,g){ii(this),this.g.forEach(function(_,S){_.forEach(function(z){c.call(g,z,S,this)},this)},this)},i.na=function(){ii(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const z=c[S];for(let X=0;X<z.length;X++)_.push(g[S])}return _},i.V=function(c){ii(this);let g=[];if(typeof c=="string")pr(this,c)&&(g=g.concat(this.g.get(Ui(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},i.set=function(c,g){return ii(this),this.i=null,c=Ui(this,c),pr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function il(c,g,_){mr(c,g),0<_.length&&(c.i=null,c.g.set(Ui(c,g),L(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const X=encodeURIComponent(String(S)),he=this.V(S);for(S=0;S<he.length;S++){var z=X;he[S]!==""&&(z+="="+encodeURIComponent(String(he[S]))),c.push(z)}}return this.i=c.join("&")};function Ui(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Bu(c,g){g&&!c.j&&(ii(c),c.i=null,c.g.forEach(function(_,S){var z=S.toLowerCase();S!=z&&(mr(this,S),il(this,z,_))},c)),c.j=g}function Gs(c,g){const _=new nt;if(m.Image){const S=new Image;S.onload=V(ri,_,"TestLoadImage: loaded",!0,g,S),S.onerror=V(ri,_,"TestLoadImage: error",!1,g,S),S.onabort=V(ri,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=V(ri,_,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Ei(c,g){const _=new nt,S=new AbortController,z=setTimeout(()=>{S.abort(),ri(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(X=>{clearTimeout(z),X.ok?ri(_,"TestPingServer: ok",!0,g):ri(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),ri(_,"TestPingServer: error",!1,g)})}function ri(c,g,_,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(_)}catch{}}function Ks(){this.g=new yi}function Li(c,g,_){const S=_||"";try{el(c,function(z,X){let he=z;y(z)&&(he=Tn(z)),g.push(S+X+"="+encodeURIComponent(he))})}catch(z){throw g.push(S+"type="+encodeURIComponent("_badmap")),z}}function qr(c){this.l=c.Ub||null,this.j=c.eb||!1}q(qr,Ls),qr.prototype.g=function(){return new gr(this.l,this.j)},qr.prototype.i=function(c){return function(){return c}}({});function gr(c,g){Et.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(gr,Et),i=gr.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,zi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ji(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zi(this)),this.g&&(this.readyState=3,zi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function rl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ji(this):zi(this),this.readyState==3&&rl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ji(this))},i.Qa=function(c){this.g&&(this.response=c,ji(this))},i.ga=function(){this.g&&ji(this)};function ji(c){c.readyState=4,c.l=null,c.j=null,c.v=null,zi(c)}i.setRequestHeader=function(c,g){this.u.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function zi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function sl(c){let g="";return G(c,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function rn(c,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=sl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ct(c,g,_))}function st(c){Et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(st,Et);var Ba=/^https?$/i,Ys=["POST","PUT"];i=st.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hn.g(),this.v=this.o?Br(this.o):Br(hn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(X){Hu(this,X);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)_.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())_.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ys,g,void 0))||S||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,he]of _)this.g.setRequestHeader(X,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qs(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){Hu(this,X)}};function Hu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Ha(c),Bi(c)}function Ha(c){c.A||(c.A=!0,Xe(c,"complete"),Xe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Xe(this,"complete"),Xe(this,"abort"),Bi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),st.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?qa(this):this.bb())},i.bb=function(){qa(this)};function qa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||si(c)!=4||c.Z()!=2)){if(c.u&&si(c)==4)Tt(c.Ea,0,c);else if(Xe(c,"readystatechange"),si(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=he===0){var z=String(c.D).match(Bs)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),S=!Ba.test(z?z.toLowerCase():"")}_=S}if(_)Xe(c,"complete"),Xe(c,"success");else{c.m=6;try{var X=2<si(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",Ha(c)}}finally{Bi(c)}}}}function Bi(c,g){if(c.g){Qs(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Xe(c,"ready");try{_.onreadystatechange=S}catch{}}}function Qs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function si(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ur(g)}};function qu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function gf(c){const g={};c=(c.g&&2<=si(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ee(c[S]))continue;var _=x(c[S]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=g[z]||[];g[z]=X,X.push(_)}D(g,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Fa(c){this.Aa=0,this.i=[],this.j=new nt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,c),this.cb=Xs("retryDelaySeedMs",1e4,c),this.Wa=Xs("forwardChannelMaxRetries",2,c),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new hr(c&&c.concurrentRequestLimit),this.Da=new Ks,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Fa.prototype,i.la=8,i.G=1,i.connect=function(c,g,_,S){me(0),this.W=c,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=$u(this,null,this.W),Ka(this)};function al(c){if(Fu(c),c.G==3){var g=c.U++,_=Gn(c.I);if(ct(_,"SID",c.K),ct(_,"RID",g),ct(_,"TYPE","terminate"),$s(c,_),g=new It(c,c.j,g),g.L=2,g.v=qs(Gn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=Wu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ot(g)}Xu(c)}function Ga(c){c.g&&(Ws(c),c.g.cancel(),c.g=null)}function Fu(c){Ga(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ya(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ka(c){if(!ka(c.h)&&!c.s){c.s=!0;var g=c.Ga;le||N(),Te||(le(),Te=!0),He.add(g,c),c.B=0}}function yf(c,g){return Ua(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=be(b(c.Ga,c,g),ul(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new It(this,this.j,c);let X=this.o;if(this.S&&(X?(X=w(X),O(X,this.S)):X=this.S),this.m!==null||this.O||(z.H=X,X=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Gu(this,z,g),_=Gn(this.I),ct(_,"RID",c),ct(_,"CVER",22),this.D&&ct(_,"X-HTTP-Session-Id",this.D),$s(this,_),X&&(this.O?g="headers="+encodeURIComponent(String(sl(X)))+"&"+g:this.m&&rn(_,this.m,X)),La(this.h,z),this.Ua&&ct(_,"TYPE","init"),this.P?(ct(_,"$req",g),ct(_,"SID","null"),z.T=!0,nn(z,_,null)):nn(z,_,g),this.G=2}}else this.G==3&&(c?ol(this,c):this.i.length==0||ka(this.h)||ol(this))};function ol(c,g){var _;g?_=g.l:_=c.U++;const S=Gn(c.I);ct(S,"SID",c.K),ct(S,"RID",_),ct(S,"AID",c.T),$s(c,S),c.m&&c.o&&rn(S,c.m,c.o),_=new It(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Gu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),La(c.h,_),nn(_,S,g)}function $s(c,g){c.H&&G(c.H,function(_,S){ct(g,S,_)}),c.l&&el({},function(_,S){ct(g,S,_)})}function Gu(c,g,_){_=Math.min(c.i.length,_);var S=c.l?b(c.l.Na,c.l,c):null;e:{var z=c.i;let X=-1;for(;;){const he=["count="+_];X==-1?0<_?(X=z[0].g,he.push("ofs="+X)):X=0:he.push("ofs="+X);let $e=!0;for(let Qt=0;Qt<_;Qt++){let We=z[Qt].g;const sn=z[Qt].map;if(We-=X,0>We)X=Math.max(0,z[Qt].g-100),$e=!1;else try{Li(sn,he,"req"+We+"_")}catch{S&&S(sn)}}if($e){S=he.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,S}function Ku(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;le||N(),Te||(le(),Te=!0),He.add(g,c),c.v=0}}function ll(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=be(b(c.Fa,c),ul(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=be(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,me(10),Ga(this),Yu(this))};function Ws(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Yu(c){c.g=new It(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Gn(c.qa);ct(g,"RID","rpc"),ct(g,"SID",c.K),ct(g,"AID",c.T),ct(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&ct(g,"TO",c.ja),ct(g,"TYPE","xmlhttp"),$s(c,g),c.m&&c.o&&rn(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=qs(Gn(g)),_.m=null,_.P=!0,kn(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Ga(this),ll(this),me(19))};function Ya(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Qu(c,g){var _=null;if(c.g==g){Ya(c),Ws(c),c.g=null;var S=2}else if(Zo(c.h,g))_=g.D,Nn(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var z=c.B;S=ce(),Xe(S,new pe(S,_)),Ka(c)}else Ku(c);else if(z=g.s,z==3||z==0&&0<g.X||!(S==1&&yf(c,g)||S==2&&ll(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),z){case 1:yr(c,5);break;case 4:yr(c,10);break;case 3:yr(c,6);break;default:yr(c,2)}}}function ul(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function yr(c,g){if(c.j.info("Error code "+g),g==2){var _=b(c.fb,c),S=c.Xa;const z=!S;S=new Bt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Hs(S,"https"),qs(S),z?Gs(S.toString(),_):Ei(S.toString(),_)}else me(2);c.G=0,c.l&&c.l.sa(g),Xu(c),Fu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),me(2)):(this.j.info("Failed to ping google.com"),me(1))};function Xu(c){if(c.G=0,c.ka=[],c.l){const g=Jo(c.h);(g.length!=0||c.i.length!=0)&&(k(c.ka,g),k(c.ka,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.ra()}}function $u(c,g,_){var S=_ instanceof Bt?Gn(_):new Bt(_);if(S.g!="")g&&(S.g=g+"."+S.g),Hr(S,S.s);else{var z=m.location;S=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var X=new Bt(null);S&&Hs(X,S),g&&(X.g=g),z&&Hr(X,z),_&&(X.l=_),S=X}return _=c.D,g=c.ya,_&&g&&ct(S,_,g),ct(S,"VER",c.la),$s(c,S),S}function Wu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new st(new qr({eb:_})):new st(c.pa),g.Ha(c.J),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}i=Zu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Qa(){}Qa.prototype.g=function(c,g){return new On(c,g)};function On(c,g){Et.call(this),this.g=new Fa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!ee(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ee(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Hi(this)}q(On,Et),On.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){al(this.g)},On.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Tn(c),c=_);g.i.push(new ju(g.Ya++,c)),g.G==3&&Ka(g)},On.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,On.aa.N.call(this)};function Ju(c){_i.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}q(Ju,_i);function ec(){j.call(this),this.status=1}q(ec,j);function Hi(c){this.g=c}q(Hi,Zu),Hi.prototype.ua=function(){Xe(this.g,"a")},Hi.prototype.ta=function(c){Xe(this.g,new Ju(c))},Hi.prototype.sa=function(c){Xe(this.g,new ec)},Hi.prototype.ra=function(){Xe(this.g,"b")},Qa.prototype.createWebChannel=Qa.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,q0=function(){return new Qa},H0=function(){return ce()},B0=K,Hm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dn.NO_ERROR=0,Dn.TIMEOUT=8,Dn.HTTP_ERROR=6,mh=Dn,Fn.COMPLETE="complete",z0=Fn,js.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",Et.prototype.listen=Et.prototype.K,au=js,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,j0=st}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const SE="@firebase/firestore",AE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new mp("@firebase/firestore");function bo(){return Sa.logLevel}function ye(i,...e){if(Sa.logLevel<=Ke.DEBUG){const n=e.map(Rp);Sa.debug(`Firestore (${Yo}): ${i}`,...n)}}function Lr(i,...e){if(Sa.logLevel<=Ke.ERROR){const n=e.map(Rp);Sa.error(`Firestore (${Yo}): ${i}`,...n)}}function Rs(i,...e){if(Sa.logLevel<=Ke.WARN){const n=e.map(Rp);Sa.warn(`Firestore (${Yo}): ${i}`,...n)}}function Rp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,F0(i,s,n)}function F0(i,e,n){let s=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Lr(s),new Error(s)}function at(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||F0(e,o,s)}function Ue(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wn.UNAUTHENTICATED))}shutdown(){}}class zD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class BD{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new As;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new As,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new As)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(at(typeof s.accessToken=="string",31837,{l:s}),new G0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new wn(e)}}class HD{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qD{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new HD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(wn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const s=u=>{u.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ye("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=GD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ze(i,e){return i<e?-1:i>e?1:0}function qm(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return ze(s,o);{const u=K0(),f=KD(u.encode(wE(i,n)),u.encode(wE(e,n)));return f!==0?f:ze(s,o)}}n+=s>65535?2:1}return ze(i.length,e.length)}function wE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function KD(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return ze(i[n],e[n]);return ze(i.length,e.length)}function jo(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="__name__";class Xi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Oe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Xi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ze(e.length,n.length)}static compareSegments(e,n){const s=Xi.isNumericId(e),o=Xi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Xi.extractNumericId(e).compare(Xi.extractNumericId(n)):qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ss.fromString(e.substring(4,e.length-2))}}class At extends Xi{construct(e,n,s){return new At(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Se(oe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new At(n)}static emptyPath(){return new At([])}}const YD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends Xi{construct(e,n,s){return new _n(e,n,s)}static isValidIdentifier(e){return YD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RE}static keyField(){return new _n([RE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Se(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Se(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Se(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new Se(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(At.fromString(e))}static fromName(e){return new Re(At.fromString(e).popFirst(5))}static empty(){return new Re(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new At(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(i,e,n){if(!n)throw new Se(oe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function QD(i,e,n,s){if(e===!0&&s===!0)throw new Se(oe.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function IE(i){if(!Re.isDocumentKey(i))throw new Se(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function CE(i){if(Re.isDocumentKey(i))throw new Se(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Q0(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Cp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Oe(12329,{type:typeof i})}function Dh(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Se(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cp(i);throw new Se(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Pu(i,e){if(!Q0(i))throw new Se(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new Se(oe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=-62135596800,NE=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*NE);return new bt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<DE)throw new Se(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NE}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pu(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-DE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:Kt("string",bt._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new bt(0,0))}static max(){return new ke(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=-1;function XD(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(s===1e9?new bt(n+1,0):new bt(n,s));return new Is(o,Re.empty(),e)}function $D(i){return new Is(i.readTime,i.key,Su)}class Is{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Is(ke.min(),Re.empty(),Su)}static max(){return new Is(ke.max(),Re.empty(),Su)}}function WD(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(i.documentKey,e.documentKey),n!==0?n:ze(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(i){if(i.code!==oe.FAILED_PRECONDITION||i.message!==ZD)throw i;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,s)=>{n(e)})}static reject(e){return new re((n,s)=>{s(e)})}static waitFor(e){return new re((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=re.resolve(!1);for(const s of e)n=n.next(o=>o?re.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new re((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(v=>{f[y]=v,++m,m===u&&s(f)},v=>o(v))}})}static doWhile(e,n){return new re((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function e2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Wh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=-1;function Zh(i){return i==null}function Nh(i){return i===0&&1/i==-1/0}function t2(i){return typeof i=="number"&&Number.isInteger(i)&&!Nh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="";function n2(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=OE(e)),e=i2(i.get(n),e);return OE(e)}function i2(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case X0:n+="";break;default:n+=u}}return n}function OE(i){return i+X0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Da(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function $0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ih(this.root,e,this.comparator,!0)}}class ih{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??yn.RED,this.left=o??yn.EMPTY,this.right=u??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new yn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return yn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ME(this.data.getIterator())}getIteratorFrom(e){return new ME(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class ME{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new Ri([])}unionWith(e){let n=new en(_n.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ri(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new W0("Invalid base64 string: "+u):u}}(e);return new En(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const r2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(i){if(at(!!i,39018),typeof i=="string"){let e=0;const n=r2.exec(i);if(at(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:zt(i.seconds),nanos:zt(i.nanos)}}function zt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ds(i){return typeof i=="string"?En.fromBase64String(i):En.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="server_timestamp",J0="__type__",eS="__previous_value__",tS="__local_write_time__";function Np(i){var e,n;return((n=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[J0])===null||n===void 0?void 0:n.stringValue)===Z0}function Jh(i){const e=i.mapValue.fields[eS];return Np(e)?Jh(e):e}function Au(i){const e=Cs(i.mapValue.fields[tS].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,s,o,u,f,m,p,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=v}}const Oh="(default)";class bu{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="__type__",a2="__max__",rh={mapValue:{}},iS="__vector__",xh="value";function Ns(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Np(i)?4:l2(i)?9007199254740991:o2(i)?10:11:Oe(28295,{value:i})}function rr(i,e){if(i===e)return!0;const n=Ns(i);if(n!==Ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Au(i).isEqual(Au(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Cs(o.timestampValue),m=Cs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Ds(o.bytesValue).isEqual(Ds(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return zt(o.geoPointValue.latitude)===zt(u.geoPointValue.latitude)&&zt(o.geoPointValue.longitude)===zt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return zt(o.integerValue)===zt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=zt(o.doubleValue),m=zt(u.doubleValue);return f===m?Nh(f)===Nh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return jo(i.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(xE(f)!==xE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!rr(f[p],m[p])))return!1;return!0}(i,e);default:return Oe(52216,{left:i})}}function wu(i,e){return(i.values||[]).find(n=>rr(n,e))!==void 0}function zo(i,e){if(i===e)return 0;const n=Ns(i),s=Ns(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=zt(u.integerValue||u.doubleValue),p=zt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return PE(i.timestampValue,e.timestampValue);case 4:return PE(Au(i),Au(e));case 5:return qm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=Ds(u),p=Ds(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const v=ze(m[y],p[y]);if(v!==0)return v}return ze(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=ze(zt(u.latitude),zt(f.latitude));return m!==0?m:ze(zt(u.longitude),zt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return VE(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,v;const A=u.fields||{},b=f.fields||{},V=(m=A[xh])===null||m===void 0?void 0:m.arrayValue,q=(p=b[xh])===null||p===void 0?void 0:p.arrayValue,L=ze(((y=V?.values)===null||y===void 0?void 0:y.length)||0,((v=q?.values)===null||v===void 0?void 0:v.length)||0);return L!==0?L:VE(V,q)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===rh.mapValue&&f===rh.mapValue)return 0;if(u===rh.mapValue)return 1;if(f===rh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let A=0;A<p.length&&A<v.length;++A){const b=qm(p[A],v[A]);if(b!==0)return b;const V=zo(m[p[A]],y[v[A]]);if(V!==0)return V}return ze(p.length,v.length)}(i.mapValue,e.mapValue);default:throw Oe(23264,{le:n})}}function PE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ze(i,e);const n=Cs(i),s=Cs(e),o=ze(n.seconds,s.seconds);return o!==0?o:ze(n.nanos,s.nanos)}function VE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=zo(n[o],s[o]);if(u)return u}return ze(n.length,s.length)}function Bo(i){return Fm(i)}function Fm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Cs(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Ds(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Re.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Fm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Fm(n.fields[f])}`;return o+"}"}(i.mapValue):Oe(61005,{value:i})}function ph(i){switch(Ns(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jh(i);return e?16+ph(e):16;case 5:return 2*i.stringValue.length;case 6:return Ds(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+ph(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Da(s.fields,(u,f)=>{o+=u.length+ph(f)}),o}(i.mapValue);default:throw Oe(13486,{value:i})}}function Gm(i){return!!i&&"integerValue"in i}function Op(i){return!!i&&"arrayValue"in i}function kE(i){return!!i&&"nullValue"in i}function UE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function gh(i){return!!i&&"mapValue"in i}function o2(i){var e,n;return((n=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[nS])===null||n===void 0?void 0:n.stringValue)===iS}function fu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Da(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=fu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fu(i.arrayValue.values[n]);return e}return Object.assign({},i)}function l2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===a2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.value=e}static empty(){return new pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(n)}setAll(e){let n=_n.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=fu(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];gh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Da(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new pi(fu(this.value))}}function rS(i){const e=[];return Da(i.fields,(n,s)=>{const o=new _n([n]);if(gh(s)){const u=rS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Ri(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Rn(e,0,ke.min(),ke.min(),ke.min(),pi.empty(),0)}static newFoundDocument(e,n,s,o){return new Rn(e,1,n,ke.min(),s,o,0)}static newNoDocument(e,n){return new Rn(e,2,n,ke.min(),ke.min(),pi.empty(),0)}static newUnknownDocument(e,n){return new Rn(e,3,n,ke.min(),ke.min(),pi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.position=e,this.inclusive=n}}function LE(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=Re.comparator(Re.fromName(f.referenceValue),n.key):s=zo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function jE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!rr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n="asc"){this.field=e,this.dir=n}}function u2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{}class Jt extends sS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new h2(e,n,s):n==="array-contains"?new m2(e,s):n==="in"?new p2(e,s):n==="not-in"?new g2(e,s):n==="array-contains-any"?new y2(e,s):new Jt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new f2(e,s):new d2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zo(n,this.value)):n!==null&&Ns(this.value)===Ns(n)&&this.matchesComparison(zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends sS{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new sr(e,n)}matches(e){return aS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function aS(i){return i.op==="and"}function oS(i){return c2(i)&&aS(i)}function c2(i){for(const e of i.filters)if(e instanceof sr)return!1;return!0}function Km(i){if(i instanceof Jt)return i.field.canonicalString()+i.op.toString()+Bo(i.value);if(oS(i))return i.filters.map(e=>Km(e)).join(",");{const e=i.filters.map(n=>Km(n)).join(",");return`${i.op}(${e})`}}function lS(i,e){return i instanceof Jt?function(s,o){return o instanceof Jt&&s.op===o.op&&s.field.isEqual(o.field)&&rr(s.value,o.value)}(i,e):i instanceof sr?function(s,o){return o instanceof sr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&lS(f,o.filters[m]),!0):!1}(i,e):void Oe(19439)}function uS(i){return i instanceof Jt?function(n){return`${n.field.canonicalString()} ${n.op} ${Bo(n.value)}`}(i):i instanceof sr?function(n){return n.op.toString()+" {"+n.getFilters().map(uS).join(" ,")+"}"}(i):"Filter"}class h2 extends Jt{constructor(e,n,s){super(e,n,s),this.key=Re.fromName(s.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class f2 extends Jt{constructor(e,n){super(e,"in",n),this.keys=cS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class d2 extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=cS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cS(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Re.fromName(s.referenceValue))}class m2 extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Op(n)&&wu(n.arrayValue,this.value)}}class p2 extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wu(this.value.arrayValue,n)}}class g2 extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wu(this.value.arrayValue,n)}}class y2 extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Op(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>wu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function zE(i,e=null,n=[],s=[],o=null,u=null,f=null){return new _2(i,e,n,s,o,u,f)}function xp(i){const e=Ue(i);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Km(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Bo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Bo(s)).join(",")),e.Pe=n}return e.Pe}function Mp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!u2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!lS(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!jE(i.startAt,e.startAt)&&jE(i.endAt,e.endAt)}function Ym(i){return Re.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function v2(i,e,n,s,o,u,f,m){return new ef(i,e,n,s,o,u,f,m)}function hS(i){return new ef(i)}function BE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function E2(i){return i.collectionGroup!==null}function du(i){const e=Ue(i);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new en(_n.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new Ph(u,s))}),n.has(_n.keyField().canonicalString())||e.Te.push(new Ph(_n.keyField(),s))}return e.Te}function er(i){const e=Ue(i);return e.Ie||(e.Ie=T2(e,du(i))),e.Ie}function T2(i,e){if(i.limitType==="F")return zE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ph(o.field,u)});const n=i.endAt?new Mh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Mh(i.startAt.position,i.startAt.inclusive):null;return zE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Qm(i,e,n){return new ef(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function tf(i,e){return Mp(er(i),er(e))&&i.limitType===e.limitType}function fS(i){return`${xp(er(i))}|lt:${i.limitType}`}function wo(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>uS(o)).join(", ")}]`),Zh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Bo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Bo(o)).join(",")),`Target(${s})`}(er(i))}; limitType=${i.limitType})`}function nf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Re.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of du(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=LE(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,du(s),o)||s.endAt&&!function(f,m,p){const y=LE(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,du(s),o))}(i,e)}function S2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function dS(i){return(e,n)=>{let s=!1;for(const o of du(i)){const u=A2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function A2(i,e,n){const s=i.field.isKeyField()?Re.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?zo(p,y):Oe(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Oe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Da(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return $0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=new Dt(Re.comparator);function jr(){return b2}const mS=new Dt(Re.comparator);function ou(...i){let e=mS;for(const n of i)e=e.insert(n.key,n);return e}function pS(i){let e=mS;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ga(){return mu()}function gS(){return mu()}function mu(){return new Na(i=>i.toString(),(i,e)=>i.isEqual(e))}const w2=new Dt(Re.comparator),R2=new en(Re.comparator);function Qe(...i){let e=R2;for(const n of i)e=e.add(n);return e}const I2=new en(ze);function C2(){return I2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function yS(i){return{integerValue:""+i}}function D2(i,e){return t2(e)?yS(e):Pp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this._=void 0}}function N2(i,e,n){return i instanceof Vh?function(o,u){const f={fields:{[J0]:{stringValue:Z0},[tS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Np(u)&&(u=Jh(u)),u&&(f.fields[eS]=u),{mapValue:f}}(n,e):i instanceof Ru?vS(i,e):i instanceof Iu?ES(i,e):function(o,u){const f=_S(o,u),m=HE(f)+HE(o.Ee);return Gm(f)&&Gm(o.Ee)?yS(m):Pp(o.serializer,m)}(i,e)}function O2(i,e,n){return i instanceof Ru?vS(i,e):i instanceof Iu?ES(i,e):n}function _S(i,e){return i instanceof kh?function(s){return Gm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Vh extends rf{}class Ru extends rf{constructor(e){super(),this.elements=e}}function vS(i,e){const n=TS(e);for(const s of i.elements)n.some(o=>rr(o,s))||n.push(s);return{arrayValue:{values:n}}}class Iu extends rf{constructor(e){super(),this.elements=e}}function ES(i,e){let n=TS(e);for(const s of i.elements)n=n.filter(o=>!rr(o,s));return{arrayValue:{values:n}}}class kh extends rf{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function HE(i){return zt(i.integerValue||i.doubleValue)}function TS(i){return Op(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function x2(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Ru&&o instanceof Ru||s instanceof Iu&&o instanceof Iu?jo(s.elements,o.elements,rr):s instanceof kh&&o instanceof kh?rr(s.Ee,o.Ee):s instanceof Vh&&o instanceof Vh}(i.transform,e.transform)}class M2{constructor(e,n){this.version=e,this.transformResults=n}}class Vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vr}static exists(e){return new Vr(void 0,e)}static updateTime(e){return new Vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class sf{}function SS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new bS(i.key,Vr.none()):new Vu(i.key,i.data,Vr.none());{const n=i.data,s=pi.empty();let o=new en(_n.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Oa(i.key,s,new Ri(o.toArray()),Vr.none())}}function P2(i,e,n){i instanceof Vu?function(o,u,f){const m=o.value.clone(),p=FE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Oa?function(o,u,f){if(!yh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=FE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(AS(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function pu(i,e,n,s){return i instanceof Vu?function(u,f,m,p){if(!yh(u.precondition,f))return m;const y=u.value.clone(),v=GE(u.fieldTransforms,p,f);return y.setAll(v),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(i,e,n,s):i instanceof Oa?function(u,f,m,p){if(!yh(u.precondition,f))return m;const y=GE(u.fieldTransforms,p,f),v=f.data;return v.setAll(AS(u)),v.setAll(y),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,n,s):function(u,f,m){return yh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function V2(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=_S(s.transform,o||null);u!=null&&(n===null&&(n=pi.empty()),n.set(s.field,u))}return n||null}function qE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&jo(s,o,(u,f)=>x2(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Vu extends sf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Oa extends sf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function AS(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function FE(i,e,n){const s=new Map;at(i.length===n.length,32656,{Ae:n.length,Re:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,O2(f,m,n[o]))}return s}function GE(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,N2(u,f,e))}return s}class bS extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k2 extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&P2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=pu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=pu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=gS();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=SS(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(ke.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(n,s)=>qE(n,s))&&jo(this.baseMutations,e.baseMutations,(n,s)=>qE(n,s))}}class Vp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){at(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return w2}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Vp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,Je;function z2(i){switch(i){case oe.OK:return Oe(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Oe(15467,{code:i})}}function wS(i){if(i===void 0)return Lr("GRPC error has no .code"),oe.UNKNOWN;switch(i){case Ft.OK:return oe.OK;case Ft.CANCELLED:return oe.CANCELLED;case Ft.UNKNOWN:return oe.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return oe.INTERNAL;case Ft.UNAVAILABLE:return oe.UNAVAILABLE;case Ft.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Ft.NOT_FOUND:return oe.NOT_FOUND;case Ft.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Ft.ABORTED:return oe.ABORTED;case Ft.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Ft.DATA_LOSS:return oe.DATA_LOSS;default:return Oe(39323,{code:i})}}(Je=Ft||(Ft={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new Ss([4294967295,4294967295],0);function KE(i){const e=K0().encode(i),n=new L0;return n.update(e),new Uint8Array(n.digest())}function YE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ss([n,s],0),new Ss([o,u],0)]}class kp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new lu(`Invalid padding: ${n}`);if(s<0)throw new lu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new lu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new lu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Ss.fromNumber(this.fe)}pe(e,n,s){let o=e.add(n.multiply(Ss.fromNumber(s)));return o.compare(B2)===1&&(o=new Ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=KE(e),[s,o]=YE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new kp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.fe===0)return;const n=KE(e),[s,o]=YE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ku.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new af(ke.min(),o,new Dt(ze),jr(),Qe())}}class ku{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ku(s,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=o}}class RS{constructor(e,n){this.targetId=e,this.De=n}}class IS{constructor(e,n,s=En.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class QE{constructor(){this.ve=0,this.Ce=XE(),this.Fe=En.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Qe(),n=Qe(),s=Qe();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Oe(38017,{changeType:u})}}),new ku(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=XE()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class H2{constructor(e){this.We=e,this.Ge=new Map,this.ze=jr(),this.je=sh(),this.Je=sh(),this.He=new Dt(ze)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:Oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((s,o)=>{this.nt(o)&&n(o)})}it(e){const n=e.targetId,s=e.De.count,o=this.st(n);if(o){const u=o.target;if(Ym(u))if(s===0){const f=new Re(u.path);this.Xe(n,f,Rn.newNoDocument(f,ke.min()))}else at(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const m=this._t(e),p=m?this.ut(m,e,f):1;if(p!==0){this.rt(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,y)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Ds(s).toUint8Array()}catch(p){if(p instanceof W0)return Rs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new kp(f,o,u)}catch(p){return Rs(p instanceof lu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),o++)}),o}Pt(e){const n=new Map;this.Ge.forEach((u,f)=>{const m=this.st(f);if(m){if(u.current&&Ym(m.target)){const p=new Re(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,Rn.newNoDocument(p,e))}u.Ne&&(n.set(f,u.Le()),u.ke())}});let s=Qe();this.Je.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.st(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,f)=>f.setReadTime(e));const o=new af(e,n,this.He,this.ze,s);return this.ze=jr(),this.je=sh(),this.Je=sh(),this.He=new Dt(ze),o}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new QE,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new en(ze),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new en(ze),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new QE),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function sh(){return new Dt(Re.comparator)}function XE(){return new Dt(Re.comparator)}const q2={asc:"ASCENDING",desc:"DESCENDING"},F2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G2={and:"AND",or:"OR"};class K2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xm(i,e){return i.useProto3Json||Zh(e)?e:{value:e}}function Uh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Y2(i,e){return Uh(i,e.toTimestamp())}function tr(i){return at(!!i,49232),ke.fromTimestamp(function(n){const s=Cs(n);return new bt(s.seconds,s.nanos)}(i))}function Up(i,e){return $m(i,e).canonicalString()}function $m(i,e){const n=function(o){return new At(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function DS(i){const e=At.fromString(i);return at(PS(e),10190,{key:e.toString()}),e}function Wm(i,e){return Up(i.databaseId,e.path)}function bm(i,e){const n=DS(e);if(n.get(1)!==i.databaseId.projectId)throw new Se(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Se(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Re(OS(n))}function NS(i,e){return Up(i.databaseId,e)}function Q2(i){const e=DS(i);return e.length===4?At.emptyPath():OS(e)}function Zm(i){return new At(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function OS(i){return at(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function $E(i,e,n){return{name:Wm(i,e),fields:n.value.mapValue.fields}}function X2(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Oe(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,v){return y.useProto3Json?(at(v===void 0||typeof v=="string",58123),En.fromBase64String(v||"")):(at(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),En.fromUint8Array(v||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const v=y.code===void 0?oe.UNKNOWN:wS(y.code);return new Se(v,y.message||"")}(f);n=new IS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=bm(i,s.document.name),u=tr(s.document.updateTime),f=s.document.createTime?tr(s.document.createTime):ke.min(),m=new pi({mapValue:{fields:s.document.fields}}),p=Rn.newFoundDocument(o,u,f,m),y=s.targetIds||[],v=s.removedTargetIds||[];n=new _h(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=bm(i,s.document),u=s.readTime?tr(s.readTime):ke.min(),f=Rn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new _h([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=bm(i,s.document),u=s.removedTargetIds||[];n=new _h([],u,o,null)}else{if(!("filter"in e))return Oe(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new j2(o,u),m=s.targetId;n=new RS(m,f)}}return n}function $2(i,e){let n;if(e instanceof Vu)n={update:$E(i,e.key,e.value)};else if(e instanceof bS)n={delete:Wm(i,e.key)};else if(e instanceof Oa)n={update:$E(i,e.key,e.data),updateMask:sN(e.fieldMask)};else{if(!(e instanceof k2))return Oe(16599,{Rt:e.type});n={verify:Wm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Vh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ru)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Iu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof kh)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw Oe(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Y2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Oe(27497)}(i,e.precondition)),n}function W2(i,e){return i&&i.length>0?(at(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?tr(o.updateTime):tr(u);return f.isEqual(ke.min())&&(f=tr(u)),new M2(f,o.transformResults||[])}(n,e))):[]}function Z2(i,e){return{documents:[NS(i,e.path)]}}function J2(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=NS(i,o);const u=function(y){if(y.length!==0)return MS(sr.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(v=>function(b){return{field:Ro(b.field),direction:nN(b.dir)}}(v))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Xm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{Vt:n,parent:o}}function eN(i){let e=Q2(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){at(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(A){const b=xS(A);return b instanceof sr&&oS(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(b=>function(q){return new Ph(Io(q.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction))}(b))}(n.orderBy));let m=null;n.limit&&(m=function(A){let b;return b=typeof A=="object"?A.value:A,Zh(b)?null:b}(n.limit));let p=null;n.startAt&&(p=function(A){const b=!!A.before,V=A.values||[];return new Mh(V,b)}(n.startAt));let y=null;return n.endAt&&(y=function(A){const b=!A.before,V=A.values||[];return new Mh(V,b)}(n.endAt)),v2(e,o,f,u,m,"F",p,y)}function tN(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xS(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Io(n.unaryFilter.field);return Jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Io(n.unaryFilter.field);return Jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Io(n.unaryFilter.field);return Jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Io(n.unaryFilter.field);return Jt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}}(i):i.fieldFilter!==void 0?function(n){return Jt.create(Io(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return sr.create(n.compositeFilter.filters.map(s=>xS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}}(n.compositeFilter.op))}(i):Oe(30097,{filter:i})}function nN(i){return q2[i]}function iN(i){return F2[i]}function rN(i){return G2[i]}function Ro(i){return{fieldPath:i.canonicalString()}}function Io(i){return _n.fromServerFormat(i.fieldPath)}function MS(i){return i instanceof Jt?function(n){if(n.op==="=="){if(UE(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NAN"}};if(kE(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(UE(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NAN"}};if(kE(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(n.field),op:iN(n.op),value:n.value}}}(i):i instanceof sr?function(n){const s=n.getFilters().map(o=>MS(o));return s.length===1?s[0]:{compositeFilter:{op:rN(n.op),filters:s}}}(i):Oe(54877,{filter:i})}function sN(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,s,o,u=ke.min(),f=ke.min(),m=En.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.gt=e}}function oN(i){const e=eN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.Dn=new uN}addToCollectionParentIndex(e,n){return this.Dn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Is.min())}updateCollectionGroup(e,n,s){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class uN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new en(At.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new en(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VS=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(VS,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ho(0)}static ur(){return new Ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="LruGarbageCollector",cN=1048576;function JE([i,e],[n,s]){const o=ze(i,n);return o===0?ze(e,s):o}class hN{constructor(e){this.Tr=e,this.buffer=new en(JE),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();JE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ye(ZE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xo(n)?ye(ZE,"Ignoring IndexedDB error during garbage collection: ",n):await Qo(n)}await this.Rr(3e5)})}}class dN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Wh.ue);const s=new hN(n);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(WE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WE):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,o,u,f,m,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(y=Date.now(),bo()<=Ke.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function mN(i,e){return new dN(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.changes=new Na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&pu(s.mutation,o,Ri.empty(),bt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Qe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Qe()){const o=ga();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=ou();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=ga();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Qe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=jr();const f=mu(),m=function(){return mu()}();return n.forEach((p,y)=>{const v=s.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof Oa)?u=u.insert(y.key,y):v!==void 0?(f.set(y.key,v.mutation.getFieldMask()),pu(v.mutation,y,v.mutation.getFieldMask(),bt.now())):f.set(y.key,Ri.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,v)=>f.set(y,v)),n.forEach((y,v)=>{var A;return m.set(y,new gN(v,(A=f.get(y))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const s=mu();let o=new Dt((f,m)=>f-m),u=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let v=s.get(p)||Ri.empty();v=m.applyToLocalView(y,v),s.set(p,v);const A=(o.get(m.batchId)||Qe()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,v=p.value,A=gS();v.forEach(b=>{if(!u.has(b)){const V=SS(n.get(b),s.get(b));V!==null&&A.set(b,V),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return re.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return Re.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):E2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):re.resolve(ga());let m=Su,p=u;return f.next(y=>re.forEach(y,(v,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(v)?re.resolve():this.remoteDocumentCache.getEntry(e,v).next(b=>{p=p.insert(v,b)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Qe())).next(v=>({batchId:m,changes:pS(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next(s=>{let o=ou();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=ou();return this.indexManager.getCollectionParents(e,u).next(m=>re.forEach(m,p=>{const y=function(A,b){return new ef(b,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(v=>{v.forEach((A,b)=>{f=f.insert(A,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const v=y.getKey();f.get(v)===null&&(f=f.insert(v,Rn.newInvalidDocument(v)))});let m=ou();return f.forEach((p,y)=>{const v=u.get(p);v!==void 0&&pu(v.mutation,y,Ri.empty(),bt.now()),nf(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return re.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(o){return{id:o.id,version:o.version,createTime:tr(o.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(o){return{name:o.name,query:oN(o.bundledQuery),readTime:tr(o.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.overlays=new Dt(Re.comparator),this.kr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ga();return re.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.wt(e,n,u)}),re.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),re.resolve()}getOverlaysForCollection(e,n,s){const o=ga(),u=n.length+1,f=new Re(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new Dt((y,v)=>y-v);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let v=u.get(y.largestBatchId);v===null&&(v=ga(),u=u.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const m=ga(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,v)=>m.set(y,v)),!(m.size()>=o)););return re.resolve(m)}wt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new L2(n,s));let u=this.kr.get(n);u===void 0&&(u=Qe(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(){this.qr=new en(un.Qr),this.$r=new en(un.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new un(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Wr(new un(e,n))}Gr(e,n){e.forEach(s=>this.removeReference(s,n))}zr(e){const n=new Re(new At([])),s=new un(n,e),o=new un(n,e+1),u=[];return this.$r.forEachInRange([s,o],f=>{this.Wr(f),u.push(f.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Re(new At([])),s=new un(n,e),o=new un(n,e+1);let u=Qe();return this.$r.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new un(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class un{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Re.comparator(e.key,n.key)||ze(e.Hr,n.Hr)}static Ur(e,n){return ze(e.Hr,n.Hr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new en(un.Qr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new U2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new un(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(f)}lookupMutationBatch(e,n){return re.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Dp:this.er-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new un(n,0),o=new un(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],f=>{const m=this.Zr(f.Hr);u.push(m)}),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new en(ze);return n.forEach(o=>{const u=new un(o,0),f=new un(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],m=>{s=s.add(m.Hr)})}),re.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Re.isDocumentKey(u)||(u=u.child(""));const f=new un(new Re(u),0);let m=new en(ze);return this.Yr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Hr)),!0)},f),re.resolve(this.ei(m))}ei(e){const n=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){at(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return re.forEach(n.mutations,o=>{const u=new un(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,n){const s=new un(n,0),o=this.Yr.firstAfterOrEqual(s);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.ni=e,this.docs=function(){return new Dt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return re.resolve(s?s.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let s=jr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Rn.newInvalidDocument(o))}),re.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=jr();const f=n.path,m=new Re(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||WD($D(v),s)<=0||(o.has(v.key)||nf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return re.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Oe(9500)}ri(e,n){return re.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new AN(this)}getSize(e){return re.resolve(this.size)}}class AN extends pN{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),re.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.persistence=e,this.ii=new Na(n=>xp(n),Mp),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.si=0,this.oi=new Lp,this.targetCount=0,this._i=Ho.ar()}forEachTarget(e,n){return this.ii.forEach((s,o)=>n(o)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),re.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Ho(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.hr(n),re.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ii.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),re.waitFor(u).next(()=>o)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return re.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),re.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),re.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return re.resolve(s)}containsKey(e,n){return re.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n){this.ai={},this.overlays={},this.ui=new Wh(0),this.ci=!1,this.ci=!0,this.li=new EN,this.referenceDelegate=e(this),this.hi=new bN(this),this.indexManager=new lN,this.remoteDocumentCache=function(o){return new SN(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new aN(n),this.Ti=new _N(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new TN(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){ye("MemoryPersistence","Starting transaction:",e);const o=new wN(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,n){return re.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,n)))}}class wN extends JD{constructor(e){super(),this.currentSequenceNumber=e}}class jp{constructor(e){this.persistence=e,this.Ai=new Lp,this.Ri=null}static Vi(e){return new jp(e)}get mi(){if(this.Ri)return this.Ri;throw Oe(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),re.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.mi,s=>{const o=Re.fromPath(s);return this.fi(e,o).next(u=>{u||n.removeEntry(o,ke.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return re.or([()=>re.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Lh{constructor(e,n){this.persistence=e,this.gi=new Na(s=>n2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=mN(this,n)}static Vi(e,n){return new Lh(e,n)}Ii(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}yr(e){let n=0;return this.gr(e,s=>{n++}).next(()=>n)}gr(e,n){return re.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?re.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,f=>this.Sr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,ke.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),re.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ph(e.data.value)),n}Sr(e,n,s){return re.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return re.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=o}static Es(e,n){let s=Qe(),o=Qe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new zp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return a1()?8:e2(In())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ps(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ys(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new RN;return this.ws(e,n,f).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,n,f,m.size)})}).next(()=>u.result)}Ss(e,n,s,o){return s.documentReadCount<this.Vs?(bo()<=Ke.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),re.resolve()):(bo()<=Ke.DEBUG&&ye("QueryEngine","Query:",wo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(bo()<=Ke.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(n))):re.resolve())}ps(e,n){if(BE(n))return re.resolve(null);let s=er(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Qm(n,null,"F"),s=er(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Qe(...u);return this.gs.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.bs(n,m);return this.Ds(n,y,f,p.readTime)?this.ps(e,Qm(n,null,"F")):this.vs(e,y,n,p)}))})))}ys(e,n,s,o){return BE(n)||o.isEqual(ke.min())?re.resolve(null):this.gs.getDocuments(e,s).next(u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?re.resolve(null):(bo()<=Ke.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wo(n)),this.vs(e,f,n,XD(o,Su)).next(m=>m))})}bs(e,n){let s=new en(dS(e));return n.forEach((o,u)=>{nf(e,u)&&(s=s.add(u))}),s}Ds(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,s){return bo()<=Ke.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",wo(n)),this.gs.getDocumentsMatchingQuery(e,n,Is.min(),s)}vs(e,n,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="LocalStore",CN=3e8;class DN{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new Dt(ze),this.Ms=new Na(u=>xp(u),Mp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yN(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function NN(i,e,n,s){return new DN(i,e,n,s)}async function US(i,e){const n=Ue(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Qe();for(const y of o){f.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of u){m.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Bs:y,removedBatchIds:f,addedBatchIds:m}))})})}function ON(i,e){const n=Ue(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,y,v){const A=y.batch,b=A.keys();let V=re.resolve();return b.forEach(q=>{V=V.next(()=>v.getEntry(p,q)).next(L=>{const k=y.docVersions.get(q);at(k!==null,48541),L.version.compareTo(k)<0&&(A.applyToRemoteDocument(L,y),L.isValidDocument()&&(L.setReadTime(y.commitVersion),v.addEntry(L)))})}),V.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Qe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function LS(i){const e=Ue(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function xN(i,e){const n=Ue(i),s=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];e.targetChanges.forEach((v,A)=>{const b=o.get(A);if(!b)return;m.push(n.hi.removeMatchingKeys(u,v.removedDocuments,A).next(()=>n.hi.addMatchingKeys(u,v.addedDocuments,A)));let V=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?V=V.withResumeToken(En.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):v.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(v.resumeToken,s)),o=o.insert(A,V),function(L,k,ne){return L.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=CN?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0}(b,V,v)&&m.push(n.hi.updateTargetData(u,V))});let p=jr(),y=Qe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(MN(u,f,e.documentUpdates).next(v=>{p=v.Ls,y=v.ks})),!s.isEqual(ke.min())){const v=n.hi.getLastRemoteSnapshotVersion(u).next(A=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(v)}return re.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Fs=o,u))}function MN(i,e,n){let s=Qe(),o=Qe();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=jr();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(ke.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ye(Bp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Ls:f,ks:o}})}function PN(i,e){const n=Ue(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Dp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function VN(i,e){const n=Ue(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.hi.getTargetData(s,e).next(u=>u?(o=u,re.resolve(o)):n.hi.allocateTargetId(s).next(f=>(o=new _s(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s})}async function Jm(i,e,n){const s=Ue(i),o=s.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Xo(f))throw f;ye(Bp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function eT(i,e,n){const s=Ue(i);let o=ke.min(),u=Qe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,v){const A=Ue(p),b=A.Ms.get(v);return b!==void 0?re.resolve(A.Fs.get(b)):A.hi.getTargetData(y,v)}(s,f,er(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:ke.min(),n?u:Qe())).next(m=>(kN(s,S2(e),m),{documents:m,qs:u})))}function kN(i,e,n){let s=i.xs.get(e)||ke.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.xs.set(e,s)}class tT{constructor(){this.activeTargetIds=C2()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UN{constructor(){this.Fo=new tT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new tT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="ConnectivityMonitor";class iT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ye(nT,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ye(nT,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=null;function ep(){return ah===null?ah=function(){return 268435456+Math.round(2147483648*Math.random())}():ah++,"0x"+ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="RestConnection",jN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zN{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Oh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=ep(),m=this.Go(e,n.toUriEncodedString());ye(wm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:y}=new URL(m),v=Ps(y);return this.jo(e,m,p,s,v).then(A=>(ye(wm,`Received RPC '${e}' ${f}: `,A),A),A=>{throw Rs(wm,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",s),A})}Jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}zo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,n){const s=jN[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection";class HN extends zN{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,o,u){const f=ep();return new Promise((m,p)=>{const y=new j0;y.setWithCredentials(!0),y.listenOnce(z0.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case mh.NO_ERROR:const A=y.getResponseJson();ye(bn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case mh.TIMEOUT:ye(bn,`RPC '${e}' ${f} timed out`),p(new Se(oe.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const b=y.getStatus();if(ye(bn,`RPC '${e}' ${f} failed with status:`,b,"response text:",y.getResponseText()),b>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const q=V?.error;if(q&&q.status&&q.message){const L=function(ne){const ee=ne.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(ee)>=0?ee:oe.UNKNOWN}(q.status);p(new Se(L,q.message))}else p(new Se(oe.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new Se(oe.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{c_:e,streamId:f,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{ye(bn,`RPC '${e}' ${f} completed.`)}});const v=JSON.stringify(o);ye(bn,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",v,s,15)})}P_(e,n,s){const o=ep(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=q0(),m=H0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");ye(bn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const A=f.createWebChannel(v,p);this.T_(A);let b=!1,V=!1;const q=new BN({Ho:k=>{V?ye(bn,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(b||(ye(bn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),b=!0),ye(bn,`RPC '${e}' stream ${o} sending:`,k),A.send(k))},Yo:()=>A.close()}),L=(k,ne,ee)=>{k.listen(ne,se=>{try{ee(se)}catch(de){setTimeout(()=>{throw de},0)}})};return L(A,au.EventType.OPEN,()=>{V||(ye(bn,`RPC '${e}' stream ${o} transport opened.`),q.s_())}),L(A,au.EventType.CLOSE,()=>{V||(V=!0,ye(bn,`RPC '${e}' stream ${o} transport closed`),q.__(),this.I_(A))}),L(A,au.EventType.ERROR,k=>{V||(V=!0,Rs(bn,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),q.__(new Se(oe.UNAVAILABLE,"The operation could not be completed")))}),L(A,au.EventType.MESSAGE,k=>{var ne;if(!V){const ee=k.data[0];at(!!ee,16349);const se=ee,de=se?.error||((ne=se[0])===null||ne===void 0?void 0:ne.error);if(de){ye(bn,`RPC '${e}' stream ${o} received error:`,de);const ge=de.status;let G=function(R){const O=Ft[R];if(O!==void 0)return wS(O)}(ge),D=de.message;G===void 0&&(G=oe.INTERNAL,D="Unknown error status: "+ge+" with message "+de.message),V=!0,q.__(new Se(G,D)),A.close()}else ye(bn,`RPC '${e}' stream ${o} received:`,ee),q.a_(ee)}}),L(m,B0.STAT_EVENT,k=>{k.stat===Hm.PROXY?ye(bn,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Hm.NOPROXY&&ye(bn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{q.o_()},0),q}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(i){return new K2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="PersistentStream";class zS{constructor(e,n,s,o,u,f,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new jS(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Lr(n.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===n&&this.W_(s,o)},s=>{e(()=>{const o=new Se(oe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ye(rT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(ye(rT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qN extends zS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=X2(this.serializer,e),s=function(u){if(!("targetChange"in u))return ke.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?ke.min():f.readTime?tr(f.readTime):ke.min()}(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=Zm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Ym(p)?{documents:Z2(u,p)}:{query:J2(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=CS(u,f.resumeToken);const y=Xm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(ke.min())>0){m.readTime=Uh(u,f.snapshotVersion.toTimestamp());const y=Xm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=tN(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=Zm(this.serializer),n.removeTarget=e,this.k_(n)}}class FN extends zS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=W2(e.writeResults,e.commitTime),s=tr(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=Zm(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>$2(this.serializer,s))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{}class KN extends GN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new Se(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Wo(e,$m(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(oe.UNKNOWN,u.toString())})}Jo(e,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Jo(e,$m(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Se(oe.UNKNOWN,f.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class YN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Lr(n),this._a=!1):ye("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class QN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(f=>{s.enqueueAndForget(async()=>{xa(this)&&(ye(Aa,"Restarting streams for network reachability change."),await async function(p){const y=Ue(p);y.Ia.add(4),await Uu(y),y.Aa.set("Unknown"),y.Ia.delete(4),await lf(y)}(this))})}),this.Aa=new YN(s,o)}}async function lf(i){if(xa(i))for(const e of i.da)await e(!0)}async function Uu(i){for(const e of i.da)await e(!1)}function BS(i,e){const n=Ue(i);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Gp(n)?Fp(n):$o(n).x_()&&qp(n,e))}function Hp(i,e){const n=Ue(i),s=$o(n);n.Ta.delete(e),s.x_()&&HS(n,e),n.Ta.size===0&&(s.x_()?s.B_():xa(n)&&n.Aa.set("Unknown"))}function qp(i,e){if(i.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$o(i).H_(e)}function HS(i,e){i.Ra.$e(e),$o(i).Y_(e)}function Fp(i){i.Ra=new H2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Ta.get(e)||null,lt:()=>i.datastore.serializer.databaseId}),$o(i).start(),i.Aa.aa()}function Gp(i){return xa(i)&&!$o(i).M_()&&i.Ta.size>0}function xa(i){return Ue(i).Ia.size===0}function qS(i){i.Ra=void 0}async function XN(i){i.Aa.set("Online")}async function $N(i){i.Ta.forEach((e,n)=>{qp(i,e)})}async function WN(i,e){qS(i),Gp(i)?(i.Aa.la(e),Fp(i)):i.Aa.set("Unknown")}async function ZN(i,e,n){if(i.Aa.set("Online"),e instanceof IS&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))}(i,e)}catch(s){ye(Aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await jh(i,s)}else if(e instanceof _h?i.Ra.Ye(e):e instanceof RS?i.Ra.it(e):i.Ra.et(e),!n.isEqual(ke.min()))try{const s=await LS(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ta.get(y);v&&u.Ta.set(y,v.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const v=u.Ta.get(p);if(!v)return;u.Ta.set(p,v.withResumeToken(En.EMPTY_BYTE_STRING,v.snapshotVersion)),HS(u,p);const A=new _s(v.target,p,y,v.sequenceNumber);qp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ye(Aa,"Failed to raise snapshot:",s),await jh(i,s)}}async function jh(i,e,n){if(!Xo(e))throw e;i.Ia.add(1),await Uu(i),i.Aa.set("Offline"),n||(n=()=>LS(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ye(Aa,"Retrying IndexedDB access"),await n(),i.Ia.delete(1),await lf(i)})}function FS(i,e){return e().catch(n=>jh(i,n,e))}async function uf(i){const e=Ue(i),n=Os(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Dp;for(;JN(e);)try{const o=await PN(e.localStore,s);if(o===null){e.Pa.length===0&&n.B_();break}s=o.batchId,eO(e,o)}catch(o){await jh(e,o)}GS(e)&&KS(e)}function JN(i){return xa(i)&&i.Pa.length<10}function eO(i,e){i.Pa.push(e);const n=Os(i);n.x_()&&n.Z_&&n.X_(e.mutations)}function GS(i){return xa(i)&&!Os(i).M_()&&i.Pa.length>0}function KS(i){Os(i).start()}async function tO(i){Os(i).na()}async function nO(i){const e=Os(i);for(const n of i.Pa)e.X_(n.mutations)}async function iO(i,e,n){const s=i.Pa.shift(),o=Vp.from(s,e,n);await FS(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await uf(i)}async function rO(i,e){e&&Os(i).Z_&&await async function(s,o){if(function(f){return z2(f)&&f!==oe.ABORTED}(o.code)){const u=s.Pa.shift();Os(s).N_(),await FS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await uf(s)}}(i,e),GS(i)&&KS(i)}async function sT(i,e){const n=Ue(i);n.asyncQueue.verifyOperationInProgress(),ye(Aa,"RemoteStore received new credentials");const s=xa(n);n.Ia.add(3),await Uu(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await lf(n)}async function sO(i,e){const n=Ue(i);e?(n.Ia.delete(2),await lf(n)):e||(n.Ia.add(2),await Uu(n),n.Aa.set("Unknown"))}function $o(i){return i.Va||(i.Va=function(n,s,o){const u=Ue(n);return u.ia(),new qN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:XN.bind(null,i),e_:$N.bind(null,i),n_:WN.bind(null,i),J_:ZN.bind(null,i)}),i.da.push(async e=>{e?(i.Va.N_(),Gp(i)?Fp(i):i.Aa.set("Unknown")):(await i.Va.stop(),qS(i))})),i.Va}function Os(i){return i.ma||(i.ma=function(n,s,o){const u=Ue(n);return u.ia(),new FN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:tO.bind(null,i),n_:rO.bind(null,i),ea:nO.bind(null,i),ta:iO.bind(null,i)}),i.da.push(async e=>{e?(i.ma.N_(),await uf(i)):(await i.ma.stop(),i.Pa.length>0&&(ye(Aa,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))})),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Kp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yp(i,e){if(Lr("AsyncQueue",`${e}: ${i}`),Xo(i))return new Se(oe.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{static emptySet(e){return new Po(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Re.comparator(n.key,s.key):(n,s)=>Re.comparator(n.key,s.key),this.keyedMap=ou(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Po;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.fa=new Dt(Re.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Oe(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,s)=>{e.push(s)}),e}}class qo{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new qo(e,n,Po.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class oO{constructor(){this.queries=oT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=Ue(n),u=o.queries;o.queries=oT(),u.forEach((f,m)=>{for(const p of m.wa)p.onError(s)})})(this,new Se(oe.ABORTED,"Firestore shutting down"))}}function oT(){return new Na(i=>fS(i),tf)}async function lO(i,e){const n=Ue(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new aO,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Yp(f,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&Qp(n)}async function uO(i,e){const n=Ue(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function cO(i,e){const n=Ue(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&Qp(n)}function hO(i,e,n){const s=Ue(i),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(e)}function Qp(i){i.Da.forEach(e=>{e.next()})}var tp,lT;(lT=tp||(tp={})).Fa="default",lT.Cache="cache";class fO{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new qo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.key=e}}class QS{constructor(e){this.key=e}}class dO{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Qe(),this.mutatedKeys=Qe(),this.Xa=dS(e),this.eu=new Po(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new aT,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,A)=>{const b=o.get(v),V=nf(this.query,A)?A:null,q=!!b&&this.mutatedKeys.has(b.key),L=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let k=!1;b&&V?b.data.isEqual(V.data)?q!==L&&(s.track({type:3,doc:V}),k=!0):this.iu(b,V)||(s.track({type:2,doc:V}),k=!0,(p&&this.Xa(V,p)>0||y&&this.Xa(V,y)<0)&&(m=!0)):!b&&V?(s.track({type:0,doc:V}),k=!0):b&&!V&&(s.track({type:1,doc:b}),k=!0,(p||y)&&(m=!0)),k&&(V?(f=f.add(V),u=L?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort((v,A)=>function(V,q){const L=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{At:k})}};return L(V)-L(q)}(v.type,A.type)||this.Xa(v.doc,A.doc)),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,y=p!==this.Ya;return this.Ya=p,f.length!==0||y?{snapshot:new qo(this.query,e.eu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new aT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Qe(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return e.forEach(s=>{this.Za.has(s)||n.push(new QS(s))}),this.Za.forEach(s=>{e.has(s)||n.push(new YS(s))}),n}uu(e){this.Ha=e.qs,this.Za=Qe();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return qo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Xp="SyncEngine";class mO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class pO{constructor(e){this.key=e,this.lu=!1}}class gO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new Na(m=>fS(m),tf),this.Tu=new Map,this.Iu=new Set,this.du=new Dt(Re.comparator),this.Eu=new Map,this.Au=new Lp,this.Ru={},this.Vu=new Map,this.mu=Ho.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function yO(i,e,n=!0){const s=eA(i);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await XS(s,e,n,!0),o}async function _O(i,e){const n=eA(i);await XS(n,e,!0,!1)}async function XS(i,e,n,s){const o=await VN(i.localStore,er(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await vO(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&BS(i.remoteStore,o),m}async function vO(i,e,n,s,o){i.gu=(A,b,V)=>async function(L,k,ne,ee){let se=k.view.nu(ne);se.Ds&&(se=await eT(L.localStore,k.query,!1).then(({documents:D})=>k.view.nu(D,se)));const de=ee&&ee.targetChanges.get(k.targetId),ge=ee&&ee.targetMismatches.get(k.targetId)!=null,G=k.view.applyChanges(se,L.isPrimaryClient,de,ge);return cT(L,k.targetId,G._u),G.snapshot}(i,A,b,V);const u=await eT(i.localStore,e,!0),f=new dO(e,u.qs),m=f.nu(u.documents),p=ku.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=f.applyChanges(m,i.isPrimaryClient,p);cT(i,n,y._u);const v=new mO(e,n,f);return i.Pu.set(e,v),i.Tu.has(n)?i.Tu.get(n).push(e):i.Tu.set(n,[e]),y.snapshot}async function EO(i,e,n){const s=Ue(i),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(f=>!tf(f,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Jm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Hp(s.remoteStore,o.targetId),np(s,o.targetId)}).catch(Qo)):(np(s,o.targetId),await Jm(s.localStore,o.targetId,!0))}async function TO(i,e){const n=Ue(i),s=n.Pu.get(e),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Hp(n.remoteStore,s.targetId))}async function SO(i,e,n){const s=DO(i);try{const o=await function(f,m){const p=Ue(f),y=bt.now(),v=m.reduce((V,q)=>V.add(q.key),Qe());let A,b;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let q=jr(),L=Qe();return p.Os.getEntries(V,v).next(k=>{q=k,q.forEach((ne,ee)=>{ee.isValidDocument()||(L=L.add(ne))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,q)).next(k=>{A=k;const ne=[];for(const ee of m){const se=V2(ee,A.get(ee.key).overlayedDocument);se!=null&&ne.push(new Oa(ee.key,se,rS(se.value.mapValue),Vr.exists(!0)))}return p.mutationQueue.addMutationBatch(V,y,ne,m)}).next(k=>{b=k;const ne=k.applyToLocalDocumentSet(A,L);return p.documentOverlayCache.saveOverlays(V,k.batchId,ne)})}).then(()=>({batchId:b.batchId,changes:pS(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Ru[f.currentUser.toKey()];y||(y=new Dt(ze)),y=y.insert(m,p),f.Ru[f.currentUser.toKey()]=y}(s,o.batchId,n),await Lu(s,o.changes),await uf(s.remoteStore)}catch(o){const u=Yp(o,"Failed to persist write");n.reject(u)}}async function $S(i,e){const n=Ue(i);try{const s=await xN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?at(f.lu,14607):o.removedDocuments.size>0&&(at(f.lu,42227),f.lu=!1))}),await Lu(n,s,e)}catch(s){await Qo(s)}}function uT(i,e,n){const s=Ue(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ue(f);p.onlineState=m;let y=!1;p.queries.forEach((v,A)=>{for(const b of A.wa)b.va(m)&&(y=!0)}),y&&Qp(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function AO(i,e,n){const s=Ue(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new Dt(Re.comparator);f=f.insert(u,Rn.newNoDocument(u,ke.min()));const m=Qe().add(u),p=new af(ke.min(),new Map,new Dt(ze),f,m);await $S(s,p),s.du=s.du.remove(u),s.Eu.delete(e),$p(s)}else await Jm(s.localStore,e,!1).then(()=>np(s,e,n)).catch(Qo)}async function bO(i,e){const n=Ue(i),s=e.batch.batchId;try{const o=await ON(n.localStore,e);ZS(n,s,null),WS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Lu(n,o)}catch(o){await Qo(o)}}async function wO(i,e,n){const s=Ue(i);try{const o=await function(f,m){const p=Ue(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return p.mutationQueue.lookupMutationBatch(y,m).next(A=>(at(A!==null,37113),v=A.keys(),p.mutationQueue.removeMutationBatch(y,A))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>p.localDocuments.getDocuments(y,v))})}(s.localStore,e);ZS(s,e,n),WS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Lu(s,o)}catch(o){await Qo(o)}}function WS(i,e){(i.Vu.get(e)||[]).forEach(n=>{n.resolve()}),i.Vu.delete(e)}function ZS(i,e,n){const s=Ue(i);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function np(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Tu.get(e))i.Pu.delete(s),n&&i.hu.pu(s,n);i.Tu.delete(e),i.isPrimaryClient&&i.Au.zr(e).forEach(s=>{i.Au.containsKey(s)||JS(i,s)})}function JS(i,e){i.Iu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Hp(i.remoteStore,n),i.du=i.du.remove(e),i.Eu.delete(n),$p(i))}function cT(i,e,n){for(const s of n)s instanceof YS?(i.Au.addReference(s.key,e),RO(i,s)):s instanceof QS?(ye(Xp,"Document no longer in limbo: "+s.key),i.Au.removeReference(s.key,e),i.Au.containsKey(s.key)||JS(i,s.key)):Oe(19791,{yu:s})}function RO(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Iu.has(s)||(ye(Xp,"New document in limbo: "+n),i.Iu.add(s),$p(i))}function $p(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Iu.values().next().value;i.Iu.delete(e);const n=new Re(At.fromString(e)),s=i.mu.next();i.Eu.set(s,new pO(n)),i.du=i.du.insert(n,s),BS(i.remoteStore,new _s(er(hS(n.path)),s,"TargetPurposeLimboResolution",Wh.ue))}}async function Lu(i,e,n){const s=Ue(i),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach((m,p)=>{f.push(s.gu(p,e,n).then(y=>{var v;if((y||n)&&s.isPrimaryClient){const A=y?!y.fromCache:(v=n?.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(y){o.push(y);const A=zp.Es(p.targetId,y);u.push(A)}}))}),await Promise.all(f),s.hu.J_(o),await async function(p,y){const v=Ue(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>re.forEach(y,b=>re.forEach(b.Is,V=>v.persistence.referenceDelegate.addReference(A,b.targetId,V)).next(()=>re.forEach(b.ds,V=>v.persistence.referenceDelegate.removeReference(A,b.targetId,V)))))}catch(A){if(!Xo(A))throw A;ye(Bp,"Failed to update sequence numbers: "+A)}for(const A of y){const b=A.targetId;if(!A.fromCache){const V=v.Fs.get(b),q=V.snapshotVersion,L=V.withLastLimboFreeSnapshotVersion(q);v.Fs=v.Fs.insert(b,L)}}}(s.localStore,u))}async function IO(i,e){const n=Ue(i);if(!n.currentUser.isEqual(e)){ye(Xp,"User change. New user:",e.toKey());const s=await US(n.localStore,e);n.currentUser=e,function(u,f){u.Vu.forEach(m=>{m.forEach(p=>{p.reject(new Se(oe.CANCELLED,f))})}),u.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Lu(n,s.Bs)}}function CO(i,e){const n=Ue(i),s=n.Eu.get(e);if(s&&s.lu)return Qe().add(s.key);{let o=Qe();const u=n.Tu.get(e);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function eA(i){const e=Ue(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=$S.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AO.bind(null,e),e.hu.J_=cO.bind(null,e.eventManager),e.hu.pu=hO.bind(null,e.eventManager),e}function DO(i){const e=Ue(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wO.bind(null,e),e}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return NN(this.persistence,new IN,e.initialUser,this.serializer)}Du(e){return new kS(jp.Vi,this.serializer)}bu(e){return new UN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class NO extends zh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){at(this.persistence.referenceDelegate instanceof Lh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new fN(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new kS(s=>Lh.Vi(s,n),this.serializer)}}class ip{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>uT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=IO.bind(null,this.syncEngine),await sO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oO}()}createDatastore(e){const n=of(e.databaseInfo.databaseId),s=function(u){return new HN(u)}(e.databaseInfo);return function(u,f,m,p){return new KN(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new QN(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>uT(this.syncEngine,n,0),function(){return iT.C()?new iT:new LN}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,v){const A=new gO(o,u,f,m,p,y);return v&&(A.fu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ue(o);ye(Aa,"RemoteStore shutting down."),u.Ia.add(5),await Uu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ip.provider={build:()=>new ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Lr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="FirestoreClient";class xO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=wn.UNAUTHENTICATED,this.clientId=Ip.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ye(xs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ye(xs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Yp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Im(i,e){i.asyncQueue.verifyOperationInProgress(),ye(xs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await US(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{Rs("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then(()=>{ye("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Rs("Terminating Firestore due to IndexedDb database deletion failed",o)})}),i._offlineComponents=e}async function hT(i,e){i.asyncQueue.verifyOperationInProgress();const n=await MO(i);ye(xs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>sT(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>sT(e.remoteStore,o)),i._onlineComponents=e}async function MO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ye(xs,"Using user provided OfflineComponentProvider");try{await Im(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Rs("Error using user provided cache. Falling back to memory cache: "+n),await Im(i,new zh)}}else ye(xs,"Using default OfflineComponentProvider"),await Im(i,new NO(void 0));return i._offlineComponents}async function tA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ye(xs,"Using user provided OnlineComponentProvider"),await hT(i,i._uninitializedComponentsProvider._online)):(ye(xs,"Using default OnlineComponentProvider"),await hT(i,new ip))),i._onlineComponents}function PO(i){return tA(i).then(e=>e.syncEngine)}async function VO(i){const e=await tA(i),n=e.eventManager;return n.onListen=yO.bind(null,e.syncEngine),n.onUnlisten=EO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_O.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TO.bind(null,e.syncEngine),n}function kO(i,e,n={}){const s=new As;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const v=new OO({next:b=>{v.Ou(),f.enqueueAndForget(()=>uO(u,A)),b.fromCache&&p.source==="server"?y.reject(new Se(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(b)},error:b=>y.reject(b)}),A=new fO(m,v,{includeMetadataChanges:!0,ka:!0});return lO(u,A)}(await VO(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="firestore.googleapis.com",dT=!0;class mT{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iA,this.ssl=dT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:dT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cN)throw new Se(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new jD;switch(s.type){case"firstParty":return new qD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Se(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=fT.get(n);s&&(ye("ComponentProvider","Removing Datastore"),fT.delete(n),s.terminate())}(this),Promise.resolve()}}function UO(i,e,n,s={}){var o;i=Dh(i,cf);const u=Ps(e),f=i._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${n}`;u&&(fp(`https://${p}`),dp("Firestore",!0)),f.host!==iA&&f.host!==p&&Rs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!va(y,m)&&(i._setSettings(y),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=wn.MOCK_USER;else{v=ZT(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new Se(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new wn(b)}i._authCredentials=new zD(new G0(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new hf(this.firestore,e,this._query)}}class vn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}toJSON(){return{type:vn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Pu(n,vn._jsonSchema))return new vn(e,s||null,new Re(At.fromString(n.referencePath)))}}vn._jsonSchemaVersion="firestore/documentReference/1.0",vn._jsonSchema={type:Kt("string",vn._jsonSchemaVersion),referencePath:Kt("string")};class bs extends hf{constructor(e,n,s){super(e,n,hS(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new Re(e))}withConverter(e){return new bs(this.firestore,e,this._path)}}function rA(i,e,...n){if(i=cn(i),Y0("collection","path",e),i instanceof cf){const s=At.fromString(e,...n);return CE(s),new bs(i,null,s)}{if(!(i instanceof vn||i instanceof bs))throw new Se(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(At.fromString(e,...n));return CE(s),new bs(i.firestore,null,s)}}function LO(i,e,...n){if(i=cn(i),arguments.length===1&&(e=Ip.newId()),Y0("doc","path",e),i instanceof cf){const s=At.fromString(e,...n);return IE(s),new vn(i,null,new Re(s))}{if(!(i instanceof vn||i instanceof bs))throw new Se(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(At.fromString(e,...n));return IE(s),new vn(i.firestore,i instanceof bs?i.converter:null,new Re(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="AsyncQueue";class gT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new jS(this,"async_queue_retry"),this.oc=()=>{const s=Rm();s&&ye(pT,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=Rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new As;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Xo(e))throw e;ye(pT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,Lr("INTERNAL UNHANDLED ERROR: ",yT(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=Kp.createAndSchedule(this,e,n,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Oe(47125,{hc:yT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function yT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Wp extends cf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new gT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gT(e),this._firestoreClient=void 0,await e}}}function jO(i,e){const n=typeof i=="object"?i:gp(),s=typeof i=="string"?i:Oh,o=Kh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=XT("firestore");u&&UO(o,...u)}return o}function sA(i){if(i._terminated)throw new Se(oe.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||zO(i),i._firestoreClient}function zO(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,y,v){return new s2(m,p,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,nA(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new xO(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m?._online.build();return{_offline:m?._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gi(En.fromBase64String(e))}catch(n){throw new Se(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gi(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pu(e,gi._jsonSchema))return gi.fromBase64String(e.bytes)}}gi._jsonSchemaVersion="firestore/bytes/1.0",gi._jsonSchema={type:Kt("string",gi._jsonSchemaVersion),bytes:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nr._jsonSchemaVersion}}static fromJSON(e){if(Pu(e,nr._jsonSchema))return new nr(e.latitude,e.longitude)}}nr._jsonSchemaVersion="firestore/geoPoint/1.0",nr._jsonSchema={type:Kt("string",nr._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ir._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pu(e,ir._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ir(e.vectorValues);throw new Se(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ir._jsonSchemaVersion="firestore/vectorValue/1.0",ir._jsonSchema={type:Kt("string",ir._jsonSchemaVersion),vectorValues:Kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=/^__.*__$/;class HO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Oa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}function oA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ec:i})}}class Jp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Jp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Bh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(oA(this.Ec)&&BO.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class qO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||of(e)}Dc(e,n,s,o=!1){return new Jp({Ec:e,methodName:n,bc:s,path:_n.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function FO(i){const e=i._freezeSettings(),n=of(i._databaseId);return new qO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function GO(i,e,n,s,o,u={}){const f=i.Dc(u.merge||u.mergeFields?2:0,e,n,o);hA("Data must be an object, but it was:",f,s);const m=uA(s,f);let p,y;if(u.merge)p=new Ri(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const A of u.mergeFields){const b=KO(e,A,n);if(!f.contains(b))throw new Se(oe.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);QO(v,b)||v.push(b)}p=new Ri(v),y=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,y=f.fieldTransforms;return new HO(new pi(m),p,y)}function lA(i,e){if(cA(i=cn(i)))return hA("Unsupported field value:",e,i),uA(i,e);if(i instanceof aA)return function(s,o){if(!oA(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=lA(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=cn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return D2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=bt.fromDate(s);return{timestampValue:Uh(o.serializer,u)}}if(s instanceof bt){const u=new bt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uh(o.serializer,u)}}if(s instanceof nr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof gi)return{bytesValue:CS(o.serializer,s._byteString)};if(s instanceof vn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Up(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ir)return function(f,m){return{mapValue:{fields:{[nS]:{stringValue:iS},[xh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.wc("VectorValues must only contain numeric values.");return Pp(m.serializer,y)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${Cp(s)}`)}(i,e)}function uA(i,e){const n={};return $0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Da(i,(s,o)=>{const u=lA(o,e.Vc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function cA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof bt||i instanceof nr||i instanceof gi||i instanceof vn||i instanceof aA||i instanceof ir)}function hA(i,e,n){if(!cA(n)||!Q0(n)){const s=Cp(n);throw s==="an object"?e.wc(i+" a custom object"):e.wc(i+" "+s)}}function KO(i,e,n){if((e=cn(e))instanceof Zp)return e._internalPath;if(typeof e=="string")return fA(i,e);throw Bh("Field path arguments must be of type string or ",i,!1,void 0,n)}const YO=new RegExp("[~\\*/\\[\\]]");function fA(i,e,n){if(e.search(YO)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Zp(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Bh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new Se(oe.INVALID_ARGUMENT,m+i+p)}function QO(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XO extends dA{data(){return super.data()}}function mA(i,e){return typeof e=="string"?fA(i,e):e instanceof Zp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Se(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WO{convertValue(e,n="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Da(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[xh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>zt(f.doubleValue));return new ir(u)}convertGeoPoint(e){return new nr(zt(e.latitude),zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Jh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Au(e));default:return null}}convertTimestamp(e){const n=Cs(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=At.fromString(e);at(PS(s),9688,{name:e});const o=new bu(s.get(1),s.get(3)),u=new Re(s.popFirst(5));return o.isEqual(n)||Lr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class oh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vo extends dA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(mA("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Vo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Vo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vo._jsonSchema={type:Kt("string",Vo._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class vh extends Vo{data(e={}){return super.data(e)}}class ko{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new oh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new vh(this._firestore,this._userDataWriter,s.key,s,new oh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new oh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new oh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),v=f.indexOf(m.doc.key)),{type:JO(m.type),doc:p,oldIndex:y,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ko._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ip.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:i})}}ko._jsonSchemaVersion="firestore/querySnapshot/1.0",ko._jsonSchema={type:Kt("string",ko._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class ex extends WO{constructor(e){super(),this.firestore=e}convertBytes(e){return new gi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function tx(i){i=Dh(i,hf);const e=Dh(i.firestore,Wp),n=sA(e),s=new ex(e);return $O(i._query),kO(n,i._query).then(o=>new ko(e,s,i,o))}function nx(i,e){const n=Dh(i.firestore,Wp),s=LO(i),o=ZO(i.converter,e);return ix(n,[GO(FO(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Vr.exists(!1))]).then(()=>s)}function ix(i,e){return function(s,o){const u=new As;return s.asyncQueue.enqueueAndForget(async()=>SO(await PO(s),o,u)),u.promise}(sA(i),e)}(function(e,n=!0){(function(o){Yo=o})(Ia),Ea(new ws("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Wp(new BD(s.getProvider("auth-internal")),new FD(f,s.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Se(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(y.options.projectId,v)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Wi(SE,AE,e),Wi(SE,AE,"esm2017")})();const rx={apiKey:"AIzaSyDKZFDxNfAH2Y1g7pMJb46MYoh40u7Bd_o",authDomain:"signsenseai.firebaseapp.com",projectId:"signsenseai",storageBucket:"signsenseai.firebasestorage.app",messagingSenderId:"390913442904",appId:"1:390913442904:web:3bcdbac6e205c14e48762d",measurementId:"G-BKGQN64TSM"},pA=t0(rx),Hh=VD(pA),gA=jO(pA);function sx(){const[i,e]=ae.useState(!1),n=ae.useRef(),s=ae.useRef(),o=hp(),[u,f]=ae.useState(!0),[m,p]=ae.useState(!1),[y,v]=ae.useState("");ae.useEffect(()=>{const b=I0(Hh,V=>{V&&o("/home"),f(!1)});return()=>{b()}},[o]);async function A(){v("");const b=n.current.value,V=s.current.value;if(!b||!V){v("Please enter both email and password.");return}p(!0);try{await TC(Hh,b,V)}catch(q){console.error("Login error:",q.code,q.message),q.code==="auth/invalid-email"?v("Invalid email address."):q.code==="auth/user-disabled"?v("This user account has been disabled."):q.code==="auth/user-not-found"||q.code==="auth/wrong-password"?v("Invalid email or password."):v("Failed to log in. Please check your credentials.")}finally{p(!1)}}return B.jsx("div",{className:"login-container",children:u?B.jsxs("div",{className:"loading-state",children:[B.jsx("div",{className:"spinner"}),B.jsx("h2",{children:"Loading..."})]}):B.jsxs("div",{className:"login-card",children:[B.jsx("h1",{className:"login-title",children:"Welcome Back!"}),B.jsx("p",{className:"login-subtitle",children:"Sign in to manage your traffic signs."}),B.jsxs("div",{className:"input-group",children:[B.jsx("label",{htmlFor:"email-input",className:"input-label",children:"Email"}),B.jsx("input",{type:"email",id:"email-input",placeholder:"your.email@example.com",ref:n,className:"login-input"})]}),B.jsxs("div",{className:"input-group",children:[B.jsx("label",{htmlFor:"password-input",className:"input-label",children:"Password"}),B.jsxs("div",{className:"password-input-wrapper",children:[B.jsx("input",{type:i?"text":"password",id:"password-input",placeholder:"",ref:s,className:"login-input"}),B.jsx("button",{type:"button",onClick:()=>e(!i),className:"toggle-password-btn",children:i?B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-eye-off",children:[B.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),B.jsx("line",{x1:"1",x2:"23",y1:"1",y2:"23"})]}):B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-eye",children:[B.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),B.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),y&&B.jsx("p",{className:"error-message",children:y}),B.jsx("button",{onClick:A,className:"login-btn",disabled:m,children:m?B.jsxs(B.Fragment,{children:[B.jsx("div",{className:"spinner-small"})," Logging In..."]}):"Log In"}),B.jsx("div",{className:"registration-info",children:B.jsxs("p",{children:["New user? Registration is currently disabled.",B.jsx("br",{}),"Please contact the developer:"," ",B.jsx("a",{href:"mailto:silveddaveramos@gmail.com",className:"developer-email",children:"silveddaveramos@gmail.com"})]})})]})})}const ax=["All Categories","Road signs","Environmental sign","Facility signs","Guide signs","Health and safety signs","Informational signs","Regulatory signs","Utilities and Sustainability signs","Warning signs"];function ox(){const[i,e]=ae.useState(!0),[n,s]=ae.useState(!1),[o,u]=ae.useState([]),[f,m]=ae.useState(""),[p,y]=ae.useState("All Categories"),v=hp();ae.useEffect(()=>{const L=async()=>{try{const ee=(await tx(rA(gA,"signs"))).docs.map(se=>({id:se.id,...se.data()}));u(ee)}catch(ne){console.error("Error fetching signs:",ne)}},k=I0(Hh,ne=>{ne?(s(!0),L()):v("/"),e(!1)});return()=>{k()}},[v]);const A=async()=>{try{await bC(Hh),v("/")}catch(L){console.error("Error signing out:",L)}},b=L=>{m(L.target.value)},V=L=>{y(L.target.value)},q=o.filter(L=>{const k=L.name.toLowerCase().includes(f.toLowerCase())||L.purpose.toLowerCase().includes(f.toLowerCase()),ne=p==="All Categories"||L.category===p;return k&&ne});return B.jsx("div",{className:"homepage-container",children:i?B.jsxs("div",{className:"loading-state",children:[B.jsx("div",{className:"spinner"}),B.jsx("h2",{children:"Loading Homepage..."})]}):B.jsxs(B.Fragment,{children:[B.jsxs("header",{className:"homepage-header",children:[B.jsx("h1",{className:"page-title",children:"Traffic Sign Library"}),B.jsxs("div",{className:"header-actions",children:[n&&B.jsxs(FT,{to:"/addsign",className:"add-sign-btn",children:[B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-plus",children:[B.jsx("path",{d:"M12 5v14"}),B.jsx("path",{d:"M5 12h14"})]}),"Add New Sign"]}),B.jsxs("button",{onClick:A,className:"logout-btn",children:[B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-log-out",children:[B.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),B.jsx("polyline",{points:"17 16 22 12 17 8"}),B.jsx("line",{x1:"22",x2:"10",y1:"12",y2:"12"})]}),"Log Out"]})]})]}),B.jsxs("div",{className:"search-filter-bar",children:[B.jsxs("div",{className:"search-input-wrapper",children:[B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search",children:[B.jsx("circle",{cx:"11",cy:"11",r:"8"}),B.jsx("path",{d:"m21 21-4.3-4.3"})]}),B.jsx("input",{type:"text",placeholder:"Search signs by name or purpose...",value:f,onChange:b,className:"search-input"})]}),B.jsxs("div",{className:"filter-select-wrapper",children:[B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-filter",children:B.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),B.jsx("select",{value:p,onChange:V,className:"filter-select",children:ax.map(L=>B.jsx("option",{value:L,children:L},L))})]})]}),B.jsx("main",{className:"signs-grid-container",children:q.length===0&&!i?B.jsxs("div",{className:"no-signs-found",children:[B.jsx("p",{children:"No signs found matching your criteria."}),B.jsx("p",{children:"Try adjusting your search or filters."})]}):B.jsx("div",{className:"signs-grid",children:q.map(L=>B.jsxs("div",{className:"sign-card",children:[B.jsxs("div",{className:"sign-image-wrapper",children:[B.jsx("img",{src:L.imgUrl||"/placeholder.svg",alt:L.name,className:"sign-image"}),L.isDanger&&B.jsxs("span",{className:"danger-badge",children:[B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-triangle-alert",children:[B.jsx("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}),B.jsx("path",{d:"M12 9v4"}),B.jsx("path",{d:"M12 17h.01"})]}),"Danger"]})]}),B.jsxs("div",{className:"sign-info",children:[B.jsx("h3",{className:"sign-name",children:L.name}),B.jsx("p",{className:"sign-category",children:L.category}),B.jsx("p",{className:"sign-purpose",children:L.purpose}),L.violation&&L.violation.description&&B.jsxs("div",{className:"sign-violation",children:[B.jsx("span",{className:"violation-label",children:"Violation:"})," ",L.violation.description,L.violation.fine>0&&B.jsxs("span",{className:"violation-fine",children:[" (",L.violation.fine,")"]})]})]})]},L.id))})})]})})}function lx(){return B.jsx("div",{children:"404 - Not Found"})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="firebasestorage.googleapis.com",_A="storageBucket",ux=2*60*1e3,cx=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut extends ar{constructor(e,n,s=0){super(Cm(e),`Firebase Storage: ${n} (${Cm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var kt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(kt||(kt={}));function Cm(i){return"storage/"+i}function eg(){const i="An unknown error occurred, please check the error payload for server response.";return new Ut(kt.UNKNOWN,i)}function hx(i){return new Ut(kt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function fx(i){return new Ut(kt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function dx(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ut(kt.UNAUTHENTICATED,i)}function mx(){return new Ut(kt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function px(i){return new Ut(kt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function gx(){return new Ut(kt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yx(){return new Ut(kt.CANCELED,"User canceled the upload/download.")}function _x(i){return new Ut(kt.INVALID_URL,"Invalid URL '"+i+"'.")}function vx(i){return new Ut(kt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function Ex(){return new Ut(kt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_A+"' property when initializing the app?")}function Tx(){return new Ut(kt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Sx(){return new Ut(kt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Ax(i){return new Ut(kt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function rp(i){return new Ut(kt.INVALID_ARGUMENT,i)}function vA(){return new Ut(kt.APP_DELETED,"The Firebase app was deleted.")}function bx(i){return new Ut(kt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gu(i,e){return new Ut(kt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function iu(i){throw new Ut(kt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Jn.makeFromUrl(e,n)}catch{return new Jn(e,"")}if(s.path==="")return s;throw vx(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(de){de.path.charAt(de.path.length-1)==="/"&&(de.path_=de.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function y(de){de.path_=decodeURIComponent(de.path)}const v="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",V=new RegExp(`^https?://${A}/${v}/b/${o}/o${b}`,"i"),q={bucket:1,path:3},L=n===yA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",ne=new RegExp(`^https?://${L}/${o}/${k}`,"i"),se=[{regex:m,indices:p,postModify:u},{regex:V,indices:q,postModify:y},{regex:ne,indices:{bucket:1,path:2},postModify:y}];for(let de=0;de<se.length;de++){const ge=se[de],G=ge.regex.exec(e);if(G){const D=G[ge.indices.bucket];let w=G[ge.indices.path];w||(w=""),s=new Jn(D,w),ge.postModify(s);break}}if(s==null)throw _x(e);return s}}class wx{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(i,e,n){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let y=!1;function v(...k){y||(y=!0,e.apply(null,k))}function A(k){o=setTimeout(()=>{o=null,i(V,p())},k)}function b(){u&&clearTimeout(u)}function V(k,...ne){if(y){b();return}if(k){b(),v.call(null,k,...ne);return}if(p()||f){b(),v.call(null,k,...ne);return}s<64&&(s*=2);let se;m===1?(m=2,se=0):se=(s+Math.random())*1e3,A(se)}let q=!1;function L(k){q||(q=!0,b(),!y&&(o!==null?(k||(m=2),clearTimeout(o),A(0)):k||(m=1)))}return A(0),u=setTimeout(()=>{f=!0,L(!0)},n),L}function Ix(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(i){return i!==void 0}function Dx(i){return typeof i=="object"&&!Array.isArray(i)}function tg(i){return typeof i=="string"||i instanceof String}function _T(i){return ng()&&i instanceof Blob}function ng(){return typeof Blob<"u"}function vT(i,e,n,s){if(s<e)throw rp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw rp(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function EA(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var ya;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ya||(ya={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n,s,o,u,f,m,p,y,v,A,b=!0,V=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=A,this.retry=b,this.isUsingEmulator=V,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((q,L)=>{this.resolve_=q,this.reject_=L,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new lh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===ya.NO_ERROR,p=u.getStatus();if(!m||Nx(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===ya.ABORT;s(!1,new lh(!1,null,v));return}const y=this.successCodes_.indexOf(p)!==-1;s(!0,new lh(y,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());Cx(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=eg();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?vA():yx();f(p)}else{const p=gx();f(p)}};this.canceled_?n(!1,new lh(!1,null,!0)):this.backoffId_=Rx(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ix(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function xx(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function Mx(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Px(i,e){e&&(i["X-Firebase-GMPID"]=e)}function Vx(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function kx(i,e,n,s,o,u,f=!0,m=!1){const p=EA(i.urlParams),y=i.url+p,v=Object.assign({},i.headers);return Px(v,e),xx(v,n),Mx(v,u),Vx(v,s),new Ox(y,i.method,v,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Lx(...i){const e=Ux();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(ng())return new Blob(i);throw new Ut(kt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function jx(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(i){if(typeof atob>"u")throw Ax("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dm{constructor(e,n){this.data=e,this.contentType=n||null}}function Bx(i,e){switch(i){case $i.RAW:return new Dm(TA(e));case $i.BASE64:case $i.BASE64URL:return new Dm(SA(i,e));case $i.DATA_URL:return new Dm(qx(e),Fx(e))}throw eg()}function TA(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,f=i.charCodeAt(++n);s=65536|(u&1023)<<10|f&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function Hx(i){let e;try{e=decodeURIComponent(i)}catch{throw gu($i.DATA_URL,"Malformed data URL.")}return TA(e)}function SA(i,e){switch(i){case $i.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw gu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case $i.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw gu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=zx(e)}catch(o){throw o.message.includes("polyfill")?o:gu(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class AA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw gu($i.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=Gx(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function qx(i){const e=new AA(i);return e.base64?SA($i.BASE64,e.rest):Hx(e.rest)}function Fx(i){return new AA(i).contentType}function Gx(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n){let s=0,o="";_T(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(_T(this.data_)){const s=this.data_,o=jx(s,e,n);return o===null?null:new ys(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new ys(s,!0)}}static getBlob(...e){if(ng()){const n=e.map(s=>s instanceof ys?s.data_:s);return new ys(Lx.apply(null,n))}else{const n=e.map(f=>tg(f)?Bx($i.RAW,f).data:f.data_);let s=0;n.forEach(f=>{s+=f.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(f=>{for(let m=0;m<f.length;m++)o[u++]=f[m]}),new ys(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(i){let e;try{e=JSON.parse(i)}catch{return null}return Dx(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function Yx(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function wA(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(i,e){return e}class Mn{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||Qx}}let uh=null;function Xx(i){return!tg(i)||i.length<2?i:wA(i)}function RA(){if(uh)return uh;const i=[];i.push(new Mn("bucket")),i.push(new Mn("generation")),i.push(new Mn("metageneration")),i.push(new Mn("name","fullPath",!0));function e(u,f){return Xx(f)}const n=new Mn("name");n.xform=e,i.push(n);function s(u,f){return f!==void 0?Number(f):f}const o=new Mn("size");return o.xform=s,i.push(o),i.push(new Mn("timeCreated")),i.push(new Mn("updated")),i.push(new Mn("md5Hash",null,!0)),i.push(new Mn("cacheControl",null,!0)),i.push(new Mn("contentDisposition",null,!0)),i.push(new Mn("contentEncoding",null,!0)),i.push(new Mn("contentLanguage",null,!0)),i.push(new Mn("contentType",null,!0)),i.push(new Mn("metadata","customMetadata",!0)),uh=i,uh}function $x(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new Jn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function Wx(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];s[f.local]=f.xform(s,e[f.server])}return $x(s,i),s}function IA(i,e,n){const s=bA(e);return s===null?null:Wx(i,s,n)}function Zx(i,e,n,s){const o=bA(e);if(o===null||!tg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(y=>{const v=i.bucket,A=i.fullPath,b="/b/"+f(v)+"/o/"+f(A),V=ig(b,n,s),q=EA({alt:"media",token:y});return V+q})[0]}function Jx(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class CA{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(i){if(!i)throw eg()}function eM(i,e){function n(s,o){const u=IA(i,o,e);return DA(u!==null),u}return n}function tM(i,e){function n(s,o){const u=IA(i,o,e);return DA(u!==null),Zx(u,o,i.host,i._protocol)}return n}function NA(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=mx():o=dx():n.getStatus()===402?o=fx(i.bucket):n.getStatus()===403?o=px(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function nM(i){const e=NA(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=hx(i.path)),u.serverResponse=o.serverResponse,u}return n}function iM(i,e,n){const s=e.fullServerUrl(),o=ig(s,i.host,i._protocol),u="GET",f=i.maxOperationRetryTime,m=new CA(o,u,tM(i,n),f);return m.errorHandler=nM(e),m}function rM(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function sM(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=rM(null,e)),s}function aM(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function m(){let se="";for(let de=0;de<2;de++)se=se+Math.random().toString().slice(2);return se}const p=m();f["Content-Type"]="multipart/related; boundary="+p;const y=sM(e,s,o),v=Jx(y,n),A="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,b=`\r
--`+p+"--",V=ys.getBlob(A,s,b);if(V===null)throw Tx();const q={name:y.fullPath},L=ig(u,i.host,i._protocol),k="POST",ne=i.maxUploadRetryTime,ee=new CA(L,k,eM(i,n),ne);return ee.urlParams=q,ee.headers=f,ee.body=V.uploadData(),ee.errorHandler=NA(e),ee}class oM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ya.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ya.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ya.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw iu("cannot .send() more than once");if(Ps(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw iu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw iu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw iu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw iu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class lM extends oM{initXhr(){this.xhr_.responseType="text"}}function OA(){return new lM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this._service=e,n instanceof Jn?this._location=n:this._location=Jn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ba(e,n)}get root(){const e=new Jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wA(this._location.path)}get storage(){return this._service}get parent(){const e=Kx(this._location.path);if(e===null)return null;const n=new Jn(this._location.bucket,e);return new ba(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw bx(e)}}function uM(i,e,n){i._throwIfRoot("uploadBytes");const s=aM(i.storage,i._location,RA(),new ys(e,!0),n);return i.storage.makeRequestWithTokens(s,OA).then(o=>({metadata:o,ref:i}))}function cM(i){i._throwIfRoot("getDownloadURL");const e=iM(i.storage,i._location,RA());return i.storage.makeRequestWithTokens(e,OA).then(n=>{if(n===null)throw Sx();return n})}function hM(i,e){const n=Yx(i._location.path,e),s=new Jn(i._location.bucket,n);return new ba(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(i){return/^[A-Za-z]+:\/\//.test(i)}function dM(i,e){return new ba(i,e)}function xA(i,e){if(i instanceof rg){const n=i;if(n._bucket==null)throw Ex();const s=new ba(n,n._bucket);return e!=null?xA(s,e):s}else return e!==void 0?hM(i,e):i}function mM(i,e){if(e&&fM(e)){if(i instanceof rg)return dM(i,e);throw rp("To use ref(service, url), the first argument must be a Storage instance.")}else return xA(i,e)}function ET(i,e){const n=e?.[_A];return n==null?null:Jn.makeFromBucketSpec(n,i)}function pM(i,e,n,s={}){i.host=`${e}:${n}`;const o=Ps(e);o&&(fp(`https://${i.host}/b`),dp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:ZT(u,i.app.options.projectId))}class rg{constructor(e,n,s,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=yA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ux,this._maxUploadRetryTime=cx,this._requests=new Set,o!=null?this._bucket=Jn.makeFromBucketSpec(o,this._host):this._bucket=ET(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jn.makeFromBucketSpec(this._url,e):this._bucket=ET(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ba(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new wx(vA());{const f=kx(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const TT="@firebase/storage",ST="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="storage";function gM(i,e,n){return i=cn(i),uM(i,e,n)}function yM(i){return i=cn(i),cM(i)}function _M(i,e){return i=cn(i),mM(i,e)}function vM(i=gp(),e){i=cn(i);const s=Kh(i,MA).getImmediate({identifier:e}),o=XT("storage");return o&&EM(s,...o),s}function EM(i,e,n,s={}){pM(i,e,n,s)}function TM(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new rg(n,s,o,e,Ia)}function SM(){Ea(new ws(MA,TM,"PUBLIC").setMultipleInstances(!0)),Wi(TT,ST,""),Wi(TT,ST,"esm2017")}SM();const AM=vM(),PA={name:"",purpose:"",category:"",violation:{description:"",fine:0},isDanger:!1,precautions:[{precaution:"",id:0}]},Zt={SET_NAME:"set name",SET_PURPOSE:"set purpose",SET_CATEGORY:"set category",SET_VIOLATION:"set violation",SET_FINE:"set fine",SET_PRECAUTIONS:"set precautions",SET_PRECAUTION:"set precaution",ADD_PRECAUTION:"add precaution",REMOVE_PRECAUTION:"remove precaution",SET_ISDANGER:"is danger",RESET:"reset"};function bM(i,e){switch(e.type){case Zt.SET_PRECAUTION:{const n=i.precautions.map(s=>s.id==e.payload.id?{...s,precaution:e.payload.value}:s);return{...i,precautions:n}}case Zt.ADD_PRECAUTION:return{...i,precautions:[...i.precautions,{precaution:"",id:i.precautions.length}]};case Zt.REMOVE_PRECAUTION:{const n=i.precautions.filter(s=>s.id!=e.payload.id);return{...i,precautions:n}}case Zt.SET_NAME:return{...i,name:e.payload.value};case Zt.SET_PURPOSE:return{...i,purpose:e.payload.value};case Zt.SET_CATEGORY:return{...i,category:e.payload.value};case Zt.SET_VIOLATION:return{...i,violation:{...i.violation,description:e.payload.value}};case Zt.SET_FINE:return{...i,violation:{...i.violation,fine:e.payload.value}};case Zt.SET_ISDANGER:return{...i,isDanger:e.payload.value};case Zt.RESET:return PA;default:return i}}const wM=["Road signs","Environmental sign","Facility signs","Guide signs","Health and safety signs","Informational signs","Regulatory signs","Utilities and Sustainability signs","Warning signs"];function RM(){const[i,e]=ae.useReducer(bM,PA),[n,s]=ae.useState(null),[o,u]=ae.useState(null),[f,m]=ae.useState(!1),p=ae.useCallback((ee,se)=>{e({type:Zt.SET_PRECAUTION,payload:{id:ee,value:se.target.value}})},[]),y=()=>{e({type:Zt.ADD_PRECAUTION})},v=ee=>{i.precautions.length!=1&&e({type:Zt.REMOVE_PRECAUTION,payload:{id:ee}})},A=ae.useRef(),b=ae.useRef(),V=()=>{e({type:Zt.SET_NAME,payload:{value:A.current.value}})},q=()=>{e({type:Zt.SET_PURPOSE,payload:{value:b.current.value}})},L=ee=>{e({type:Zt.SET_CATEGORY,payload:{value:ee.target.value}})},k=ee=>{const se=ee.target.files[0];if(s(se),se){const de=new FileReader;de.onloadend=()=>{u(de.result)},de.readAsDataURL(se)}else u(null)},ne=async()=>{if(n==null){alert("Please select an image for the sign");return}if(!i.name||!i.purpose||!i.category){alert("Please fill in all required fields (Name, Purpose, Category).");return}m(!0);try{const ee=_M(AM,`images/${i.name}`),se=await gM(ee,n),de=await yM(se.ref),ge={name:i.name,purpose:i.purpose,category:i.category,violation:{description:i.violation.description,fine:i.violation.fine},isDanger:i.isDanger,precautions:i.precautions.map(G=>G.precaution),imgUrl:de};await nx(rA(gA,"signs"),ge),e({type:Zt.RESET}),s(null),u(null),alert("Sign added successfully!"),console.log("UPLOADED")}catch(ee){console.log(ee),alert("Error adding sign. Please try again.")}finally{m(!1)}};return B.jsxs("div",{className:"add-sign-container",children:[B.jsxs("div",{className:"add-sign-header",children:[B.jsxs(FT,{to:"/home",className:"back-link",children:[B.jsx("span",{className:"back-arrow",children:""})," Back to Home"]}),B.jsx("h1",{className:"page-title",children:"Add New Traffic Sign"})]}),B.jsxs("div",{className:"main-content",children:[B.jsx("div",{className:"image-section",children:B.jsxs("div",{className:"image-upload-container",children:[B.jsx("h2",{className:"section-title",children:"Sign Image"}),B.jsxs("div",{className:"file-input-wrapper",children:[B.jsx("input",{type:"file",id:"image-upload",className:"file-input",accept:"image/*",onChange:k}),B.jsxs("label",{htmlFor:"image-upload",className:"file-input-label",children:[B.jsx("span",{className:"upload-icon",children:""}),"Choose Sign Image"]})]}),B.jsx("div",{className:"image-preview-container",children:o?B.jsxs("div",{className:"image-preview",children:[B.jsx("img",{src:o||"/placeholder.svg",alt:"Preview",className:"preview-image"}),B.jsxs("div",{className:"image-info",children:[B.jsx("p",{className:"image-name",children:n?.name}),B.jsxs("p",{className:"image-size",children:[n&&(n.size/1024/1024).toFixed(2)," MB"]})]})]}):B.jsxs("div",{className:"image-placeholder",children:[B.jsx("div",{className:"placeholder-icon",children:B.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[B.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),B.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),B.jsx("polyline",{points:"21,15 16,10 5,21"})]})}),B.jsx("p",{children:"No image selected"}),B.jsx("p",{className:"placeholder-hint",children:"Upload an image to see preview"})]})})]})}),B.jsx("div",{className:"form-section",children:B.jsxs("div",{className:"form-scroll-container",children:[B.jsxs("div",{className:"input-section",children:[B.jsx("h2",{className:"section-title",children:"Basic Information"}),B.jsxs("div",{className:"input-group",children:[B.jsx("label",{className:"input-label",children:"Sign Name"}),B.jsx("input",{type:"text",placeholder:"Enter the name of the sign",onChange:V,ref:A,value:i.name,className:"form-input"})]}),B.jsxs("div",{className:"input-group",children:[B.jsx("label",{className:"input-label",children:"Purpose"}),B.jsx("textarea",{placeholder:"Describe the purpose of this sign in detail...",onChange:q,ref:b,value:i.purpose,className:"form-textarea",rows:"3"})]}),B.jsxs("div",{className:"input-group",children:[B.jsx("label",{className:"input-label",children:"Category"}),B.jsxs("select",{className:"form-select",value:i.category,onChange:L,children:[B.jsx("option",{value:"",disabled:!0,children:"Select a category"}),wM.map(ee=>B.jsx("option",{value:ee,children:ee},ee))]})]})]}),B.jsxs("div",{className:"input-section",children:[B.jsx("h2",{className:"section-title",children:"Safety Precautions"}),B.jsx(IM,{precautions:i.precautions,addNewPrecaution:y,removePrecaution:v,handlePrecaution:p})]}),B.jsxs("div",{className:"input-section",children:[B.jsx("h2",{className:"section-title",children:"Danger Classification"}),B.jsx(DM,{distpatch:e,operations:Zt,isDanger:i.isDanger})]}),B.jsxs("div",{className:"input-section",children:[B.jsx("h2",{className:"section-title",children:"Violation Information"}),B.jsx(CM,{distpatch:e,operations:Zt,violation:i.violation})]}),B.jsx("div",{className:"form-actions",children:B.jsx("button",{onClick:ne,className:`submit-btn ${f?"loading":""}`,disabled:f,children:f?"Adding Sign...":"Add New Sign"})})]})})]})]})}function IM({precautions:i,addNewPrecaution:e,removePrecaution:n,handlePrecaution:s}){return B.jsxs("div",{className:"precautions-container",children:[B.jsx("div",{className:"precautions-header",children:B.jsxs("button",{onClick:e,className:"add-precaution-btn",children:[B.jsx("span",{className:"plus-icon",children:"+"}),"Add Precaution"]})}),B.jsx("div",{className:"precautions-list",children:i.map((o,u)=>B.jsxs("div",{className:"precaution-item",children:[B.jsx("div",{className:"precaution-number",children:u+1}),B.jsx("input",{type:"text",placeholder:"Enter safety precaution",onChange:f=>s(o.id,f),value:o.precaution,className:"precaution-input"}),B.jsx("button",{onClick:()=>n(o.id),className:"remove-precaution-btn",disabled:i.length===1,children:""})]},"precaution"+o.id))})]})}function CM({distpatch:i,operations:e,violation:n}){return B.jsxs("div",{className:"violations-container",children:[B.jsxs("div",{className:"input-group",children:[B.jsx("label",{className:"input-label",children:"Violation Description"}),B.jsx("input",{type:"text",placeholder:"Describe what constitutes a violation",value:n.description,className:"form-input",onChange:s=>{i({type:e.SET_VIOLATION,payload:{value:s.target.value}})}})]}),B.jsxs("div",{className:"input-group",children:[B.jsx("label",{className:"input-label",children:"Fine Amount"}),B.jsxs("div",{className:"currency-input-wrapper",children:[B.jsx("span",{className:"currency-symbol",children:"$"}),B.jsx("input",{type:"number",placeholder:"0.00",value:n.fine,className:"form-input currency-input",min:"0",step:"0.01",onChange:s=>{i({type:e.SET_FINE,payload:{value:s.target.value}})}})]})]})]})}function DM({distpatch:i,operations:e,isDanger:n}){const s=()=>{const o=!n;i({type:e.SET_ISDANGER,payload:{value:o}})};return B.jsx("div",{className:"danger-container",children:B.jsxs("div",{className:"toggle-wrapper",children:[B.jsxs("div",{className:"toggle-info",children:[B.jsx("span",{className:"toggle-label",children:"Danger Classification"}),B.jsx("span",{className:"toggle-description",children:"Mark this sign as potentially dangerous"})]}),B.jsxs("button",{type:"button",className:`toggle-switch ${n?"active":""}`,onClick:s,"aria-pressed":n,children:[B.jsx("span",{className:"toggle-slider"}),B.jsx("span",{className:"toggle-text",children:n?"ON":"OFF"})]})]})})}const NM=DR([{path:"/",element:B.jsx(sx,{}),errorElement:B.jsx(lx,{})},{path:"/home",element:B.jsx(ox,{})},{path:"/addsign",element:B.jsx(RM,{})}]);pw.createRoot(document.getElementById("root")).render(B.jsx(ae.StrictMode,{children:B.jsx(LR,{router:NM})}));
